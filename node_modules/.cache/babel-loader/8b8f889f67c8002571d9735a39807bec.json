{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport LocaleData from \"@ui5/webcomponents-localization/dist/LocaleData.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport CalendarHeader from \"./CalendarHeader.js\";\nimport DayPicker from \"./DayPicker.js\";\nimport MonthPicker from \"./MonthPicker.js\";\nimport YearPicker from \"./YearPicker.js\"; // Default calendar for bundling\n\nimport \"@ui5/webcomponents-localization/dist/features/calendar/Gregorian.js\"; // Template\n\nimport CalendarTemplate from \"./generated/templates/CalendarTemplate.lit.js\"; // Styles\n\nimport calendarCSS from \"./generated/themes/Calendar.css.js\";\n/**\n * @public\n */\n\nconst metadata = {\n  tag: \"ui5-calendar\",\n  properties:\n  /** @lends  sap.ui.webcomponents.main.Calendar.prototype */\n  {\n    /**\n     * Defines the UNIX timestamp - seconds since 00:00:00 UTC on Jan 1, 1970.\n     * @type {Integer}\n     * @public\n    */\n    timestamp: {\n      type: Integer\n    },\n\n    /**\n     * Defines the calendar type used for display.\n     * If not defined, the calendar type of the global configuration is used.\n     * Available options are: \"Gregorian\", \"Islamic\", \"Japanese\", \"Buddhist\" and \"Persian\".\n     * @type {CalendarType}\n     * @public\n     */\n    primaryCalendarType: {\n      type: CalendarType\n    },\n\n    /**\n     * Defines the selected dates as UTC timestamps.\n     * @type {Array}\n     * @public\n     */\n    selectedDates: {\n      type: Integer,\n      multiple: true\n    },\n\n    /**\n     * Determines the мinimum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    minDate: {\n      type: String\n    },\n\n    /**\n     * Determines the maximum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    maxDate: {\n      type: String\n    },\n    _header: {\n      type: Object\n    },\n    _oMonth: {\n      type: Object\n    },\n    _monthPicker: {\n      type: Object\n    },\n    _yearPicker: {\n      type: Object\n    },\n    _calendarWidth: {\n      type: String,\n      noAttribute: true\n    },\n    _calendarHeight: {\n      type: String,\n      noAttribute: true\n    },\n    formatPattern: {\n      type: String\n    }\n  },\n  events:\n  /** @lends  sap.ui.webcomponents.main.Calendar.prototype */\n  {\n    /**\n     * Fired when the selected dates changed.\n     * @event\n     * @param {Array} dates The selected dates' timestamps\n     * @public\n     */\n    selectedDatesChange: {\n      type: Array\n    }\n  }\n};\n/**\n * @class\n *\n * The <code>ui5-calendar</code> can be used standale to display the years, months, weeks and days,\n * but the main purpose of the <code>ui5-calendar</code> is to be used within a <code>ui5-datepicker</code>.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.Calendar\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-calendar\n * @public\n */\n\nclass Calendar extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get template() {\n    return CalendarTemplate;\n  }\n\n  static get styles() {\n    return calendarCSS;\n  }\n\n  constructor() {\n    super();\n    this._oLocale = getLocale();\n    this._oLocaleData = new LocaleData(this._oLocale);\n    this._header = {};\n    this._header.onPressPrevious = this._handlePrevious.bind(this);\n    this._header.onPressNext = this._handleNext.bind(this);\n    this._header.onBtn1Press = this._handleMonthButtonPress.bind(this);\n    this._header.onBtn2Press = this._handleYearButtonPress.bind(this);\n    this._oMonth = {};\n    this._oMonth.onSelectedDatesChange = this._handleSelectedDatesChange.bind(this);\n    this._oMonth.onNavigate = this._handleMonthNavigate.bind(this);\n    this._monthPicker = {};\n    this._monthPicker._hidden = true;\n    this._monthPicker.onSelectedMonthChange = this._handleSelectedMonthChange.bind(this);\n    this._yearPicker = {};\n    this._yearPicker._hidden = true;\n    this._yearPicker.onSelectedYearChange = this._handleSelectedYearChange.bind(this);\n    this._isShiftingYears = false;\n  }\n\n  onBeforeRendering() {\n    const oYearFormat = DateFormat.getDateInstance({\n      format: \"y\",\n      calendarType: this._primaryCalendarType\n    });\n    const minDateParsed = this.minDate && this.getFormat().parse(this.minDate);\n    const maxDateParsed = this.maxDate && this.getFormat().parse(this.maxDate);\n    const firstDayOfCalendarTimeStamp = -62135596800000;\n    let currentMonth = 0;\n    let currentYear = 1;\n\n    if ((this.minDate || this.maxDate) && this._timestamp && !this.isInValidRange(this._timestamp * 1000)) {\n      if (this._minDate) {\n        this.timestamp = this._minDate / 1000;\n      } else {\n        this.timestamp = new Date(firstDayOfCalendarTimeStamp).getTime() / 1000;\n      }\n    }\n\n    this._oMonth.formatPattern = this._formatPattern;\n    this._oMonth.timestamp = this._timestamp;\n    this._oMonth.selectedDates = [...this._selectedDates];\n    this._oMonth.primaryCalendarType = this._primaryCalendarType;\n    this._oMonth.minDate = this.minDate;\n    this._oMonth.maxDate = this.maxDate;\n    this._header.monthText = this._oLocaleData.getMonths(\"wide\", this._primaryCalendarType)[this._month];\n    this._header.yearText = oYearFormat.format(this._localDate);\n    currentMonth = this.timestamp && CalendarDate.fromTimestamp(this.timestamp * 1000).getMonth();\n    currentYear = this.timestamp && CalendarDate.fromTimestamp(this.timestamp * 1000).getYear(); // month picker\n\n    this._monthPicker.primaryCalendarType = this._primaryCalendarType;\n    this._monthPicker.timestamp = this._timestamp;\n    this._yearPicker.primaryCalendarType = this._primaryCalendarType;\n\n    if (!this._isShiftingYears) {\n      // year picker\n      this._yearPicker.timestamp = this._timestamp;\n    }\n\n    this._isShiftingYears = false;\n\n    if (!this._oMonth._hidden) {\n      if (this.minDate && minDateParsed.getMonth() === currentMonth && minDateParsed.getFullYear() === currentYear) {\n        this._header._isPrevButtonDisabled = true;\n      } else {\n        this._header._isPrevButtonDisabled = false;\n      }\n\n      if (this.maxDate && maxDateParsed.getMonth() === currentMonth && maxDateParsed.getFullYear() === currentYear) {\n        this._header._isNextButtonDisabled = true;\n      } else {\n        this._header._isNextButtonDisabled = false;\n      }\n    }\n\n    if (!this._yearPicker._hidden) {\n      currentYear = this._yearPicker.timestamp && CalendarDate.fromTimestamp(this._yearPicker.timestamp * 1000).getYear();\n\n      if (this.minDate && currentYear - minDateParsed.getFullYear() < 1) {\n        this._header._isPrevButtonDisabled = true;\n      } else {\n        this._header._isPrevButtonDisabled = false;\n      }\n\n      if (this.maxDate && maxDateParsed.getFullYear() - currentYear < 1) {\n        this._header._isNextButtonDisabled = true;\n      } else {\n        this._header._isNextButtonDisabled = false;\n      }\n    }\n  }\n\n  get _timestamp() {\n    return this.timestamp !== undefined ? this.timestamp : Math.floor(new Date().getTime() / 1000);\n  }\n\n  get _localDate() {\n    return new Date(this._timestamp * 1000);\n  }\n\n  get _calendarDate() {\n    return CalendarDate.fromTimestamp(this._localDate.getTime(), this._primaryCalendarType);\n  }\n\n  get _month() {\n    return this._calendarDate.getMonth();\n  }\n\n  get _primaryCalendarType() {\n    return this.primaryCalendarType || getCalendarType() || LocaleData.getInstance(getLocale()).getPreferredCalendarType();\n  }\n\n  get _formatPattern() {\n    return this.formatPattern || \"medium\"; // get from config\n  }\n\n  get _isPattern() {\n    return this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n  }\n\n  get _selectedDates() {\n    return this.selectedDates || [];\n  }\n\n  get _maxDate() {\n    if (this.maxDate) {\n      const jsDate = new Date(this.getFormat().parse(this.maxDate).getFullYear(), this.getFormat().parse(this.maxDate).getMonth(), this.getFormat().parse(this.maxDate).getDate());\n      const oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n      return oCalDate.valueOf();\n    }\n\n    return this.maxDate;\n  }\n\n  get _minDate() {\n    if (this.minDate) {\n      const jsDate = new Date(this.getFormat().parse(this.minDate).getFullYear(), this.getFormat().parse(this.minDate).getMonth(), this.getFormat().parse(this.minDate).getDate());\n      const oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n      return oCalDate.valueOf();\n    }\n\n    return this.minDate;\n  }\n\n  _handleSelectedDatesChange(event) {\n    this.selectedDates = [...event.detail.dates];\n    this.fireEvent(\"selectedDatesChange\", {\n      dates: event.detail.dates\n    });\n  }\n\n  _handleMonthNavigate(event) {\n    this.timestamp = event.detail.timestamp;\n  }\n\n  _handleSelectedMonthChange(event) {\n    const oNewDate = this._calendarDate;\n    const newMonthIndex = CalendarDate.fromTimestamp(event.detail.timestamp * 1000, this._primaryCalendarType).getMonth();\n    oNewDate.setMonth(newMonthIndex);\n    this.timestamp = oNewDate.valueOf() / 1000;\n\n    this._hideMonthPicker();\n\n    this._focusFirstDayOfMonth(oNewDate);\n  }\n\n  _focusFirstDayOfMonth(targetDate) {\n    let fistDayOfMonthIndex = -1; // focus first day of the month\n\n    const dayPicker = this.shadowRoot.querySelector(\"ui5-daypicker\");\n\n    dayPicker._getVisibleDays(targetDate).forEach((date, index) => {\n      if (date.getDate() === 1 && fistDayOfMonthIndex === -1) {\n        fistDayOfMonthIndex = index;\n      }\n    });\n\n    dayPicker._itemNav.currentIndex = fistDayOfMonthIndex;\n\n    dayPicker._itemNav.focusCurrent();\n  }\n\n  _handleSelectedYearChange(event) {\n    const oNewDate = CalendarDate.fromTimestamp(event.detail.timestamp * 1000, this._primaryCalendarType);\n    oNewDate.setMonth(0);\n    oNewDate.setDate(1);\n    this.timestamp = oNewDate.valueOf() / 1000;\n\n    this._hideYearPicker();\n\n    this._focusFirstDayOfMonth(oNewDate);\n  }\n\n  _handleMonthButtonPress() {\n    this._hideYearPicker();\n\n    this[`_${this._monthPicker._hidden ? \"show\" : \"hide\"}MonthPicker`]();\n  }\n\n  _handleYearButtonPress() {\n    this._hideMonthPicker();\n\n    this[`_${this._yearPicker._hidden ? \"show\" : \"hide\"}YearPicker`]();\n  }\n\n  _handlePrevious() {\n    if (this._monthPicker._hidden && this._yearPicker._hidden) {\n      this._showPrevMonth();\n    } else if (this._monthPicker._hidden && !this._yearPicker._hidden) {\n      this._showPrevPageYears();\n    } else if (!this._monthPicker._hidden && this._yearPicker._hidden) {\n      this._showPrevYear();\n    }\n  }\n\n  _handleNext() {\n    if (this._monthPicker._hidden && this._yearPicker._hidden) {\n      this._showNextMonth();\n    } else if (this._monthPicker._hidden && !this._yearPicker._hidden) {\n      this._showNextPageYears();\n    } else if (!this._monthPicker._hidden && this._yearPicker._hidden) {\n      this._showNextYear();\n    }\n  }\n\n  _showNextMonth() {\n    const nextMonth = this._calendarDate;\n    nextMonth.setDate(1);\n    nextMonth.setMonth(nextMonth.getMonth() + 1);\n\n    if (nextMonth.getYear() > YearPicker._MAX_YEAR) {\n      return;\n    }\n\n    if (!this.isInValidRange(nextMonth.toLocalJSDate().valueOf())) {\n      return;\n    }\n\n    this._focusFirstDayOfMonth(nextMonth);\n\n    this.timestamp = nextMonth.valueOf() / 1000;\n  }\n\n  _showPrevMonth() {\n    let iNewMonth = this._month - 1,\n        iNewYear = this._calendarDate.getYear(); // focus first day of the month\n\n\n    const dayPicker = this.shadowRoot.querySelector(\"ui5-daypicker\");\n\n    const currentMonthDate = dayPicker._calendarDate.setMonth(dayPicker._calendarDate.getMonth());\n\n    const lastMonthDate = dayPicker._calendarDate.setMonth(dayPicker._calendarDate.getMonth() - 1); // set the date to last day of last month\n\n\n    currentMonthDate.setDate(-1); // find the index of the last day\n\n    let lastDayOfMonthIndex = -1;\n\n    if (!this.isInValidRange(currentMonthDate.toLocalJSDate().valueOf())) {\n      return;\n    }\n\n    dayPicker._getVisibleDays(lastMonthDate).forEach((date, index) => {\n      const isSameDate = currentMonthDate.getDate() === date.getDate();\n      const isSameMonth = currentMonthDate.getMonth() === date.getMonth();\n\n      if (isSameDate && isSameMonth) {\n        lastDayOfMonthIndex = index + 1;\n      }\n    });\n\n    const weekDaysCount = 7;\n\n    if (lastDayOfMonthIndex !== -1) {\n      // find the DOM for the last day index\n      const lastDay = dayPicker.shadowRoot.querySelector(\".ui5-dp-items-container\").children[parseInt(lastDayOfMonthIndex / weekDaysCount)].children[lastDayOfMonthIndex % weekDaysCount]; // update current item in ItemNavigation\n\n      dayPicker._itemNav.current = lastDayOfMonthIndex; // focus the item\n\n      lastDay.focus();\n    }\n\n    if (iNewMonth > 11) {\n      iNewMonth = 0;\n      iNewYear = this._calendarDate.getYear() + 1;\n    }\n\n    if (iNewMonth < 0) {\n      iNewMonth = 11;\n      iNewYear = this._calendarDate.getYear() - 1;\n    }\n\n    const oNewDate = this._calendarDate;\n    oNewDate.setYear(iNewYear);\n    oNewDate.setMonth(iNewMonth);\n\n    if (oNewDate.getYear() < YearPicker._MIN_YEAR) {\n      return;\n    }\n\n    this.timestamp = oNewDate.valueOf() / 1000;\n  }\n\n  _showNextYear() {\n    if (this._calendarDate.getYear() === YearPicker._MAX_YEAR) {\n      return;\n    }\n\n    const oNewDate = this._calendarDate;\n    oNewDate.setYear(this._calendarDate.getYear() + 1);\n    this.timestamp = oNewDate.valueOf() / 1000;\n  }\n\n  _showPrevYear() {\n    if (this._calendarDate.getYear() === YearPicker._MIN_YEAR) {\n      return;\n    }\n\n    const oNewDate = this._calendarDate;\n    oNewDate.setYear(this._calendarDate.getYear() - 1);\n    this.timestamp = oNewDate.valueOf() / 1000;\n  }\n\n  _showNextPageYears() {\n    if (!this._isYearInRange(this._yearPicker.timestamp, YearPicker._ITEMS_COUNT - YearPicker._MIDDLE_ITEM_INDEX, YearPicker._MIN_YEAR, YearPicker._MAX_YEAR)) {\n      return;\n    }\n\n    if (this.minDate && !this._isYearInRange(this._yearPicker.timestamp, YearPicker._ITEMS_COUNT - YearPicker._MIDDLE_ITEM_INDEX, this.getFormat().parse(this.minDate).getFullYear(), YearPicker._MAX_YEAR)) {\n      return;\n    }\n\n    if (this.maxDate && !this._isYearInRange(this._yearPicker.timestamp, YearPicker._ITEMS_COUNT - YearPicker._MIDDLE_ITEM_INDEX, YearPicker._MIN_YEAR, this.getFormat().parse(this.maxDate).getFullYear())) {\n      return;\n    }\n\n    this._yearPicker = Object.assign({}, this._yearPicker, {\n      timestamp: this._yearPicker.timestamp + 31536000 * YearPicker._ITEMS_COUNT\n    });\n    this._isShiftingYears = true;\n  }\n\n  _showPrevPageYears() {\n    if (!this._isYearInRange(this._yearPicker.timestamp, -YearPicker._MIDDLE_ITEM_INDEX - 1, YearPicker._MIN_YEAR, YearPicker._MAX_YEAR)) {\n      return;\n    }\n\n    if (this.minDate && !this._isYearInRange(this._yearPicker.timestamp, -YearPicker._MIDDLE_ITEM_INDEX - 1, this.getFormat().parse(this.minDate).getFullYear(), YearPicker._MAX_YEAR)) {\n      return;\n    }\n\n    if (this.maxDate && !this._isYearInRange(this._yearPicker.timestamp, -YearPicker._MIDDLE_ITEM_INDEX - 1, YearPicker._MIN_YEAR, this.getFormat().parse(this.maxDate).getFullYear())) {\n      return;\n    }\n\n    this._yearPicker = Object.assign({}, this._yearPicker, {\n      timestamp: this._yearPicker.timestamp - 31536000 * YearPicker._ITEMS_COUNT\n    });\n    this._isShiftingYears = true;\n  }\n\n  _showMonthPicker() {\n    this._monthPicker = Object.assign({}, this._monthPicker);\n    this._oMonth = Object.assign({}, this._oMonth);\n    this._monthPicker.timestamp = this._timestamp;\n    this._monthPicker._hidden = false;\n    this._oMonth._hidden = true;\n    const calendarRect = this.shadowRoot.querySelector(\".ui5-cal-root\").getBoundingClientRect();\n    this._calendarWidth = calendarRect.width.toString();\n    this._calendarHeight = calendarRect.height.toString();\n  }\n\n  _showYearPicker() {\n    this._yearPicker = Object.assign({}, this._yearPicker);\n    this._oMonth = Object.assign({}, this._oMonth);\n    this._yearPicker.timestamp = this._timestamp;\n    this._yearPicker._selectedYear = this._calendarDate.getYear();\n    this._yearPicker._hidden = false;\n    this._oMonth._hidden = true;\n    const calendarRect = this.shadowRoot.querySelector(\".ui5-cal-root\").getBoundingClientRect();\n    this._calendarWidth = calendarRect.width.toString();\n    this._calendarHeight = calendarRect.height.toString();\n  }\n\n  _hideMonthPicker() {\n    this._monthPicker = Object.assign({}, this._monthPicker);\n    this._oMonth = Object.assign({}, this._oMonth);\n    this._monthPicker._hidden = true;\n    this._oMonth._hidden = false;\n  }\n\n  _hideYearPicker() {\n    this._yearPicker = Object.assign({}, this._yearPicker);\n    this._oMonth = Object.assign({}, this._oMonth);\n    this._yearPicker._hidden = true;\n    this._oMonth._hidden = false;\n  }\n\n  _isYearInRange(timestamp, yearsoffset, min, max) {\n    if (timestamp) {\n      const oCalDate = CalendarDate.fromTimestamp(timestamp * 1000, this._primaryCalendarType);\n      oCalDate.setMonth(0);\n      oCalDate.setDate(1);\n      oCalDate.setYear(oCalDate.getYear() + yearsoffset);\n      return oCalDate.getYear() >= min && oCalDate.getYear() <= max;\n    }\n  }\n\n  get classes() {\n    return {\n      main: {\n        \"ui5-cal-root\": true\n      },\n      dayPicker: {\n        \".ui5-daypicker--hidden\": !this._yearPicker._hidden || !this._monthPicker._hidden\n      },\n      yearPicker: {\n        \"ui5-yearpicker--hidden\": this._yearPicker._hidden\n      },\n      monthPicker: {\n        \"ui5-monthpicker--hidden\": this._monthPicker._hidden\n      }\n    };\n  }\n  /**\n   * Checks if a date is in range between minimum and maximum date\n   * @param {object} value\n   * @public\n   */\n\n\n  isInValidRange(value = \"\") {\n    const pickedDate = CalendarDate.fromTimestamp(value).toLocalJSDate(),\n          minDate = this._minDate && new Date(this._minDate),\n          maxDate = this._maxDate && new Date(this._maxDate);\n\n    if (minDate && maxDate) {\n      if (minDate <= pickedDate && maxDate >= pickedDate) {\n        return true;\n      }\n    } else if (minDate && !maxDate) {\n      if (minDate <= pickedDate) {\n        return true;\n      }\n    } else if (maxDate && !minDate) {\n      if (maxDate >= pickedDate) {\n        return true;\n      }\n    } else if (!maxDate && !minDate) {\n      return true;\n    }\n\n    return false;\n  }\n\n  getFormat() {\n    if (this._isPattern) {\n      this._oDateFormat = DateFormat.getInstance({\n        pattern: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    } else {\n      this._oDateFormat = DateFormat.getInstance({\n        style: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    }\n\n    return this._oDateFormat;\n  }\n\n  get styles() {\n    return {\n      main: {\n        \"height\": `${this._calendarHeight ? `${this._calendarHeight}px` : \"auto\"}`,\n        \"width\": `${this._calendarWidth ? `${this._calendarWidth}px` : \"auto\"}`\n      }\n    };\n  }\n\n  static async onDefine() {\n    await Promise.all([fetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()), CalendarHeader.define(), DayPicker.define(), MonthPicker.define(), YearPicker.define()]);\n  }\n\n}\n\nCalendar.define();\nexport default Calendar;","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents/dist/Calendar.js"],"names":["UI5Element","litRender","fetchCldr","getCalendarType","getLocale","DateFormat","LocaleData","CalendarDate","CalendarType","Integer","CalendarHeader","DayPicker","MonthPicker","YearPicker","CalendarTemplate","calendarCSS","metadata","tag","properties","timestamp","type","primaryCalendarType","selectedDates","multiple","minDate","String","maxDate","_header","Object","_oMonth","_monthPicker","_yearPicker","_calendarWidth","noAttribute","_calendarHeight","formatPattern","events","selectedDatesChange","Array","Calendar","render","template","styles","constructor","_oLocale","_oLocaleData","onPressPrevious","_handlePrevious","bind","onPressNext","_handleNext","onBtn1Press","_handleMonthButtonPress","onBtn2Press","_handleYearButtonPress","onSelectedDatesChange","_handleSelectedDatesChange","onNavigate","_handleMonthNavigate","_hidden","onSelectedMonthChange","_handleSelectedMonthChange","onSelectedYearChange","_handleSelectedYearChange","_isShiftingYears","onBeforeRendering","oYearFormat","getDateInstance","format","calendarType","_primaryCalendarType","minDateParsed","getFormat","parse","maxDateParsed","firstDayOfCalendarTimeStamp","currentMonth","currentYear","_timestamp","isInValidRange","_minDate","Date","getTime","_formatPattern","_selectedDates","monthText","getMonths","_month","yearText","_localDate","fromTimestamp","getMonth","getYear","getFullYear","_isPrevButtonDisabled","_isNextButtonDisabled","undefined","Math","floor","_calendarDate","getInstance","getPreferredCalendarType","_isPattern","_maxDate","jsDate","getDate","oCalDate","valueOf","event","detail","dates","fireEvent","oNewDate","newMonthIndex","setMonth","_hideMonthPicker","_focusFirstDayOfMonth","targetDate","fistDayOfMonthIndex","dayPicker","shadowRoot","querySelector","_getVisibleDays","forEach","date","index","_itemNav","currentIndex","focusCurrent","setDate","_hideYearPicker","_showPrevMonth","_showPrevPageYears","_showPrevYear","_showNextMonth","_showNextPageYears","_showNextYear","nextMonth","_MAX_YEAR","toLocalJSDate","iNewMonth","iNewYear","currentMonthDate","lastMonthDate","lastDayOfMonthIndex","isSameDate","isSameMonth","weekDaysCount","lastDay","children","parseInt","current","focus","setYear","_MIN_YEAR","_isYearInRange","_ITEMS_COUNT","_MIDDLE_ITEM_INDEX","assign","_showMonthPicker","calendarRect","getBoundingClientRect","width","toString","height","_showYearPicker","_selectedYear","yearsoffset","min","max","classes","main","yearPicker","monthPicker","value","pickedDate","_oDateFormat","pattern","style","onDefine","Promise","all","getLanguage","getRegion","getScript","define"],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport LocaleData from \"@ui5/webcomponents-localization/dist/LocaleData.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport CalendarHeader from \"./CalendarHeader.js\";\nimport DayPicker from \"./DayPicker.js\";\nimport MonthPicker from \"./MonthPicker.js\";\nimport YearPicker from \"./YearPicker.js\";\n\n// Default calendar for bundling\nimport \"@ui5/webcomponents-localization/dist/features/calendar/Gregorian.js\";\n\n// Template\nimport CalendarTemplate from \"./generated/templates/CalendarTemplate.lit.js\";\n\n// Styles\nimport calendarCSS from \"./generated/themes/Calendar.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-calendar\",\n\tproperties: /** @lends  sap.ui.webcomponents.main.Calendar.prototype */ {\n\t\t/**\n\t\t * Defines the UNIX timestamp - seconds since 00:00:00 UTC on Jan 1, 1970.\n\t\t * @type {Integer}\n\t\t * @public\n\t\t*/\n\t\ttimestamp: {\n\t\t\ttype: Integer,\n\t\t},\n\n\t\t/**\n\t\t * Defines the calendar type used for display.\n\t\t * If not defined, the calendar type of the global configuration is used.\n\t\t * Available options are: \"Gregorian\", \"Islamic\", \"Japanese\", \"Buddhist\" and \"Persian\".\n\t\t * @type {CalendarType}\n\t\t * @public\n\t\t */\n\t\tprimaryCalendarType: {\n\t\t\ttype: CalendarType,\n\t\t},\n\n\t\t/**\n\t\t * Defines the selected dates as UTC timestamps.\n\t\t * @type {Array}\n\t\t * @public\n\t\t */\n\t\tselectedDates: {\n\t\t\ttype: Integer,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t/**\n\t\t * Determines the мinimum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tminDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines the maximum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tmaxDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t_header: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_oMonth: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_monthPicker: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_yearPicker: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_calendarWidth: {\n\t\t\ttype: String,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_calendarHeight: {\n\t\t\ttype: String,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\tformatPattern: {\n\t\t\ttype: String,\n\t\t},\n\t},\n\tevents: /** @lends  sap.ui.webcomponents.main.Calendar.prototype */ {\n\t\t/**\n\t\t * Fired when the selected dates changed.\n\t\t * @event\n\t\t * @param {Array} dates The selected dates' timestamps\n\t\t * @public\n\t\t */\n\t\tselectedDatesChange: { type: Array },\n\t},\n};\n\n/**\n * @class\n *\n * The <code>ui5-calendar</code> can be used standale to display the years, months, weeks and days,\n * but the main purpose of the <code>ui5-calendar</code> is to be used within a <code>ui5-datepicker</code>.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.Calendar\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-calendar\n * @public\n */\nclass Calendar extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn CalendarTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn calendarCSS;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._oLocale = getLocale();\n\t\tthis._oLocaleData = new LocaleData(this._oLocale);\n\t\tthis._header = {};\n\t\tthis._header.onPressPrevious = this._handlePrevious.bind(this);\n\t\tthis._header.onPressNext = this._handleNext.bind(this);\n\t\tthis._header.onBtn1Press = this._handleMonthButtonPress.bind(this);\n\t\tthis._header.onBtn2Press = this._handleYearButtonPress.bind(this);\n\n\t\tthis._oMonth = {};\n\t\tthis._oMonth.onSelectedDatesChange = this._handleSelectedDatesChange.bind(this);\n\t\tthis._oMonth.onNavigate = this._handleMonthNavigate.bind(this);\n\n\t\tthis._monthPicker = {};\n\t\tthis._monthPicker._hidden = true;\n\t\tthis._monthPicker.onSelectedMonthChange = this._handleSelectedMonthChange.bind(this);\n\n\t\tthis._yearPicker = {};\n\t\tthis._yearPicker._hidden = true;\n\t\tthis._yearPicker.onSelectedYearChange = this._handleSelectedYearChange.bind(this);\n\n\t\tthis._isShiftingYears = false;\n\t}\n\n\tonBeforeRendering() {\n\t\tconst oYearFormat = DateFormat.getDateInstance({ format: \"y\", calendarType: this._primaryCalendarType });\n\t\tconst minDateParsed = this.minDate && this.getFormat().parse(this.minDate);\n\t\tconst maxDateParsed = this.maxDate && this.getFormat().parse(this.maxDate);\n\t\tconst firstDayOfCalendarTimeStamp = -62135596800000;\n\t\tlet currentMonth = 0;\n\t\tlet currentYear = 1;\n\n\t\tif ((this.minDate || this.maxDate) && this._timestamp && !this.isInValidRange(this._timestamp * 1000)) {\n\t\t\tif (this._minDate) {\n\t\t\t\tthis.timestamp = this._minDate / 1000;\n\t\t\t} else {\n\t\t\t\tthis.timestamp = (new Date(firstDayOfCalendarTimeStamp)).getTime() / 1000;\n\t\t\t}\n\t\t}\n\n\t\tthis._oMonth.formatPattern = this._formatPattern;\n\t\tthis._oMonth.timestamp = this._timestamp;\n\t\tthis._oMonth.selectedDates = [...this._selectedDates];\n\t\tthis._oMonth.primaryCalendarType = this._primaryCalendarType;\n\t\tthis._oMonth.minDate = this.minDate;\n\t\tthis._oMonth.maxDate = this.maxDate;\n\t\tthis._header.monthText = this._oLocaleData.getMonths(\"wide\", this._primaryCalendarType)[this._month];\n\t\tthis._header.yearText = oYearFormat.format(this._localDate);\n\t\tcurrentMonth = this.timestamp && CalendarDate.fromTimestamp(this.timestamp * 1000).getMonth();\n\t\tcurrentYear = this.timestamp && CalendarDate.fromTimestamp(this.timestamp * 1000).getYear();\n\n\t\t// month picker\n\t\tthis._monthPicker.primaryCalendarType = this._primaryCalendarType;\n\t\tthis._monthPicker.timestamp = this._timestamp;\n\n\t\tthis._yearPicker.primaryCalendarType = this._primaryCalendarType;\n\n\t\tif (!this._isShiftingYears) {\n\t\t\t// year picker\n\t\t\tthis._yearPicker.timestamp = this._timestamp;\n\t\t}\n\n\t\tthis._isShiftingYears = false;\n\n\t\tif (!this._oMonth._hidden) {\n\t\t\tif (this.minDate\n\t\t\t\t&& minDateParsed.getMonth() === currentMonth\n\t\t\t\t&& minDateParsed.getFullYear() === currentYear) {\n\t\t\t\tthis._header._isPrevButtonDisabled = true;\n\t\t\t} else {\n\t\t\t\tthis._header._isPrevButtonDisabled = false;\n\t\t\t}\n\n\t\t\tif (this.maxDate\n\t\t\t\t&& maxDateParsed.getMonth() === currentMonth\n\t\t\t\t&& maxDateParsed.getFullYear() === currentYear) {\n\t\t\t\tthis._header._isNextButtonDisabled = true;\n\t\t\t} else {\n\t\t\t\tthis._header._isNextButtonDisabled = false;\n\t\t\t}\n\t\t}\n\n\t\tif (!this._yearPicker._hidden) {\n\t\t\tcurrentYear = this._yearPicker.timestamp && CalendarDate.fromTimestamp(this._yearPicker.timestamp * 1000).getYear();\n\t\t\tif (this.minDate\n\t\t\t\t&& (currentYear - minDateParsed.getFullYear()) < 1) {\n\t\t\t\tthis._header._isPrevButtonDisabled = true;\n\t\t\t} else {\n\t\t\t\tthis._header._isPrevButtonDisabled = false;\n\t\t\t}\n\n\t\t\tif (this.maxDate\n\t\t\t\t&& (maxDateParsed.getFullYear() - currentYear) < 1) {\n\t\t\t\tthis._header._isNextButtonDisabled = true;\n\t\t\t} else {\n\t\t\t\tthis._header._isNextButtonDisabled = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tget _timestamp() {\n\t\treturn this.timestamp !== undefined ? this.timestamp : Math.floor(new Date().getTime() / 1000);\n\t}\n\n\tget _localDate() {\n\t\treturn new Date(this._timestamp * 1000);\n\t}\n\n\tget _calendarDate() {\n\t\treturn CalendarDate.fromTimestamp(this._localDate.getTime(), this._primaryCalendarType);\n\t}\n\n\tget _month() {\n\t\treturn this._calendarDate.getMonth();\n\t}\n\n\tget _primaryCalendarType() {\n\t\treturn this.primaryCalendarType || getCalendarType() || LocaleData.getInstance(getLocale()).getPreferredCalendarType();\n\t}\n\n\tget _formatPattern() {\n\t\treturn this.formatPattern || \"medium\"; // get from config\n\t}\n\n\tget _isPattern() {\n\t\treturn this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n\t}\n\n\tget _selectedDates() {\n\t\treturn this.selectedDates || [];\n\t}\n\n\tget _maxDate() {\n\t\tif (this.maxDate) {\n\t\t\tconst jsDate = new Date(this.getFormat().parse(this.maxDate).getFullYear(), this.getFormat().parse(this.maxDate).getMonth(), this.getFormat().parse(this.maxDate).getDate());\n\t\t\tconst oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n\t\t\treturn oCalDate.valueOf();\n\t\t}\n\n\t\treturn this.maxDate;\n\t}\n\n\tget _minDate() {\n\t\tif (this.minDate) {\n\t\t\tconst jsDate = new Date(this.getFormat().parse(this.minDate).getFullYear(), this.getFormat().parse(this.minDate).getMonth(), this.getFormat().parse(this.minDate).getDate());\n\t\t\tconst oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n\t\t\treturn oCalDate.valueOf();\n\t\t}\n\t\treturn this.minDate;\n\t}\n\n\t_handleSelectedDatesChange(event) {\n\t\tthis.selectedDates = [...event.detail.dates];\n\n\t\tthis.fireEvent(\"selectedDatesChange\", { dates: event.detail.dates });\n\t}\n\n\t_handleMonthNavigate(event) {\n\t\tthis.timestamp = event.detail.timestamp;\n\t}\n\n\t_handleSelectedMonthChange(event) {\n\t\tconst oNewDate = this._calendarDate;\n\t\tconst newMonthIndex = CalendarDate.fromTimestamp(\n\t\t\tevent.detail.timestamp * 1000,\n\t\t\tthis._primaryCalendarType\n\t\t).getMonth();\n\n\t\toNewDate.setMonth(newMonthIndex);\n\t\tthis.timestamp = oNewDate.valueOf() / 1000;\n\n\t\tthis._hideMonthPicker();\n\n\t\tthis._focusFirstDayOfMonth(oNewDate);\n\t}\n\n\t_focusFirstDayOfMonth(targetDate) {\n\t\tlet fistDayOfMonthIndex = -1;\n\n\t\t// focus first day of the month\n\t\tconst dayPicker = this.shadowRoot.querySelector(\"ui5-daypicker\");\n\n\t\tdayPicker._getVisibleDays(targetDate).forEach((date, index) => {\n\t\t\tif (date.getDate() === 1 && (fistDayOfMonthIndex === -1)) {\n\t\t\t\tfistDayOfMonthIndex = index;\n\t\t\t}\n\t\t});\n\n\t\tdayPicker._itemNav.currentIndex = fistDayOfMonthIndex;\n\t\tdayPicker._itemNav.focusCurrent();\n\t}\n\n\t_handleSelectedYearChange(event) {\n\t\tconst oNewDate = CalendarDate.fromTimestamp(\n\t\t\tevent.detail.timestamp * 1000,\n\t\t\tthis._primaryCalendarType\n\t\t);\n\t\toNewDate.setMonth(0);\n\t\toNewDate.setDate(1);\n\n\t\tthis.timestamp = oNewDate.valueOf() / 1000;\n\n\t\tthis._hideYearPicker();\n\n\t\tthis._focusFirstDayOfMonth(oNewDate);\n\t}\n\n\t_handleMonthButtonPress() {\n\t\tthis._hideYearPicker();\n\n\t\tthis[`_${this._monthPicker._hidden ? \"show\" : \"hide\"}MonthPicker`]();\n\t}\n\n\t_handleYearButtonPress() {\n\t\tthis._hideMonthPicker();\n\n\t\tthis[`_${this._yearPicker._hidden ? \"show\" : \"hide\"}YearPicker`]();\n\t}\n\n\t_handlePrevious() {\n\t\tif (this._monthPicker._hidden && this._yearPicker._hidden) {\n\t\t\tthis._showPrevMonth();\n\t\t} else if (this._monthPicker._hidden && !this._yearPicker._hidden) {\n\t\t\tthis._showPrevPageYears();\n\t\t} else if (!this._monthPicker._hidden && this._yearPicker._hidden) {\n\t\t\tthis._showPrevYear();\n\t\t}\n\t}\n\n\t_handleNext() {\n\t\tif (this._monthPicker._hidden && this._yearPicker._hidden) {\n\t\t\tthis._showNextMonth();\n\t\t} else if (this._monthPicker._hidden && !this._yearPicker._hidden) {\n\t\t\tthis._showNextPageYears();\n\t\t} else if (!this._monthPicker._hidden && this._yearPicker._hidden) {\n\t\t\tthis._showNextYear();\n\t\t}\n\t}\n\n\t_showNextMonth() {\n\t\tconst nextMonth = this._calendarDate;\n\t\tnextMonth.setDate(1);\n\t\tnextMonth.setMonth(nextMonth.getMonth() + 1);\n\n\t\tif (nextMonth.getYear() > YearPicker._MAX_YEAR) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.isInValidRange(nextMonth.toLocalJSDate().valueOf())) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._focusFirstDayOfMonth(nextMonth);\n\t\tthis.timestamp = nextMonth.valueOf() / 1000;\n\t}\n\n\t_showPrevMonth() {\n\t\tlet iNewMonth = this._month - 1,\n\t\t\tiNewYear = this._calendarDate.getYear();\n\n\t\t// focus first day of the month\n\t\tconst dayPicker = this.shadowRoot.querySelector(\"ui5-daypicker\");\n\t\tconst currentMonthDate = dayPicker._calendarDate.setMonth(dayPicker._calendarDate.getMonth());\n\t\tconst lastMonthDate = dayPicker._calendarDate.setMonth(dayPicker._calendarDate.getMonth() - 1);\n\n\t\t// set the date to last day of last month\n\t\tcurrentMonthDate.setDate(-1);\n\n\t\t// find the index of the last day\n\t\tlet lastDayOfMonthIndex = -1;\n\n\t\tif (!this.isInValidRange(currentMonthDate.toLocalJSDate().valueOf())) {\n\t\t\treturn;\n\t\t}\n\n\t\tdayPicker._getVisibleDays(lastMonthDate).forEach((date, index) => {\n\t\t\tconst isSameDate = currentMonthDate.getDate() === date.getDate();\n\t\t\tconst isSameMonth = currentMonthDate.getMonth() === date.getMonth();\n\n\t\t\tif (isSameDate && isSameMonth) {\n\t\t\t\tlastDayOfMonthIndex = (index + 1);\n\t\t\t}\n\t\t});\n\n\t\tconst weekDaysCount = 7;\n\n\t\tif (lastDayOfMonthIndex !== -1) {\n\t\t\t// find the DOM for the last day index\n\t\t\tconst lastDay = dayPicker.shadowRoot.querySelector(\".ui5-dp-items-container\").children[parseInt(lastDayOfMonthIndex / weekDaysCount)].children[(lastDayOfMonthIndex % weekDaysCount)];\n\n\t\t\t// update current item in ItemNavigation\n\t\t\tdayPicker._itemNav.current = lastDayOfMonthIndex;\n\n\t\t\t// focus the item\n\t\t\tlastDay.focus();\n\t\t}\n\n\t\tif (iNewMonth > 11) {\n\t\t\tiNewMonth = 0;\n\t\t\tiNewYear = this._calendarDate.getYear() + 1;\n\t\t}\n\n\t\tif (iNewMonth < 0) {\n\t\t\tiNewMonth = 11;\n\t\t\tiNewYear = this._calendarDate.getYear() - 1;\n\t\t}\n\n\t\tconst oNewDate = this._calendarDate;\n\t\toNewDate.setYear(iNewYear);\n\t\toNewDate.setMonth(iNewMonth);\n\n\n\t\tif (oNewDate.getYear() < YearPicker._MIN_YEAR) {\n\t\t\treturn;\n\t\t}\n\t\tthis.timestamp = oNewDate.valueOf() / 1000;\n\t}\n\n\t_showNextYear() {\n\t\tif (this._calendarDate.getYear() === YearPicker._MAX_YEAR) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst oNewDate = this._calendarDate;\n\t\toNewDate.setYear(this._calendarDate.getYear() + 1);\n\n\t\tthis.timestamp = oNewDate.valueOf() / 1000;\n\t}\n\n\t_showPrevYear() {\n\t\tif (this._calendarDate.getYear() === YearPicker._MIN_YEAR) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst oNewDate = this._calendarDate;\n\t\toNewDate.setYear(this._calendarDate.getYear() - 1);\n\n\t\tthis.timestamp = oNewDate.valueOf() / 1000;\n\t}\n\n\t_showNextPageYears() {\n\t\tif (!this._isYearInRange(this._yearPicker.timestamp,\n\t\t\tYearPicker._ITEMS_COUNT - YearPicker._MIDDLE_ITEM_INDEX,\n\t\t\tYearPicker._MIN_YEAR,\n\t\t\tYearPicker._MAX_YEAR)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.minDate && !this._isYearInRange(this._yearPicker.timestamp,\n\t\t\tYearPicker._ITEMS_COUNT - YearPicker._MIDDLE_ITEM_INDEX,\n\t\t\tthis.getFormat().parse(this.minDate).getFullYear(),\n\t\t\tYearPicker._MAX_YEAR)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.maxDate && !this._isYearInRange(this._yearPicker.timestamp,\n\t\t\tYearPicker._ITEMS_COUNT - YearPicker._MIDDLE_ITEM_INDEX,\n\t\t\tYearPicker._MIN_YEAR,\n\t\t\tthis.getFormat().parse(this.maxDate).getFullYear())) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._yearPicker = Object.assign({}, this._yearPicker, {\n\t\t\ttimestamp: this._yearPicker.timestamp + (31536000 * YearPicker._ITEMS_COUNT),\n\t\t});\n\n\t\tthis._isShiftingYears = true;\n\t}\n\n\t_showPrevPageYears() {\n\t\tif (!this._isYearInRange(this._yearPicker.timestamp,\n\t\t\t-YearPicker._MIDDLE_ITEM_INDEX - 1,\n\t\t\tYearPicker._MIN_YEAR,\n\t\t\tYearPicker._MAX_YEAR)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.minDate && !this._isYearInRange(this._yearPicker.timestamp,\n\t\t\t-YearPicker._MIDDLE_ITEM_INDEX - 1,\n\t\t\tthis.getFormat().parse(this.minDate).getFullYear(),\n\t\t\tYearPicker._MAX_YEAR)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.maxDate && !this._isYearInRange(this._yearPicker.timestamp,\n\t\t\t-YearPicker._MIDDLE_ITEM_INDEX - 1,\n\t\t\tYearPicker._MIN_YEAR,\n\t\t\tthis.getFormat().parse(this.maxDate).getFullYear())) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._yearPicker = Object.assign({}, this._yearPicker, {\n\t\t\ttimestamp: this._yearPicker.timestamp - (31536000 * YearPicker._ITEMS_COUNT),\n\t\t});\n\n\t\tthis._isShiftingYears = true;\n\t}\n\n\t_showMonthPicker() {\n\t\tthis._monthPicker = Object.assign({}, this._monthPicker);\n\t\tthis._oMonth = Object.assign({}, this._oMonth);\n\n\t\tthis._monthPicker.timestamp = this._timestamp;\n\t\tthis._monthPicker._hidden = false;\n\t\tthis._oMonth._hidden = true;\n\n\t\tconst calendarRect = this.shadowRoot.querySelector(\".ui5-cal-root\").getBoundingClientRect();\n\n\t\tthis._calendarWidth = calendarRect.width.toString();\n\t\tthis._calendarHeight = calendarRect.height.toString();\n\t}\n\n\t_showYearPicker() {\n\t\tthis._yearPicker = Object.assign({}, this._yearPicker);\n\t\tthis._oMonth = Object.assign({}, this._oMonth);\n\n\t\tthis._yearPicker.timestamp = this._timestamp;\n\t\tthis._yearPicker._selectedYear = this._calendarDate.getYear();\n\t\tthis._yearPicker._hidden = false;\n\t\tthis._oMonth._hidden = true;\n\n\t\tconst calendarRect = this.shadowRoot.querySelector(\".ui5-cal-root\").getBoundingClientRect();\n\n\t\tthis._calendarWidth = calendarRect.width.toString();\n\t\tthis._calendarHeight = calendarRect.height.toString();\n\t}\n\n\t_hideMonthPicker() {\n\t\tthis._monthPicker = Object.assign({}, this._monthPicker);\n\t\tthis._oMonth = Object.assign({}, this._oMonth);\n\n\t\tthis._monthPicker._hidden = true;\n\t\tthis._oMonth._hidden = false;\n\t}\n\n\t_hideYearPicker() {\n\t\tthis._yearPicker = Object.assign({}, this._yearPicker);\n\t\tthis._oMonth = Object.assign({}, this._oMonth);\n\n\t\tthis._yearPicker._hidden = true;\n\t\tthis._oMonth._hidden = false;\n\t}\n\n\t_isYearInRange(timestamp, yearsoffset, min, max) {\n\t\tif (timestamp) {\n\t\t\tconst oCalDate = CalendarDate.fromTimestamp(timestamp * 1000, this._primaryCalendarType);\n\t\t\toCalDate.setMonth(0);\n\t\t\toCalDate.setDate(1);\n\t\t\toCalDate.setYear(oCalDate.getYear() + yearsoffset);\n\t\t\treturn oCalDate.getYear() >= min && oCalDate.getYear() <= max;\n\t\t}\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\tmain: {\n\t\t\t\t\"ui5-cal-root\": true,\n\t\t\t},\n\t\t\tdayPicker: {\n\t\t\t\t\".ui5-daypicker--hidden\": !this._yearPicker._hidden || !this._monthPicker._hidden,\n\t\t\t},\n\t\t\tyearPicker: {\n\t\t\t\t\"ui5-yearpicker--hidden\": this._yearPicker._hidden,\n\t\t\t},\n\t\t\tmonthPicker: {\n\t\t\t\t\"ui5-monthpicker--hidden\": this._monthPicker._hidden,\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Checks if a date is in range between minimum and maximum date\n\t * @param {object} value\n\t * @public\n\t */\n\tisInValidRange(value = \"\") {\n\t\tconst pickedDate = CalendarDate.fromTimestamp(value).toLocalJSDate(),\n\t\t\tminDate = this._minDate && new Date(this._minDate),\n\t\t\tmaxDate = this._maxDate && new Date(this._maxDate);\n\n\t\tif (minDate && maxDate) {\n\t\t\tif (minDate <= pickedDate && maxDate >= pickedDate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (minDate && !maxDate) {\n\t\t\tif (minDate <= pickedDate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (maxDate && !minDate) {\n\t\t\tif (maxDate >= pickedDate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (!maxDate && !minDate) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tgetFormat() {\n\t\tif (this._isPattern) {\n\t\t\tthis._oDateFormat = DateFormat.getInstance({\n\t\t\t\tpattern: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t} else {\n\t\t\tthis._oDateFormat = DateFormat.getInstance({\n\t\t\t\tstyle: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t}\n\t\treturn this._oDateFormat;\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\tmain: {\n\t\t\t\t\"height\": `${this._calendarHeight ? `${this._calendarHeight}px` : \"auto\"}`,\n\t\t\t\t\"width\": `${this._calendarWidth ? `${this._calendarWidth}px` : \"auto\"}`,\n\t\t\t},\n\t\t};\n\t}\n\n\tstatic async onDefine() {\n\t\tawait Promise.all([\n\t\t\tfetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()),\n\t\t\tCalendarHeader.define(),\n\t\t\tDayPicker.define(),\n\t\t\tMonthPicker.define(),\n\t\t\tYearPicker.define(),\n\t\t]);\n\t}\n}\n\nCalendar.define();\n\nexport default Calendar;\n"]},"metadata":{},"sourceType":"module"}