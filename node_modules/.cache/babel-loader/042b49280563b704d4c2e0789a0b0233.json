{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { getFeature } from \"@ui5/webcomponents-base/dist/FeaturesRegistry.js\";\nimport { isIE } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport TextAreaTemplate from \"./generated/templates/TextAreaTemplate.lit.js\";\nimport TextAreaPopoverTemplate from \"./generated/templates/TextAreaPopoverTemplate.lit.js\";\nimport { VALUE_STATE_INFORMATION, VALUE_STATE_ERROR, VALUE_STATE_WARNING, TEXTAREA_CHARACTERS_LEFT, TEXTAREA_CHARACTERS_EXCEEDED } from \"./generated/i18n/i18n-defaults.js\"; // Styles\n\nimport styles from \"./generated/themes/TextArea.css.js\";\nimport valueStateMessageStyles from \"./generated/themes/ValueStateMessage.css.js\";\n/**\n * @public\n */\n\nconst metadata = {\n  tag: \"ui5-textarea\",\n  managedSlots: true,\n  properties:\n  /** @lends sap.ui.webcomponents.main.TextArea.prototype */\n  {\n    /**\n     * Defines the value of the Web Component.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    value: {\n      type: String\n    },\n\n    /**\n     * Indicates whether the user can interact with the component or not.\n     * <br><br>\n     * <b>Note:</b> Disabled components cannot be focused and they are out of the tab chain.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    disabled: {\n      type: Boolean\n    },\n\n    /**\n     * Defines whether the <code>ui5-textarea</code> is read-only.\n     * <br><br>\n     * <b>Note:</b> A read-only <code>ui5-textarea</code> is not editable,\n     * but still provides visual feedback upon user interaction.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    readonly: {\n      type: Boolean\n    },\n\n    /**\n     * Defines whether the <code>ui5-textarea</code> is required.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.3\n     */\n    required: {\n      type: Boolean\n    },\n\n    /**\n     * Defines a short hint intended to aid the user with data entry when the component has no value.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    placeholder: {\n      type: String\n    },\n\n    /**\n     * Defines the value state of the <code>ui5-textarea</code>.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>None</code></li>\n     * <li><code>Error</code></li>\n     * <li><code>Warning</code></li>\n     * <li><code>Success</code></li>\n     * <li><code>Information</code></li>\n     * </ul>\n     * <br><br>\n     * <b>Note:</b> If <code>maxlength</code> property is set,\n     * the component turns into \"Warning\" state once the characters exceeds the limit.\n     * In this case, only the \"Error\" state is considered and can be applied.\n     * @type {ValueState}\n     * @defaultvalue \"None\"\n     * @since 1.0.0-rc.7\n     * @public\n     */\n    valueState: {\n      type: ValueState,\n      defaultValue: ValueState.None\n    },\n\n    /**\n     * Defines the number of visible text lines for the component.\n     * <br><br>\n     * <b>Notes:</b>\n     * <ul>\n     * <li>If the <code>growing</code> property is enabled, this property defines the minimum rows to be displayed\n     * in the textarea.</li>\n     * <li>The CSS <code>height</code> property wins over the <code>rows</code> property, if both are set.</li>\n     * </ul>\n     *\n     * @type {number}\n     * @defaultvalue 0\n     * @public\n     */\n    rows: {\n      type: Integer,\n      defaultValue: 0\n    },\n\n    /**\n     * Defines the maximum number of characters that the <code>value</code> can have.\n     *\n     * @type {number}\n     * @defaultValue null\n     * @public\n     */\n    maxlength: {\n      type: Integer,\n      defaultValue: null\n    },\n\n    /**\n     * Determines whether the characters exceeding the maximum allowed character count are visible\n     * in the <code>ui5-textarea</code>.\n     * <br><br>\n     * If set to <code>false</code>, the user is not allowed to enter more characters than what is set in the\n     * <code>maxlength</code> property.\n     * If set to <code>true</code> the characters exceeding the <code>maxlength</code> value are selected on\n     * paste and the counter below the <code>ui5-textarea</code> displays their number.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    showExceededText: {\n      type: Boolean\n    },\n\n    /**\n     * Enables the <code>ui5-textarea</code> to automatically grow and shrink dynamically with its content.\n     * <br><br>\n     * <b>Note:</b> If set to <code>true</code>, the CSS <code>height</code> property is ignored.\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    growing: {\n      type: Boolean\n    },\n\n    /**\n     * Defines the maximum number of lines that the Web Component can grow.\n     *\n     * @type {number}\n     * @defaultvalue 0\n     * @public\n     */\n    growingMaxLines: {\n      type: Integer,\n      defaultValue: 0\n    },\n\n    /**\n     * Determines the name with which the <code>ui5-textarea</code> will be submitted in an HTML form.\n     *\n     * <br><br>\n     * <b>Important:</b> For the <code>name</code> property to have effect, you must add the following import to your project:\n     * <code>import \"@ui5/webcomponents/dist/features/InputElementsFormSupport.js\";</code>\n     *\n     * <br><br>\n     * <b>Note:</b> When set, a native <code>input</code> HTML element\n     * will be created inside the <code>ui5-textarea</code> so that it can be submitted as\n     * part of an HTML form. Do not use this property unless you need to submit a form.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    name: {\n      type: String\n    },\n\n    /**\n     * @private\n     */\n    focused: {\n      type: Boolean\n    },\n\n    /**\n     * @private\n     */\n    exceeding: {\n      type: Boolean\n    },\n\n    /**\n     * @private\n     */\n    _mirrorText: {\n      type: Object,\n      multiple: true,\n      defaultValue: \"\"\n    },\n\n    /**\n     * @private\n     */\n    _maxHeight: {\n      type: String,\n      noAttribute: true\n    },\n\n    /**\n     * @private\n     */\n    _width: {\n      type: Integer\n    }\n  },\n  slots:\n  /** @lends sap.ui.webcomponents.main.TextArea.prototype */\n  {\n    /**\n     * Defines the value state message that will be displayed as pop up under the <code>ui5-textarea</code>.\n     *\n     * <br><br>\n     * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n     *\n     * <br><br>\n     * <b>Note:</b> The <code>valueStateMessage</code> would be displayed if the <code>ui5-textarea</code> has\n     * <code>valueState</code> of type <code>Information</code>, <code>Warning</code> or <code>Error</code>.\n     * @type {HTMLElement[]}\n     * @since 1.0.0-rc.7\n     * @slot\n     * @public\n     */\n    valueStateMessage: {\n      type: HTMLElement\n    }\n  },\n  events:\n  /** @lends sap.ui.webcomponents.main.TextArea.prototype */\n  {\n    /**\n     * Fired when the text has changed and the focus leaves the <code>ui5-textarea</code>.\n     *\n     * @event\n     * @public\n     */\n    change: {},\n\n    /**\n     * Fired when the value of the <code>ui5-textarea</code> changes at each keystroke or when\n     * something is pasted.\n     *\n     * @event\n     * @since 1.0.0-rc.5\n     * @public\n     */\n    input: {}\n  }\n};\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-textarea</code> component provides large spaces for text\n * entries in the form of multiple rows.\n * It has the functionality of the <code>TextField</code> with the additional\n * functionality for multiline texts.\n * <br><br>\n * When empty, it can hold a placeholder similar to a <code>ui5-input</code>.\n * You can define the rows of the <code>ui5-textarea</code> and also determine specific behavior when handling long texts.\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/TextArea\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.TextArea\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-textarea\n * @public\n */\n\nclass TextArea extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get styles() {\n    return styles;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get template() {\n    return TextAreaTemplate;\n  }\n\n  static get staticAreaTemplate() {\n    return TextAreaPopoverTemplate;\n  }\n\n  static get staticAreaStyles() {\n    return valueStateMessageStyles;\n  }\n\n  constructor() {\n    super();\n    this._firstRendering = true;\n    this._openValueStateMsgPopover = false;\n    this._fnOnResize = this._onResize.bind(this);\n    this.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n  }\n\n  onEnterDOM() {\n    ResizeHandler.register(this, this._fnOnResize);\n  }\n\n  onExitDOM() {\n    ResizeHandler.deregister(this, this._fnOnResize);\n  }\n\n  onBeforeRendering() {\n    this._exceededTextProps = this._calcExceededText();\n    this._mirrorText = this._tokenizeText(this.value);\n    this.exceeding = this._exceededTextProps.leftCharactersCount < 0;\n\n    if (this.growingMaxLines) {\n      // this should be complex calc between line height and paddings - TODO: make it stable\n      this._maxHeight = `${this.growingMaxLines * 1.4 * 14 + 9}px`;\n    }\n\n    const FormSupport = getFeature(\"FormSupport\");\n\n    if (FormSupport) {\n      FormSupport.syncNativeHiddenInput(this);\n    } else if (this.name) {\n      console.warn(`In order for the \"name\" property to have effect, you should also: import \"@ui5/webcomponents/dist/features/InputElementsFormSupport.js\";`); // eslint-disable-line\n    }\n  }\n\n  onAfterRendering() {\n    this.toggleValueStateMessage(this.openValueStateMsgPopover);\n    this._firstRendering = false;\n  }\n\n  getInputDomRef() {\n    return this.getDomRef().querySelector(\"textarea\");\n  }\n\n  _onkeydown() {\n    this._keyDown = true;\n  }\n\n  _onkeyup() {\n    this._keyDown = false;\n  }\n\n  _onfocusin() {\n    this.focused = true;\n    this._openValueStateMsgPopover = true;\n  }\n\n  _onfocusout() {\n    this.focused = false;\n    this._openValueStateMsgPopover = false;\n  }\n\n  _onchange() {\n    this.fireEvent(\"change\", {});\n  }\n\n  _oninput(event) {\n    const nativeTextarea = this.getInputDomRef();\n    /* skip calling change event when an textarea with a placeholder is focused on IE\n    \t- value of the host and the internal textarea should be different in case of actual input\n    \t- input is called when a key is pressed => keyup should not be called yet\n    */\n\n    const skipFiring = this.getInputDomRef().value === this.value && isIE() && !this._keyDown && !!this.placeholder;\n\n    if (event.target === nativeTextarea) {\n      // stop the native event, as the semantic \"input\" would be fired.\n      event.stopImmediatePropagation();\n    }\n\n    if (skipFiring) {\n      return;\n    }\n\n    this.value = nativeTextarea.value;\n    this.fireEvent(\"input\", {}); // Angular two way data binding\n\n    this.fireEvent(\"value-changed\");\n  }\n\n  _onResize() {\n    if (this.displayValueStateMessagePopover) {\n      this._width = this.offsetWidth;\n    }\n  }\n\n  toggleValueStateMessage(toggle) {\n    if (toggle) {\n      this.openPopover();\n    } else {\n      this.closePopover();\n    }\n  }\n\n  async openPopover() {\n    this.popover = await this._getPopover();\n    this.popover && this.popover.openBy(this.shadowRoot.querySelector(\".ui5-textarea-inner\"));\n  }\n\n  async closePopover() {\n    this.popover = await this._getPopover();\n    this.popover && this.popover.close(false, false, true);\n  }\n\n  async _getPopover() {\n    const staticAreaItem = await this.getStaticAreaItemDomRef();\n    return staticAreaItem.querySelector(\"ui5-popover\");\n  }\n\n  _tokenizeText(value) {\n    const tokenizedText = value.replace(/&/gm, \"&amp;\").replace(/\"/gm, \"&quot;\").replace(/\"/gm, \"&#39;\").replace(/</gm, \"&lt;\").replace(/>/gm, \"&gt;\").split(\"\\n\");\n\n    if (tokenizedText.length < this.rows) {\n      return this._mapTokenizedTextToObject([...tokenizedText, ...Array(this.rows - tokenizedText.length).fill(\"\")]);\n    }\n\n    return this._mapTokenizedTextToObject(tokenizedText);\n  }\n\n  _mapTokenizedTextToObject(tokenizedText) {\n    return tokenizedText.map((token, index) => {\n      return {\n        text: token,\n        last: index === tokenizedText.length - 1\n      };\n    });\n  }\n\n  _calcExceededText() {\n    let calcedMaxLength, exceededText, leftCharactersCount;\n\n    if (this.showExceededText) {\n      const maxLength = this.maxlength || 0;\n\n      if (maxLength) {\n        leftCharactersCount = maxLength - this.value.length;\n\n        if (leftCharactersCount >= 0) {\n          exceededText = this.i18nBundle.getText(TEXTAREA_CHARACTERS_LEFT, [leftCharactersCount]);\n        } else {\n          exceededText = this.i18nBundle.getText(TEXTAREA_CHARACTERS_EXCEEDED, [Math.abs(leftCharactersCount)]);\n        }\n      }\n    } else {\n      calcedMaxLength = this.maxlength;\n    }\n\n    return {\n      exceededText,\n      leftCharactersCount,\n      calcedMaxLength\n    };\n  }\n\n  get classes() {\n    return {\n      valueStateMsg: {\n        \"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n        \"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning || this.exceeding,\n        \"ui5-valuestatemessage--information\": this.valueState === ValueState.Information\n      }\n    };\n  }\n\n  get styles() {\n    const lineHeight = 1.4 * 16;\n    return {\n      mirror: {\n        \"max-height\": this._maxHeight\n      },\n      main: {\n        width: \"100%\",\n        height: this.rows && !this.growing ? `${this.rows * lineHeight}px` : \"100%\"\n      },\n      focusDiv: {\n        \"height\": this.showExceededText ? \"calc(100% - 26px)\" : \"100%\",\n        \"max-height\": this._maxHeight\n      },\n      valueStateMsgPopover: {\n        \"max-width\": `${this._width}px`\n      }\n    };\n  }\n\n  get tabIndex() {\n    return this.disabled ? undefined : \"0\";\n  }\n\n  get ariaLabelledBy() {\n    return this.showExceededText ? `${this._id}-exceededText` : undefined;\n  }\n\n  get ariaInvalid() {\n    return this.valueState === \"Error\" ? \"true\" : undefined;\n  }\n\n  get openValueStateMsgPopover() {\n    return !this._firstRendering && this._openValueStateMsgPopover && this.displayValueStateMessagePopover;\n  }\n\n  get displayValueStateMessagePopover() {\n    return this.hasCustomValueState || this.hasValueState || this.exceeding;\n  }\n\n  get hasCustomValueState() {\n    return !!this.valueStateMessage.length && this.hasValueState;\n  }\n\n  get hasValueState() {\n    return this.valueState === ValueState.Error || this.valueState === ValueState.Warning || this.valueState === ValueState.Information;\n  }\n\n  get valueStateMessageText() {\n    return this.valueStateMessage.map(x => x.cloneNode(true));\n  }\n\n  get valueStateText() {\n    if (this.valueState !== ValueState.Error && this.exceeding) {\n      return this.valueStateTextMappings()[ValueState.Warning];\n    }\n\n    return this.valueStateTextMappings()[this.valueState];\n  }\n\n  valueStateTextMappings() {\n    const i18nBundle = this.i18nBundle;\n    return {\n      \"Information\": i18nBundle.getText(VALUE_STATE_INFORMATION),\n      \"Error\": i18nBundle.getText(VALUE_STATE_ERROR),\n      \"Warning\": i18nBundle.getText(VALUE_STATE_WARNING)\n    };\n  }\n\n  static async onDefine() {\n    await fetchI18nBundle(\"@ui5/webcomponents\");\n  }\n\n}\n\nTextArea.define();\nexport default TextArea;","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents/dist/TextArea.js"],"names":["UI5Element","litRender","ResizeHandler","Integer","fetchI18nBundle","getI18nBundle","getFeature","isIE","ValueState","TextAreaTemplate","TextAreaPopoverTemplate","VALUE_STATE_INFORMATION","VALUE_STATE_ERROR","VALUE_STATE_WARNING","TEXTAREA_CHARACTERS_LEFT","TEXTAREA_CHARACTERS_EXCEEDED","styles","valueStateMessageStyles","metadata","tag","managedSlots","properties","value","type","String","disabled","Boolean","readonly","required","placeholder","valueState","defaultValue","None","rows","maxlength","showExceededText","growing","growingMaxLines","name","focused","exceeding","_mirrorText","Object","multiple","_maxHeight","noAttribute","_width","slots","valueStateMessage","HTMLElement","events","change","input","TextArea","render","template","staticAreaTemplate","staticAreaStyles","constructor","_firstRendering","_openValueStateMsgPopover","_fnOnResize","_onResize","bind","i18nBundle","onEnterDOM","register","onExitDOM","deregister","onBeforeRendering","_exceededTextProps","_calcExceededText","_tokenizeText","leftCharactersCount","FormSupport","syncNativeHiddenInput","console","warn","onAfterRendering","toggleValueStateMessage","openValueStateMsgPopover","getInputDomRef","getDomRef","querySelector","_onkeydown","_keyDown","_onkeyup","_onfocusin","_onfocusout","_onchange","fireEvent","_oninput","event","nativeTextarea","skipFiring","target","stopImmediatePropagation","displayValueStateMessagePopover","offsetWidth","toggle","openPopover","closePopover","popover","_getPopover","openBy","shadowRoot","close","staticAreaItem","getStaticAreaItemDomRef","tokenizedText","replace","split","length","_mapTokenizedTextToObject","Array","fill","map","token","index","text","last","calcedMaxLength","exceededText","maxLength","getText","Math","abs","classes","valueStateMsg","Error","Warning","Information","lineHeight","mirror","main","width","height","focusDiv","valueStateMsgPopover","tabIndex","undefined","ariaLabelledBy","_id","ariaInvalid","hasCustomValueState","hasValueState","valueStateMessageText","x","cloneNode","valueStateText","valueStateTextMappings","onDefine","define"],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { getFeature } from \"@ui5/webcomponents-base/dist/FeaturesRegistry.js\";\nimport { isIE } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\n\nimport TextAreaTemplate from \"./generated/templates/TextAreaTemplate.lit.js\";\nimport TextAreaPopoverTemplate from \"./generated/templates/TextAreaPopoverTemplate.lit.js\";\n\nimport {\n\tVALUE_STATE_INFORMATION,\n\tVALUE_STATE_ERROR,\n\tVALUE_STATE_WARNING,\n\tTEXTAREA_CHARACTERS_LEFT,\n\tTEXTAREA_CHARACTERS_EXCEEDED,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Styles\nimport styles from \"./generated/themes/TextArea.css.js\";\nimport valueStateMessageStyles from \"./generated/themes/ValueStateMessage.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-textarea\",\n\tmanagedSlots: true,\n\tproperties: /** @lends sap.ui.webcomponents.main.TextArea.prototype */ {\n\t\t/**\n\t\t * Defines the value of the Web Component.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether the user can interact with the component or not.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Disabled components cannot be focused and they are out of the tab chain.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the <code>ui5-textarea</code> is read-only.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A read-only <code>ui5-textarea</code> is not editable,\n\t\t * but still provides visual feedback upon user interaction.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the <code>ui5-textarea</code> is required.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.3\n\t\t */\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines a short hint intended to aid the user with data entry when the component has no value.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state of the <code>ui5-textarea</code>.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>None</code></li>\n\t\t * <li><code>Error</code></li>\n\t\t * <li><code>Warning</code></li>\n\t\t * <li><code>Success</code></li>\n\t\t * <li><code>Information</code></li>\n\t\t * </ul>\n\t\t * <br><br>\n\t\t * <b>Note:</b> If <code>maxlength</code> property is set,\n\t\t * the component turns into \"Warning\" state once the characters exceeds the limit.\n\t\t * In this case, only the \"Error\" state is considered and can be applied.\n\t\t * @type {ValueState}\n\t\t * @defaultvalue \"None\"\n\t\t * @since 1.0.0-rc.7\n\t\t * @public\n\t\t */\n\t\tvalueState: {\n\t\t\ttype: ValueState,\n\t\t\tdefaultValue: ValueState.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines the number of visible text lines for the component.\n\t\t * <br><br>\n\t\t * <b>Notes:</b>\n\t\t * <ul>\n\t\t * <li>If the <code>growing</code> property is enabled, this property defines the minimum rows to be displayed\n\t\t * in the textarea.</li>\n\t\t * <li>The CSS <code>height</code> property wins over the <code>rows</code> property, if both are set.</li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {number}\n\t\t * @defaultvalue 0\n\t\t * @public\n\t\t */\n\t\trows: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 0,\n\t\t},\n\n\t\t/**\n\t\t * Defines the maximum number of characters that the <code>value</code> can have.\n\t\t *\n\t\t * @type {number}\n\t\t * @defaultValue null\n\t\t * @public\n\t\t */\n\t\tmaxlength: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: null,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the characters exceeding the maximum allowed character count are visible\n\t\t * in the <code>ui5-textarea</code>.\n\t\t * <br><br>\n\t\t * If set to <code>false</code>, the user is not allowed to enter more characters than what is set in the\n\t\t * <code>maxlength</code> property.\n\t\t * If set to <code>true</code> the characters exceeding the <code>maxlength</code> value are selected on\n\t\t * paste and the counter below the <code>ui5-textarea</code> displays their number.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tshowExceededText: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Enables the <code>ui5-textarea</code> to automatically grow and shrink dynamically with its content.\n\t\t * <br><br>\n\t\t * <b>Note:</b> If set to <code>true</code>, the CSS <code>height</code> property is ignored.\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tgrowing: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the maximum number of lines that the Web Component can grow.\n\t\t *\n\t\t * @type {number}\n\t\t * @defaultvalue 0\n\t\t * @public\n\t\t */\n\t\tgrowingMaxLines: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 0,\n\t\t},\n\n\t\t/**\n\t\t * Determines the name with which the <code>ui5-textarea</code> will be submitted in an HTML form.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Important:</b> For the <code>name</code> property to have effect, you must add the following import to your project:\n\t\t * <code>import \"@ui5/webcomponents/dist/features/InputElementsFormSupport.js\";</code>\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> When set, a native <code>input</code> HTML element\n\t\t * will be created inside the <code>ui5-textarea</code> so that it can be submitted as\n\t\t * part of an HTML form. Do not use this property unless you need to submit a form.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tname: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tfocused: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\texceeding: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\t_mirrorText: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\t_maxHeight: {\n\t\t\ttype: String,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\t_width: {\n\t\t\ttype: Integer,\n\t\t},\n\t},\n\tslots: /** @lends sap.ui.webcomponents.main.TextArea.prototype */ {\n\n\t\t/**\n\t\t * Defines the value state message that will be displayed as pop up under the <code>ui5-textarea</code>.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> The <code>valueStateMessage</code> would be displayed if the <code>ui5-textarea</code> has\n\t\t * <code>valueState</code> of type <code>Information</code>, <code>Warning</code> or <code>Error</code>.\n\t\t * @type {HTMLElement[]}\n\t\t * @since 1.0.0-rc.7\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tvalueStateMessage: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.TextArea.prototype */ {\n\t\t/**\n\t\t * Fired when the text has changed and the focus leaves the <code>ui5-textarea</code>.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t */\n\t\tchange: {},\n\n\t\t/**\n\t\t * Fired when the value of the <code>ui5-textarea</code> changes at each keystroke or when\n\t\t * something is pasted.\n\t\t *\n\t\t * @event\n\t\t * @since 1.0.0-rc.5\n\t\t * @public\n\t\t */\n\t\tinput: {},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-textarea</code> component provides large spaces for text\n * entries in the form of multiple rows.\n * It has the functionality of the <code>TextField</code> with the additional\n * functionality for multiline texts.\n * <br><br>\n * When empty, it can hold a placeholder similar to a <code>ui5-input</code>.\n * You can define the rows of the <code>ui5-textarea</code> and also determine specific behavior when handling long texts.\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/TextArea\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.TextArea\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-textarea\n * @public\n */\nclass TextArea extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn TextAreaTemplate;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn TextAreaPopoverTemplate;\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn valueStateMessageStyles;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._firstRendering = true;\n\t\tthis._openValueStateMsgPopover = false;\n\t\tthis._fnOnResize = this._onResize.bind(this);\n\t\tthis.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tonEnterDOM() {\n\t\tResizeHandler.register(this, this._fnOnResize);\n\t}\n\n\tonExitDOM() {\n\t\tResizeHandler.deregister(this, this._fnOnResize);\n\t}\n\n\tonBeforeRendering() {\n\t\tthis._exceededTextProps = this._calcExceededText();\n\t\tthis._mirrorText = this._tokenizeText(this.value);\n\n\t\tthis.exceeding = this._exceededTextProps.leftCharactersCount < 0;\n\n\t\tif (this.growingMaxLines) {\n\t\t\t// this should be complex calc between line height and paddings - TODO: make it stable\n\t\t\tthis._maxHeight = `${this.growingMaxLines * 1.4 * 14 + 9}px`;\n\t\t}\n\n\t\tconst FormSupport = getFeature(\"FormSupport\");\n\t\tif (FormSupport) {\n\t\t\tFormSupport.syncNativeHiddenInput(this);\n\t\t} else if (this.name) {\n\t\t\tconsole.warn(`In order for the \"name\" property to have effect, you should also: import \"@ui5/webcomponents/dist/features/InputElementsFormSupport.js\";`); // eslint-disable-line\n\t\t}\n\t}\n\n\tonAfterRendering() {\n\t\tthis.toggleValueStateMessage(this.openValueStateMsgPopover);\n\t\tthis._firstRendering = false;\n\t}\n\n\tgetInputDomRef() {\n\t\treturn this.getDomRef().querySelector(\"textarea\");\n\t}\n\n\t_onkeydown() {\n\t\tthis._keyDown = true;\n\t}\n\n\t_onkeyup() {\n\t\tthis._keyDown = false;\n\t}\n\n\t_onfocusin() {\n\t\tthis.focused = true;\n\t\tthis._openValueStateMsgPopover = true;\n\t}\n\n\t_onfocusout() {\n\t\tthis.focused = false;\n\t\tthis._openValueStateMsgPopover = false;\n\t}\n\n\t_onchange() {\n\t\tthis.fireEvent(\"change\", {});\n\t}\n\n\t_oninput(event) {\n\t\tconst nativeTextarea = this.getInputDomRef();\n\n\t\t/* skip calling change event when an textarea with a placeholder is focused on IE\n\t\t\t- value of the host and the internal textarea should be different in case of actual input\n\t\t\t- input is called when a key is pressed => keyup should not be called yet\n\t\t*/\n\t\tconst skipFiring = (this.getInputDomRef().value === this.value) && isIE() && !this._keyDown && !!this.placeholder;\n\t\tif (event.target === nativeTextarea) {\n\t\t\t// stop the native event, as the semantic \"input\" would be fired.\n\t\t\tevent.stopImmediatePropagation();\n\t\t}\n\n\t\tif (skipFiring) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.value = nativeTextarea.value;\n\t\tthis.fireEvent(\"input\", {});\n\n\t\t// Angular two way data binding\n\t\tthis.fireEvent(\"value-changed\");\n\t}\n\n\t_onResize() {\n\t\tif (this.displayValueStateMessagePopover) {\n\t\t\tthis._width = this.offsetWidth;\n\t\t}\n\t}\n\n\ttoggleValueStateMessage(toggle) {\n\t\tif (toggle) {\n\t\t\tthis.openPopover();\n\t\t} else {\n\t\t\tthis.closePopover();\n\t\t}\n\t}\n\n\tasync openPopover() {\n\t\tthis.popover = await this._getPopover();\n\t\tthis.popover && this.popover.openBy(this.shadowRoot.querySelector(\".ui5-textarea-inner\"));\n\t}\n\n\tasync closePopover() {\n\t\tthis.popover = await this._getPopover();\n\t\tthis.popover && this.popover.close(false, false, true);\n\t}\n\n\tasync _getPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\treturn staticAreaItem.querySelector(\"ui5-popover\");\n\t}\n\n\t_tokenizeText(value) {\n\t\tconst tokenizedText = value.replace(/&/gm, \"&amp;\").replace(/\"/gm, \"&quot;\").replace(/\"/gm, \"&#39;\").replace(/</gm, \"&lt;\")\n\t\t\t.replace(/>/gm, \"&gt;\")\n\t\t\t.split(\"\\n\");\n\n\t\tif (tokenizedText.length < this.rows) {\n\t\t\treturn this._mapTokenizedTextToObject([...tokenizedText, ...Array(this.rows - tokenizedText.length).fill(\"\")]);\n\t\t}\n\n\t\treturn this._mapTokenizedTextToObject(tokenizedText);\n\t}\n\n\t_mapTokenizedTextToObject(tokenizedText) {\n\t\treturn tokenizedText.map((token, index) => {\n\t\t\treturn {\n\t\t\t\ttext: token,\n\t\t\t\tlast: index === (tokenizedText.length - 1),\n\t\t\t};\n\t\t});\n\t}\n\n\t_calcExceededText() {\n\t\tlet calcedMaxLength,\n\t\t\texceededText,\n\t\t\tleftCharactersCount;\n\n\t\tif (this.showExceededText) {\n\t\t\tconst maxLength = this.maxlength || 0;\n\n\t\t\tif (maxLength) {\n\t\t\t\tleftCharactersCount = maxLength - this.value.length;\n\n\t\t\t\tif (leftCharactersCount >= 0) {\n\t\t\t\t\texceededText = this.i18nBundle.getText(TEXTAREA_CHARACTERS_LEFT, [leftCharactersCount]);\n\t\t\t\t} else {\n\t\t\t\t\texceededText = this.i18nBundle.getText(TEXTAREA_CHARACTERS_EXCEEDED, [Math.abs(leftCharactersCount)]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tcalcedMaxLength = this.maxlength;\n\t\t}\n\n\t\treturn {\n\t\t\texceededText, leftCharactersCount, calcedMaxLength,\n\t\t};\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\tvalueStateMsg: {\n\t\t\t\t\"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n\t\t\t\t\"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning || this.exceeding,\n\t\t\t\t\"ui5-valuestatemessage--information\": this.valueState === ValueState.Information,\n\t\t\t},\n\t\t};\n\t}\n\n\tget styles() {\n\t\tconst lineHeight = 1.4 * 16;\n\n\t\treturn {\n\t\t\tmirror: {\n\t\t\t\t\"max-height\": this._maxHeight,\n\t\t\t},\n\t\t\tmain: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: (this.rows && !this.growing) ? `${this.rows * lineHeight}px` : \"100%\",\n\t\t\t},\n\t\t\tfocusDiv: {\n\t\t\t\t\"height\": (this.showExceededText ? \"calc(100% - 26px)\" : \"100%\"),\n\t\t\t\t\"max-height\": (this._maxHeight),\n\t\t\t},\n\t\t\tvalueStateMsgPopover: {\n\t\t\t\t\"max-width\": `${this._width}px`,\n\t\t\t},\n\t\t};\n\t}\n\n\tget tabIndex() {\n\t\treturn this.disabled ? undefined : \"0\";\n\t}\n\n\tget ariaLabelledBy() {\n\t\treturn this.showExceededText ? `${this._id}-exceededText` : undefined;\n\t}\n\n\tget ariaInvalid() {\n\t\treturn this.valueState === \"Error\" ? \"true\" : undefined;\n\t}\n\n\tget openValueStateMsgPopover() {\n\t\treturn !this._firstRendering && this._openValueStateMsgPopover && this.displayValueStateMessagePopover;\n\t}\n\n\tget displayValueStateMessagePopover() {\n\t\treturn this.hasCustomValueState || this.hasValueState || this.exceeding;\n\t}\n\n\tget hasCustomValueState() {\n\t\treturn !!this.valueStateMessage.length && this.hasValueState;\n\t}\n\n\tget hasValueState() {\n\t\treturn this.valueState === ValueState.Error || this.valueState === ValueState.Warning || this.valueState === ValueState.Information;\n\t}\n\n\tget valueStateMessageText() {\n\t\treturn this.valueStateMessage.map(x => x.cloneNode(true));\n\t}\n\n\tget valueStateText() {\n\t\tif (this.valueState !== ValueState.Error && this.exceeding) {\n\t\t\treturn this.valueStateTextMappings()[ValueState.Warning];\n\t\t}\n\n\t\treturn this.valueStateTextMappings()[this.valueState];\n\t}\n\n\tvalueStateTextMappings() {\n\t\tconst i18nBundle = this.i18nBundle;\n\n\t\treturn {\n\t\t\t\"Information\": i18nBundle.getText(VALUE_STATE_INFORMATION),\n\t\t\t\"Error\": i18nBundle.getText(VALUE_STATE_ERROR),\n\t\t\t\"Warning\": i18nBundle.getText(VALUE_STATE_WARNING),\n\t\t};\n\t}\n\n\tstatic async onDefine() {\n\t\tawait fetchI18nBundle(\"@ui5/webcomponents\");\n\t}\n}\n\nTextArea.define();\n\nexport default TextArea;\n"]},"metadata":{},"sourceType":"module"}