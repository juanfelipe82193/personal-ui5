{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { isDown, isUp } from \"@ui5/webcomponents-base/src/Keys.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/navigation-up-arrow.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/navigation-down-arrow.js\";\nimport ScrollEnablement from \"@ui5/webcomponents-base/dist/delegate/ScrollEnablement.js\";\nimport WheelSliderTemplate from \"./generated/templates/WheelSliderTemplate.lit.js\";\nimport Button from \"./Button.js\"; // Styles\n\nimport WheelSliderCss from \"./generated/themes/WheelSlider.css.js\";\n/**\n * @private\n */\n\nconst metadata = {\n  tag: \"ui5-wheelslider\",\n  properties:\n  /** @lends sap.ui.webcomponents.main.WheelSlider.prototype */\n  {\n    /**\n     * Defines whether the <code>ui5-wheelslider</code> is disabled\n     * (default is set to <code>false</code>).\n     * A disabled <code>ui5-wheelslider</code> can't be pressed or\n     * focused, and it is not in the tab chain.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    disabled: {\n      type: Boolean\n    },\n\n    /**\n     * Defines the currently selected value\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    value: {\n      type: String,\n      defaultValue: \"0\"\n    },\n\n    /**\n     * Defines the label of the wheelslider.\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    label: {\n      type: String,\n      defaultValue: \"\"\n    },\n\n    /**\n     * Indicates if the wheelslider is expanded.\n     * @type {boolean}\n     * @defaultvalue false\n     * @private\n     */\n    _expanded: {\n      type: Boolean\n    },\n    _items: {\n      type: String,\n      multiple: true\n    },\n    _itemsToShow: {\n      type: String,\n      multiple: true\n    },\n\n    /**\n     * Indicates if the wheelslider has a cyclic behaviour.\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    cyclic: {\n      type: Boolean\n    }\n  },\n  slots:\n  /** @lends sap.ui.webcomponents.main.WheelSlider.prototype */\n  {},\n  events:\n  /** @lends sap.ui.webcomponents.main.WheelSlider.prototype */\n  {\n    /**\n     * Fires when the wheel slider is expanded.\n     */\n    expand: {},\n\n    /**\n     * Fires when the wheel slider is collapsed.\n     */\n    collapse: {},\n\n    /**\n     *  Fires when new value is selected.\n     */\n    valueSelect: {\n      value: {\n        type: String\n      }\n    }\n  }\n};\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n *\n * <h3>Usage</h3>\n *\n * For the <code>ui5-wheelslider</code>\n * <h3>ES6 Module Import</h3>\n *\n * <code>import @ui5/webcomponents/dist/WheelSlider.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.WheelSlider\n * @extends UI5Element\n * @tagname ui5-wheelslider\n * @public\n * @since 1.0.0-rc.6\n */\n\nclass WheelSlider extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get styles() {\n    return WheelSliderCss;\n  }\n\n  static get template() {\n    return WheelSliderTemplate;\n  }\n\n  constructor() {\n    super();\n    this._currentElementIndex = 0;\n    this._itemCellHeight = 0;\n    this._itemsToShow = [];\n    this._scroller = new ScrollEnablement(this);\n\n    this._scroller.attachEvent(\"scroll\", this._updateScrolling.bind(this));\n\n    this._scroller.attachEvent(\"mouseup\", this._handleScrollTouchEnd.bind(this));\n\n    this._scroller.attachEvent(\"touchend\", this._handleScrollTouchEnd.bind(this));\n  }\n\n  onBeforeRendering() {\n    if (!this._expanded && this.cyclic) {\n      const index = this._currentElementIndex % this._items.length;\n      this._currentElementIndex = this._timesMultipliedOnCyclic() / 2 * this._items.length + index;\n    }\n\n    if (!this.value) {\n      this.value = this._items[0];\n    }\n\n    this._buildItemsToShow();\n\n    this._updateItemCellHeight();\n  }\n\n  static async onDefine() {\n    await Button.define();\n  }\n\n  onAfterRendering() {\n    if (!this._scroller.scrollContainer) {\n      this._scroller.scrollContainer = this.shadowRoot.querySelector(`#${this._id}--wrapper`);\n    }\n\n    if (!this._expanded) {\n      this._scroller.scrollTo(0, 0);\n    }\n\n    if (this._expanded) {\n      const elements = this.shadowRoot.querySelectorAll(\".ui5-wheelslider-item\");\n\n      for (let i = 0; i < elements.length; i++) {\n        if (elements[i].textContent === this.value) {\n          this._selectElementByIndex(Number(elements[i].dataset.itemIndex) + this._getCurrentRepetition() * this._items.length);\n\n          return true;\n        }\n      }\n\n      this._selectElement(elements[0]);\n    }\n  }\n\n  get classes() {\n    return {\n      root: {\n        \"ui5-wheelslider-root\": true,\n        \"ui5-phone\": isPhone()\n      }\n    };\n  }\n\n  expandSlider() {\n    this._expanded = true;\n    this.fireEvent(\"expand\", {});\n  }\n\n  collapseSlider() {\n    this._expanded = false;\n    this.fireEvent(\"collapse\", {});\n  }\n\n  _updateItemCellHeight() {\n    if (this.shadowRoot.querySelectorAll(\".ui5-wheelslider-item\").length) {\n      const itemComputedStyle = getComputedStyle(this.shadowRoot.querySelector(\".ui5-wheelslider-item\"));\n      const itemHeightValue = itemComputedStyle.getPropertyValue(\"--_ui5_wheelslider_item_height\");\n      const onlyDigitsValue = itemHeightValue.replace(\"rem\", \"\");\n      this._itemCellHeight = Number(onlyDigitsValue);\n    }\n  }\n\n  _updateScrolling() {\n    const sizeOfOneElementInPixels = this._itemCellHeight * 16,\n          scrollWhere = this._scroller.scrollContainer.scrollTop;\n    let offsetIndex;\n\n    if (!scrollWhere) {\n      return;\n    }\n\n    offsetIndex = Math.round(scrollWhere / sizeOfOneElementInPixels);\n\n    if (this.value === this._itemsToShow[offsetIndex]) {\n      return;\n    }\n\n    if (this.cyclic) {\n      const newIndex = this._handleArrayBorderReached(offsetIndex);\n\n      if (offsetIndex !== newIndex) {\n        offsetIndex = newIndex;\n      }\n    }\n\n    this.value = this._itemsToShow[offsetIndex];\n    this._currentElementIndex = offsetIndex;\n  }\n\n  _handleScrollTouchEnd() {\n    if (this._expanded) {\n      this._selectElementByIndex(this._currentElementIndex);\n    }\n  }\n\n  _selectElement(element) {\n    if (element && this._items.indexOf(element.textContent) > -1) {\n      this._currentElementIndex = Number(element.dataset.itemIndex);\n\n      this._selectElementByIndex(this._currentElementIndex);\n    }\n  }\n\n  _getCurrentRepetition() {\n    if (this._currentElementIndex) {\n      return Math.floor(this._currentElementIndex / this._items.length);\n    }\n\n    return 0;\n  }\n\n  _selectElementByIndex(currentIndex) {\n    let index = currentIndex;\n    const itemsCount = this._itemsToShow.length;\n    const sizeOfCellInCompactInRem = 2;\n    const sizeOfCellInCozyInRem = 2.875;\n    const sizeOfCellInCompactInPixels = sizeOfCellInCompactInRem * 16;\n    const sizeOfCellInCozyInPixels = sizeOfCellInCozyInRem * 16;\n    const scrollBy = this.isCompact ? sizeOfCellInCompactInPixels * index : sizeOfCellInCozyInPixels * index;\n\n    if (this.cyclic) {\n      index = this._handleArrayBorderReached(index);\n    }\n\n    if (index < itemsCount && index > -1) {\n      this._scroller.scrollTo(0, scrollBy);\n\n      this._currentElementIndex = index;\n      this.value = this._items[index - this._getCurrentRepetition() * this._items.length];\n      this.fireEvent(\"valueSelect\", {\n        value: this.value\n      });\n    }\n  }\n\n  _timesMultipliedOnCyclic() {\n    const minElementsInCyclicWheelSlider = 70;\n    const repetitionCount = Math.round(minElementsInCyclicWheelSlider / this._items.length);\n    const minRepetitionCount = 3;\n    return Math.max(minRepetitionCount, repetitionCount);\n  }\n\n  _buildItemsToShow() {\n    this._itemsToShow = this._items;\n\n    if (this.cyclic) {\n      if (this._itemsToShow.length < this._items.length * this._timesMultipliedOnCyclic()) {\n        for (let i = 0; i < this._timesMultipliedOnCyclic(); i++) {\n          this._itemsToShow = this._itemsToShow.concat(this._items);\n        }\n      }\n    }\n  }\n\n  _handleArrayBorderReached(currentIndex) {\n    const arrayLength = this._itemsToShow.length;\n    const maxVisibleElementsOnOneSide = 7;\n    let index = currentIndex;\n\n    if (maxVisibleElementsOnOneSide > index) {\n      index += this._items.length * 2;\n    } else if (index > arrayLength - maxVisibleElementsOnOneSide) {\n      index -= this._items.length * 2;\n    }\n\n    return index;\n  }\n\n  _handleWheel(e) {\n    if (!e) {\n      return;\n    }\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (e.timeStamp === this._prevWheelTimestamp || !this._expanded) {\n      return;\n    }\n\n    if (e.deltaY > 0) {\n      this._itemUp();\n    } else if (e.deltaY < 0) {\n      this._itemDown();\n    }\n\n    this._prevWheelTimestamp = e.timeStamp;\n  }\n\n  _onclick(e) {\n    if (!e.target.classList.contains(\"ui5-wheelslider-item\")) {\n      return;\n    }\n\n    if (this._expanded) {\n      this.value = e.target.textContent;\n\n      this._selectElement(e.target);\n\n      this.fireEvent(\"valueSelect\", {\n        value: this.value\n      });\n    } else {\n      this._expanded = true;\n    }\n  }\n\n  _onArrowDown(e) {\n    e.preventDefault();\n\n    this._itemDown();\n  }\n\n  _onArrowUp(e) {\n    e.preventDefault();\n\n    this._itemUp();\n  }\n\n  _itemDown() {\n    const nextElementIndex = this._currentElementIndex + 1;\n\n    this._selectElementByIndex(nextElementIndex);\n  }\n\n  _itemUp() {\n    const nextElementIndex = this._currentElementIndex - 1;\n\n    this._selectElementByIndex(nextElementIndex);\n  }\n\n  _onkeydown(е) {\n    if (!this._expanded) {\n      return;\n    }\n\n    if (isUp(е)) {\n      this._onArrowUp(е);\n    }\n\n    if (isDown(е)) {\n      this._onArrowDown(е);\n    }\n  }\n\n  _onfocusin(e) {\n    e.preventDefault();\n    this.expandSlider();\n  }\n\n  _onfocusout(e) {\n    e.preventDefault();\n    this.collapseSlider();\n  }\n\n}\n\nWheelSlider.define();\nexport default WheelSlider;","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents/dist/WheelSlider.js"],"names":["UI5Element","litRender","isPhone","isDown","isUp","ScrollEnablement","WheelSliderTemplate","Button","WheelSliderCss","metadata","tag","properties","disabled","type","Boolean","value","String","defaultValue","label","_expanded","_items","multiple","_itemsToShow","cyclic","slots","events","expand","collapse","valueSelect","WheelSlider","render","styles","template","constructor","_currentElementIndex","_itemCellHeight","_scroller","attachEvent","_updateScrolling","bind","_handleScrollTouchEnd","onBeforeRendering","index","length","_timesMultipliedOnCyclic","_buildItemsToShow","_updateItemCellHeight","onDefine","define","onAfterRendering","scrollContainer","shadowRoot","querySelector","_id","scrollTo","elements","querySelectorAll","i","textContent","_selectElementByIndex","Number","dataset","itemIndex","_getCurrentRepetition","_selectElement","classes","root","expandSlider","fireEvent","collapseSlider","itemComputedStyle","getComputedStyle","itemHeightValue","getPropertyValue","onlyDigitsValue","replace","sizeOfOneElementInPixels","scrollWhere","scrollTop","offsetIndex","Math","round","newIndex","_handleArrayBorderReached","element","indexOf","floor","currentIndex","itemsCount","sizeOfCellInCompactInRem","sizeOfCellInCozyInRem","sizeOfCellInCompactInPixels","sizeOfCellInCozyInPixels","scrollBy","isCompact","minElementsInCyclicWheelSlider","repetitionCount","minRepetitionCount","max","concat","arrayLength","maxVisibleElementsOnOneSide","_handleWheel","e","stopPropagation","preventDefault","timeStamp","_prevWheelTimestamp","deltaY","_itemUp","_itemDown","_onclick","target","classList","contains","_onArrowDown","_onArrowUp","nextElementIndex","_onkeydown","е","_onfocusin","_onfocusout"],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport {\n\tisDown,\n\tisUp,\n} from \"@ui5/webcomponents-base/src/Keys.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/navigation-up-arrow.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/navigation-down-arrow.js\";\nimport ScrollEnablement from \"@ui5/webcomponents-base/dist/delegate/ScrollEnablement.js\";\nimport WheelSliderTemplate from \"./generated/templates/WheelSliderTemplate.lit.js\";\nimport Button from \"./Button.js\";\n\n// Styles\nimport WheelSliderCss from \"./generated/themes/WheelSlider.css.js\";\n\n/**\n * @private\n */\nconst metadata = {\n\ttag: \"ui5-wheelslider\",\n\tproperties: /** @lends sap.ui.webcomponents.main.WheelSlider.prototype */ {\n\t\t/**\n\t\t * Defines whether the <code>ui5-wheelslider</code> is disabled\n\t\t * (default is set to <code>false</code>).\n\t\t * A disabled <code>ui5-wheelslider</code> can't be pressed or\n\t\t * focused, and it is not in the tab chain.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the currently selected value\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"0\",\n\t\t},\n\n\t\t/**\n\t\t * Defines the label of the wheelslider.\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tlabel: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Indicates if the wheelslider is expanded.\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @private\n\t\t */\n\t\t_expanded: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_items: {\n\t\t\ttype: String,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t_itemsToShow: {\n\t\t\ttype: String,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t/**\n\t\t * Indicates if the wheelslider has a cyclic behaviour.\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tcyclic: {\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tslots: /** @lends sap.ui.webcomponents.main.WheelSlider.prototype */ {\n\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.WheelSlider.prototype */ {\n\t\t/**\n\t\t * Fires when the wheel slider is expanded.\n\t\t */\n\t\texpand: {},\n\n\t\t/**\n\t\t * Fires when the wheel slider is collapsed.\n\t\t */\n\t\tcollapse: {},\n\n\t\t/**\n\t\t *  Fires when new value is selected.\n\t\t */\n\t\tvalueSelect: {\n\t\t\tvalue: {\n\t\t\t\ttype: String,\n\t\t\t},\n\t\t},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n *\n * <h3>Usage</h3>\n *\n * For the <code>ui5-wheelslider</code>\n * <h3>ES6 Module Import</h3>\n *\n * <code>import @ui5/webcomponents/dist/WheelSlider.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.WheelSlider\n * @extends UI5Element\n * @tagname ui5-wheelslider\n * @public\n * @since 1.0.0-rc.6\n */\nclass WheelSlider extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get styles() {\n\t\treturn WheelSliderCss;\n\t}\n\n\tstatic get template() {\n\t\treturn WheelSliderTemplate;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._currentElementIndex = 0;\n\t\tthis._itemCellHeight = 0;\n\t\tthis._itemsToShow = [];\n\t\tthis._scroller = new ScrollEnablement(this);\n\t\tthis._scroller.attachEvent(\"scroll\", this._updateScrolling.bind(this));\n\t\tthis._scroller.attachEvent(\"mouseup\", this._handleScrollTouchEnd.bind(this));\n\t\tthis._scroller.attachEvent(\"touchend\", this._handleScrollTouchEnd.bind(this));\n\t}\n\n\tonBeforeRendering() {\n\t\tif (!this._expanded && this.cyclic) {\n\t\t\tconst index = this._currentElementIndex % this._items.length;\n\t\t\tthis._currentElementIndex = (this._timesMultipliedOnCyclic() / 2) * this._items.length + index;\n\t\t}\n\n\t\tif (!this.value) {\n\t\t\tthis.value = this._items[0];\n\t\t}\n\n\t\tthis._buildItemsToShow();\n\t\tthis._updateItemCellHeight();\n\t}\n\n\tstatic async onDefine() {\n\t\tawait Button.define();\n\t}\n\n\tonAfterRendering() {\n\t\tif (!this._scroller.scrollContainer) {\n\t\t\tthis._scroller.scrollContainer = this.shadowRoot.querySelector(`#${this._id}--wrapper`);\n\t\t}\n\n\t\tif (!this._expanded) {\n\t\t\tthis._scroller.scrollTo(0, 0);\n\t\t}\n\n\t\tif (this._expanded) {\n\t\t\tconst elements = this.shadowRoot.querySelectorAll(\".ui5-wheelslider-item\");\n\t\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\t\tif (elements[i].textContent === this.value) {\n\t\t\t\t\tthis._selectElementByIndex(Number(elements[i].dataset.itemIndex) + this._getCurrentRepetition() * this._items.length);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._selectElement(elements[0]);\n\t\t}\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\troot: {\n\t\t\t\t\"ui5-wheelslider-root\": true,\n\t\t\t\t\"ui5-phone\": isPhone(),\n\t\t\t},\n\t\t};\n\t}\n\n\texpandSlider() {\n\t\tthis._expanded = true;\n\t\tthis.fireEvent(\"expand\", {});\n\t}\n\n\tcollapseSlider() {\n\t\tthis._expanded = false;\n\t\tthis.fireEvent(\"collapse\", {});\n\t}\n\n\t_updateItemCellHeight() {\n\t\tif (this.shadowRoot.querySelectorAll(\".ui5-wheelslider-item\").length) {\n\t\t\tconst itemComputedStyle = getComputedStyle(this.shadowRoot.querySelector(\".ui5-wheelslider-item\"));\n\t\t\tconst itemHeightValue = itemComputedStyle.getPropertyValue(\"--_ui5_wheelslider_item_height\");\n\t\t\tconst onlyDigitsValue = itemHeightValue.replace(\"rem\", \"\");\n\n\t\t\tthis._itemCellHeight = Number(onlyDigitsValue);\n\t\t}\n\t}\n\n\t_updateScrolling() {\n\t\tconst sizeOfOneElementInPixels = this._itemCellHeight * 16,\n\t\t\tscrollWhere = this._scroller.scrollContainer.scrollTop;\n\t\tlet offsetIndex;\n\n\t\tif (!scrollWhere) {\n\t\t\treturn;\n\t\t}\n\n\t\toffsetIndex = Math.round(scrollWhere / sizeOfOneElementInPixels);\n\n\t\tif (this.value === this._itemsToShow[offsetIndex]) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.cyclic) {\n\t\t\tconst newIndex = this._handleArrayBorderReached(offsetIndex);\n\t\t\tif (offsetIndex !== newIndex) {\n\t\t\t\toffsetIndex = newIndex;\n\t\t\t}\n\t\t}\n\n\t\tthis.value = this._itemsToShow[offsetIndex];\n\t\tthis._currentElementIndex = offsetIndex;\n\t}\n\n\t_handleScrollTouchEnd() {\n\t\tif (this._expanded) {\n\t\t\tthis._selectElementByIndex(this._currentElementIndex);\n\t\t}\n\t}\n\n\t_selectElement(element) {\n\t\tif (element && this._items.indexOf(element.textContent) > -1) {\n\t\t\tthis._currentElementIndex = Number(element.dataset.itemIndex);\n\t\t\tthis._selectElementByIndex(this._currentElementIndex);\n\t\t}\n\t}\n\n\t_getCurrentRepetition() {\n\t\tif (this._currentElementIndex) {\n\t\t\treturn Math.floor(this._currentElementIndex / this._items.length);\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\t_selectElementByIndex(currentIndex) {\n\t\tlet index = currentIndex;\n\t\tconst itemsCount = this._itemsToShow.length;\n\t\tconst sizeOfCellInCompactInRem = 2;\n\t\tconst sizeOfCellInCozyInRem = 2.875;\n\t\tconst sizeOfCellInCompactInPixels = sizeOfCellInCompactInRem * 16;\n\t\tconst sizeOfCellInCozyInPixels = sizeOfCellInCozyInRem * 16;\n\t\tconst scrollBy = this.isCompact ? sizeOfCellInCompactInPixels * index : sizeOfCellInCozyInPixels * index;\n\n\t\tif (this.cyclic) {\n\t\t\tindex = this._handleArrayBorderReached(index);\n\t\t}\n\n\t\tif (index < itemsCount && index > -1) {\n\t\t\tthis._scroller.scrollTo(0, scrollBy);\n\t\t\tthis._currentElementIndex = index;\n\t\t\tthis.value = this._items[index - (this._getCurrentRepetition() * this._items.length)];\n\t\t\tthis.fireEvent(\"valueSelect\", { value: this.value });\n\t\t}\n\t}\n\n\t_timesMultipliedOnCyclic() {\n\t\tconst minElementsInCyclicWheelSlider = 70;\n\t\tconst repetitionCount = Math.round(minElementsInCyclicWheelSlider / this._items.length);\n\t\tconst minRepetitionCount = 3;\n\n\t\treturn Math.max(minRepetitionCount, repetitionCount);\n\t}\n\n\t_buildItemsToShow() {\n\t\tthis._itemsToShow = this._items;\n\t\tif (this.cyclic) {\n\t\t\tif (this._itemsToShow.length < this._items.length * this._timesMultipliedOnCyclic()) {\n\t\t\t\tfor (let i = 0; i < this._timesMultipliedOnCyclic(); i++) {\n\t\t\t\t\tthis._itemsToShow = this._itemsToShow.concat(this._items);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_handleArrayBorderReached(currentIndex) {\n\t\tconst arrayLength = this._itemsToShow.length;\n\t\tconst maxVisibleElementsOnOneSide = 7;\n\t\tlet index = currentIndex;\n\n\t\tif (maxVisibleElementsOnOneSide > index) {\n\t\t\tindex += this._items.length * 2;\n\t\t} else if (index > arrayLength - maxVisibleElementsOnOneSide) {\n\t\t\tindex -= this._items.length * 2;\n\t\t}\n\n\t\treturn index;\n\t}\n\n\t_handleWheel(e) {\n\t\tif (!e) {\n\t\t\treturn;\n\t\t}\n\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tif (e.timeStamp === this._prevWheelTimestamp || !this._expanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.deltaY > 0) {\n\t\t\tthis._itemUp();\n\t\t} else if (e.deltaY < 0) {\n\t\t\tthis._itemDown();\n\t\t}\n\n\t\tthis._prevWheelTimestamp = e.timeStamp;\n\t}\n\n\t_onclick(e) {\n\t\tif (!e.target.classList.contains(\"ui5-wheelslider-item\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._expanded) {\n\t\t\tthis.value = e.target.textContent;\n\t\t\tthis._selectElement(e.target);\n\t\t\tthis.fireEvent(\"valueSelect\", { value: this.value });\n\t\t} else {\n\t\t\tthis._expanded = true;\n\t\t}\n\t}\n\n\t_onArrowDown(e) {\n\t\te.preventDefault();\n\t\tthis._itemDown();\n\t}\n\n\t_onArrowUp(e) {\n\t\te.preventDefault();\n\t\tthis._itemUp();\n\t}\n\n\t_itemDown() {\n\t\tconst nextElementIndex = this._currentElementIndex + 1;\n\t\tthis._selectElementByIndex(nextElementIndex);\n\t}\n\n\t_itemUp() {\n\t\tconst nextElementIndex = this._currentElementIndex - 1;\n\t\tthis._selectElementByIndex(nextElementIndex);\n\t}\n\n\t_onkeydown(е) {\n\t\tif (!this._expanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isUp(е)) {\n\t\t\tthis._onArrowUp(е);\n\t\t}\n\n\t\tif (isDown(е)) {\n\t\t\tthis._onArrowDown(е);\n\t\t}\n\t}\n\n\t_onfocusin(e) {\n\t\te.preventDefault();\n\t\tthis.expandSlider();\n\t}\n\n\t_onfocusout(e) {\n\t\te.preventDefault();\n\t\tthis.collapseSlider();\n\t}\n}\n\nWheelSlider.define();\n\nexport default WheelSlider;\n"]},"metadata":{},"sourceType":"module"}