{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/slim-arrow-down.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/decline.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { isBackSpace, isDelete, isShow } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport * as Filters from \"./ComboBoxFilters.js\";\nimport { VALUE_STATE_SUCCESS, VALUE_STATE_ERROR, VALUE_STATE_WARNING, INPUT_SUGGESTIONS_TITLE, ICON_ACCESSIBLE_NAME } from \"./generated/i18n/i18n-defaults.js\"; // Templates\n\nimport ComboBoxTemplate from \"./generated/templates/ComboBoxTemplate.lit.js\";\nimport ComboBoxPopoverTemplate from \"./generated/templates/ComboBoxPopoverTemplate.lit.js\"; // Styles\n\nimport ComboBoxCss from \"./generated/themes/ComboBox.css.js\";\nimport ComboBoxPopoverCss from \"./generated/themes/ComboBoxPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\nimport ComboBoxItem from \"./ComboBoxItem.js\";\nimport Icon from \"./Icon.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\nimport Button from \"./Button.js\";\nimport StandardListItem from \"./StandardListItem.js\";\n/**\n * @public\n */\n\nconst metadata = {\n  tag: \"ui5-combobox\",\n  defaultSlot: \"items\",\n  properties:\n  /** @lends sap.ui.webcomponents.main.ComboBox.prototype */\n  {\n    /**\n     * Defines the value of the <code>ui5-combobox</code>.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    value: {\n      type: String,\n      defaultValue: \"\"\n    },\n\n    /**\n     * Defines the \"live\" value of the <code>ui5-combobox</code>.\n     * <br><br>\n     * <b>Note:</b> The property is updated upon typing.\n     *\n     * <br><br>\n     * <b>Note:</b> Initially the filter value is synced with value.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    filterValue: {\n      type: String,\n      defaultValue: \"\"\n    },\n\n    /**\n     * Defines a short hint intended to aid the user with data entry when the\n     * <code>ui5-combobox</code> has no value.\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    placeholder: {\n      type: String,\n      defaultValue: \"\"\n    },\n\n    /**\n     * Defines whether <code>ui5-combobox</code> is in disabled state.\n     * <br><br>\n     * <b>Note:</b> A disabled <code>ui5-combobox</code> is completely uninteractive.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    disabled: {\n      type: Boolean\n    },\n\n    /**\n     * Defines the value state of the <code>ui5-combobox</code>.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>None</code></li>\n     * <li><code>Error</code></li>\n     * <li><code>Warning</code></li>\n     * <li><code>Success</code></li>\n     * <li><code>Information</code></li>\n     * </ul>\n     *\n     * @type {ValueState}\n     * @defaultvalue \"None\"\n     * @public\n     */\n    valueState: {\n      type: ValueState,\n      defaultValue: ValueState.None\n    },\n\n    /**\n     * Defines whether the <code>ui5-combobox</code> is readonly.\n     * <br><br>\n     * <b>Note:</b> A read-only <code>ui5-combobox</code> is not editable,\n     * but still provides visual feedback upon user interaction.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    readonly: {\n      type: Boolean\n    },\n\n    /**\n     * Defines whether the <code>ui5-combobox</code> is required.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    required: {\n      type: Boolean\n    },\n\n    /**\n     * Indicates whether a loading indicator should be shown in the picker.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    loading: {\n      type: Boolean\n    },\n\n    /**\n     * Defines the filter type of the <code>ui5-combobox</code>.\n     * Available options are: <code>StartsWithPerTerm</code>, <code>StartsWith</code> and <code>Contains</code>.\n     *\n     * @type {string}\n     * @defaultvalue \"StartsWithPerTerm\"\n     * @public\n     */\n    filter: {\n      type: String,\n      defaultValue: \"StartsWithPerTerm\"\n    },\n\n    /**\n     * Indicates whether the input is focssed\n     * @private\n     */\n    focused: {\n      type: Boolean\n    },\n    _iconPressed: {\n      type: Boolean,\n      noAttribute: true\n    },\n    _tempValue: {\n      type: String,\n      defaultValue: \"\"\n    },\n    _filteredItems: {\n      type: Object\n    }\n  },\n  managedSlots: true,\n  slots:\n  /** @lends sap.ui.webcomponents.main.ComboBox.prototype */\n  {\n    /**\n     * Defines the <code>ui5-combobox</code> items.\n     * <br><br>\n     * Example: <br>\n     * &lt;ui5-combobox><br>\n     * &nbsp;&nbsp;&nbsp;&nbsp;&lt;ui5-li>Item #1&lt;/ui5-li><br>\n     * &nbsp;&nbsp;&nbsp;&nbsp;&lt;ui5-li>Item #2&lt;/ui5-li><br>\n     * &lt;/ui5-combobox>\n     * <br> <br>\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement,\n      listenFor: {\n        include: [\"*\"]\n      }\n    }\n  },\n  events:\n  /** @lends sap.ui.webcomponents.main.ComboBox.prototype */\n  {\n    /**\n     * Fired when the input operation has finished by pressing Enter, focusout or an item is selected.\n     *\n     * @event\n     * @public\n     */\n    change: {},\n\n    /**\n     * Fired when typing in input.\n     * <br><br>\n     * <b>Note:</b> filterValue property is updated, input is changed.\n     * @event\n     * @public\n     */\n    input: {}\n  }\n};\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-combobox</code> component represents a drop-down menu with a list of the available options and a text input field to narrow down the options.\n *\n * It is commonly used to enable users to select one or more options from a predefined list.\n * <h3>Structure</h3>\n * The <code>ui5-combobox</code> consists of the following elements:\n * <ul>\n * <li> Input field - displays the selected option or a custom user entry. Users can type to narrow down the list or enter their own value.\n * <li> Drop-down arrow - expands\\collapses the option list.</li>\n * <li> Option list - the list of available options.</li>\n * </ul>\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-combobox</code> provides advanced keyboard handling.\n *\n * <h4>Picker</h4>\n * If the <code>ui5-combobox</code> is focused,\n * you can open or close the drop-down by pressing <code>F4</code>, <code>ALT+UP</code> or <code>ALT+DOWN</code> keys.\n * <br>\n *\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/ComboBox\";</code>\n *\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.ComboBox\n * @extends UI5Element\n * @tagname ui5-combobox\n * @appenddocs ComboBoxItem\n * @public\n * @since 1.0.0-rc.6\n */\n\nclass ComboBox extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get styles() {\n    return ComboBoxCss;\n  }\n\n  static get staticAreaStyles() {\n    return [ComboBoxPopoverCss, ResponsivePopoverCommonCss];\n  }\n\n  static get template() {\n    return ComboBoxTemplate;\n  }\n\n  static get staticAreaTemplate() {\n    return ComboBoxPopoverTemplate;\n  }\n\n  constructor(props) {\n    super(props);\n    this._filteredItems = [];\n    this._initialRendering = true;\n    this.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n  }\n\n  onBeforeRendering() {\n    const domValue = this._initialRendering ? this.value : this.filterValue;\n    this._filteredItems = this._filterItems(domValue);\n\n    if (this._autocomplete && domValue !== \"\") {\n      this._autoCompleteValue(domValue);\n    } else {\n      this._tempValue = domValue;\n    }\n\n    if (!this._initialRendering && this.popover && document.activeElement === this && !this._filteredItems.length) {\n      this.popover.close();\n    }\n\n    this._selectMatchingItem();\n\n    this._initialRendering = false;\n  }\n\n  async onAfterRendering() {\n    await this._respPopover();\n\n    if (isPhone() && this.responsivePopover.opened) {\n      // Set initial focus to the native input\n      this.inner.focus();\n    }\n  }\n\n  _focusin(event) {\n    this.focused = true;\n\n    if (this.filterValue !== this.value) {\n      this.filterValue = this.value;\n    }\n\n    event.target.setSelectionRange(0, this.value.length);\n  }\n\n  _focusout() {\n    this.focused = false;\n  }\n\n  _afterOpenPopover() {\n    this._iconPressed = true;\n  }\n\n  _afterClosePopover() {\n    this._iconPressed = false; // close device's keyboard and prevent further typing\n\n    if (isPhone()) {\n      this.blur();\n    }\n  }\n\n  _toggleRespPopover() {\n    if (this.responsivePopover.opened) {\n      this._closeRespPopover();\n    } else {\n      this._openRespPopover();\n    }\n  }\n\n  _resetFilter() {\n    this._filteredItems = this._filterItems(\"\");\n\n    this._selectMatchingItem();\n  }\n\n  _arrowClick() {\n    this.inner.focus();\n\n    this._resetFilter();\n\n    this._toggleRespPopover();\n  }\n\n  _input(event) {\n    const {\n      value\n    } = event.target;\n\n    if (event.target === this.inner) {\n      // stop the native event, as the semantic \"input\" would be fired.\n      event.stopImmediatePropagation();\n    }\n\n    this.filterValue = value;\n    this.fireEvent(\"input\");\n\n    this._openRespPopover();\n  }\n\n  _startsWithMatchingItems(str) {\n    return Filters.StartsWith(str, this._filteredItems);\n  }\n\n  _keydown(event) {\n    this._autocomplete = !(isBackSpace(event) || isDelete(event));\n\n    if (isShow(event) && !this.readonly && !this.disabled) {\n      event.preventDefault();\n\n      this._resetFilter();\n\n      this._toggleRespPopover();\n    }\n  }\n\n  _click(event) {\n    if (isPhone() && !this.readonly) {\n      this._openRespPopover();\n    }\n  }\n\n  _closeRespPopover() {\n    this.responsivePopover.close();\n  }\n\n  _openRespPopover() {\n    this.updateStaticAreaItemContentDensity();\n    this.responsivePopover.open(this);\n  }\n\n  _filterItems(str) {\n    return (Filters[this.filter] || Filters.StartsWithPerTerm)(str, this.items);\n  }\n\n  _autoCompleteValue(current) {\n    const currentValue = current;\n\n    const matchingItems = this._startsWithMatchingItems(currentValue);\n\n    if (matchingItems.length) {\n      this._tempValue = matchingItems[0] ? matchingItems[0].text : current;\n    } else {\n      this._tempValue = current;\n    }\n\n    if (matchingItems.length && currentValue !== this._tempValue) {\n      setTimeout(() => {\n        this.inner.setSelectionRange(currentValue.length, this._tempValue.length);\n      }, 0);\n    }\n  }\n\n  _selectMatchingItem() {\n    this._filteredItems = this._filteredItems.map(item => {\n      item.selected = item.text === this._tempValue;\n      return item;\n    });\n  }\n\n  _inputChange() {\n    if (this.value !== this._tempValue) {\n      this.value = this._tempValue;\n      this.fireEvent(\"change\");\n      this.inner.setSelectionRange(this.value.length, this.value.length);\n    }\n  }\n\n  _selectItem(event) {\n    const listItem = event.detail.item;\n    this._tempValue = listItem.mappedItem.text;\n    this.filterValue = this._tempValue;\n\n    this._filteredItems.map(item => {\n      item.selected = item === listItem.mappedItem;\n      return item;\n    });\n\n    this._inputChange();\n\n    this._closeRespPopover();\n  }\n\n  get _filteredItems() {\n    return !this.items.length ? [] : this.items.filter(item => {\n      return item.text.toLowerCase().startsWith(this.value.toLowerCase());\n    });\n  }\n\n  get _headerTitleText() {\n    return this.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n  }\n\n  get _iconAccessibleNameText() {\n    return this.i18nBundle.getText(ICON_ACCESSIBLE_NAME);\n  }\n\n  get inner() {\n    return isPhone() ? this.responsivePopover.querySelector(\".ui5-input-inner-phone\") : this.shadowRoot.querySelector(\"[inner-input]\");\n  }\n\n  async _respPopover() {\n    const staticAreaItem = await this.getStaticAreaItemDomRef();\n    this.responsivePopover = staticAreaItem.querySelector(\"ui5-responsive-popover\");\n    return this.responsivePopover;\n  }\n\n  get editable() {\n    return !this.readonly;\n  }\n\n  get hasValueState() {\n    return this.valueState !== ValueState.None;\n  }\n\n  get valueStateText() {\n    return this.valueStateTextMappings[this.valueState];\n  }\n\n  get valueStateTextMappings() {\n    return {\n      \"Success\": this.i18nBundle.getText(VALUE_STATE_SUCCESS),\n      \"Error\": this.i18nBundle.getText(VALUE_STATE_ERROR),\n      \"Warning\": this.i18nBundle.getText(VALUE_STATE_WARNING)\n    };\n  }\n\n  static async onDefine() {\n    await Promise.all([ComboBoxItem.define(), Icon.define(), ResponsivePopover.define(), List.define(), BusyIndicator.define(), Button.define(), StandardListItem.define()]);\n  }\n\n}\n\nComboBox.define();\nexport default ComboBox;","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents/dist/ComboBox.js"],"names":["UI5Element","litRender","ValueState","isPhone","getI18nBundle","isBackSpace","isDelete","isShow","Filters","VALUE_STATE_SUCCESS","VALUE_STATE_ERROR","VALUE_STATE_WARNING","INPUT_SUGGESTIONS_TITLE","ICON_ACCESSIBLE_NAME","ComboBoxTemplate","ComboBoxPopoverTemplate","ComboBoxCss","ComboBoxPopoverCss","ResponsivePopoverCommonCss","ComboBoxItem","Icon","ResponsivePopover","List","BusyIndicator","Button","StandardListItem","metadata","tag","defaultSlot","properties","value","type","String","defaultValue","filterValue","placeholder","disabled","Boolean","valueState","None","readonly","required","loading","filter","focused","_iconPressed","noAttribute","_tempValue","_filteredItems","Object","managedSlots","slots","propertyName","HTMLElement","listenFor","include","events","change","input","ComboBox","render","styles","staticAreaStyles","template","staticAreaTemplate","constructor","props","_initialRendering","i18nBundle","onBeforeRendering","domValue","_filterItems","_autocomplete","_autoCompleteValue","popover","document","activeElement","length","close","_selectMatchingItem","onAfterRendering","_respPopover","responsivePopover","opened","inner","focus","_focusin","event","target","setSelectionRange","_focusout","_afterOpenPopover","_afterClosePopover","blur","_toggleRespPopover","_closeRespPopover","_openRespPopover","_resetFilter","_arrowClick","_input","stopImmediatePropagation","fireEvent","_startsWithMatchingItems","str","StartsWith","_keydown","preventDefault","_click","updateStaticAreaItemContentDensity","open","StartsWithPerTerm","items","current","currentValue","matchingItems","text","setTimeout","map","item","selected","_inputChange","_selectItem","listItem","detail","mappedItem","toLowerCase","startsWith","_headerTitleText","getText","_iconAccessibleNameText","querySelector","shadowRoot","staticAreaItem","getStaticAreaItemDomRef","editable","hasValueState","valueStateText","valueStateTextMappings","onDefine","Promise","all","define"],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/slim-arrow-down.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/decline.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { isBackSpace, isDelete, isShow } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport * as Filters from \"./ComboBoxFilters.js\";\n\nimport {\n\tVALUE_STATE_SUCCESS,\n\tVALUE_STATE_ERROR,\n\tVALUE_STATE_WARNING,\n\tINPUT_SUGGESTIONS_TITLE,\n\tICON_ACCESSIBLE_NAME,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Templates\nimport ComboBoxTemplate from \"./generated/templates/ComboBoxTemplate.lit.js\";\nimport ComboBoxPopoverTemplate from \"./generated/templates/ComboBoxPopoverTemplate.lit.js\";\n\n// Styles\nimport ComboBoxCss from \"./generated/themes/ComboBox.css.js\";\nimport ComboBoxPopoverCss from \"./generated/themes/ComboBoxPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\n\nimport ComboBoxItem from \"./ComboBoxItem.js\";\nimport Icon from \"./Icon.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\nimport Button from \"./Button.js\";\nimport StandardListItem from \"./StandardListItem.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-combobox\",\n\tdefaultSlot: \"items\",\n\tproperties: /** @lends sap.ui.webcomponents.main.ComboBox.prototype */ {\n\t\t/**\n\t\t * Defines the value of the <code>ui5-combobox</code>.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines the \"live\" value of the <code>ui5-combobox</code>.\n\t\t * <br><br>\n\t\t * <b>Note:</b> The property is updated upon typing.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> Initially the filter value is synced with value.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tfilterValue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines a short hint intended to aid the user with data entry when the\n\t\t * <code>ui5-combobox</code> has no value.\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines whether <code>ui5-combobox</code> is in disabled state.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A disabled <code>ui5-combobox</code> is completely uninteractive.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state of the <code>ui5-combobox</code>.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>None</code></li>\n\t\t * <li><code>Error</code></li>\n\t\t * <li><code>Warning</code></li>\n\t\t * <li><code>Success</code></li>\n\t\t * <li><code>Information</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {ValueState}\n\t\t * @defaultvalue \"None\"\n\t\t * @public\n\t\t */\n\t\tvalueState: {\n\t\t\ttype: ValueState,\n\t\t\tdefaultValue: ValueState.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the <code>ui5-combobox</code> is readonly.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A read-only <code>ui5-combobox</code> is not editable,\n\t\t * but still provides visual feedback upon user interaction.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the <code>ui5-combobox</code> is required.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether a loading indicator should be shown in the picker.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the filter type of the <code>ui5-combobox</code>.\n\t\t * Available options are: <code>StartsWithPerTerm</code>, <code>StartsWith</code> and <code>Contains</code>.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"StartsWithPerTerm\"\n\t\t * @public\n\t\t */\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"StartsWithPerTerm\",\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether the input is focssed\n\t\t * @private\n\t\t */\n\t\tfocused: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_iconPressed: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_tempValue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t_filteredItems: {\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.main.ComboBox.prototype */ {\n\t\t/**\n\t\t * Defines the <code>ui5-combobox</code> items.\n\t\t * <br><br>\n\t\t * Example: <br>\n\t\t * &lt;ui5-combobox><br>\n\t\t * &nbsp;&nbsp;&nbsp;&nbsp;&lt;ui5-li>Item #1&lt;/ui5-li><br>\n\t\t * &nbsp;&nbsp;&nbsp;&nbsp;&lt;ui5-li>Item #2&lt;/ui5-li><br>\n\t\t * &lt;/ui5-combobox>\n\t\t * <br> <br>\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t\tlistenFor: { include: [\"*\"] },\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.ComboBox.prototype */ {\n\t\t/**\n\t\t * Fired when the input operation has finished by pressing Enter, focusout or an item is selected.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t */\n\t\tchange: {},\n\n\t\t/**\n\t\t * Fired when typing in input.\n\t\t * <br><br>\n\t\t * <b>Note:</b> filterValue property is updated, input is changed.\n\t\t * @event\n\t\t * @public\n\t\t */\n\t\tinput: {},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-combobox</code> component represents a drop-down menu with a list of the available options and a text input field to narrow down the options.\n *\n * It is commonly used to enable users to select one or more options from a predefined list.\n * <h3>Structure</h3>\n * The <code>ui5-combobox</code> consists of the following elements:\n * <ul>\n * <li> Input field - displays the selected option or a custom user entry. Users can type to narrow down the list or enter their own value.\n * <li> Drop-down arrow - expands\\collapses the option list.</li>\n * <li> Option list - the list of available options.</li>\n * </ul>\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-combobox</code> provides advanced keyboard handling.\n *\n * <h4>Picker</h4>\n * If the <code>ui5-combobox</code> is focused,\n * you can open or close the drop-down by pressing <code>F4</code>, <code>ALT+UP</code> or <code>ALT+DOWN</code> keys.\n * <br>\n *\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/ComboBox\";</code>\n *\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.ComboBox\n * @extends UI5Element\n * @tagname ui5-combobox\n * @appenddocs ComboBoxItem\n * @public\n * @since 1.0.0-rc.6\n */\nclass ComboBox extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get styles() {\n\t\treturn ComboBoxCss;\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn [ComboBoxPopoverCss, ResponsivePopoverCommonCss];\n\t}\n\n\tstatic get template() {\n\t\treturn ComboBoxTemplate;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn ComboBoxPopoverTemplate;\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis._filteredItems = [];\n\t\tthis._initialRendering = true;\n\t\tthis.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tonBeforeRendering() {\n\t\tconst domValue = this._initialRendering ? this.value : this.filterValue;\n\n\t\tthis._filteredItems = this._filterItems(domValue);\n\n\t\tif (this._autocomplete && domValue !== \"\") {\n\t\t\tthis._autoCompleteValue(domValue);\n\t\t} else {\n\t\t\tthis._tempValue = domValue;\n\t\t}\n\n\t\tif (!this._initialRendering && this.popover && document.activeElement === this && !this._filteredItems.length) {\n\t\t\tthis.popover.close();\n\t\t}\n\n\t\tthis._selectMatchingItem();\n\t\tthis._initialRendering = false;\n\t}\n\n\tasync onAfterRendering() {\n\t\tawait this._respPopover();\n\t\tif (isPhone() && this.responsivePopover.opened) {\n\t\t\t// Set initial focus to the native input\n\t\t\tthis.inner.focus();\n\t\t}\n\t}\n\n\t_focusin(event) {\n\t\tthis.focused = true;\n\n\t\tif (this.filterValue !== this.value) {\n\t\t\tthis.filterValue = this.value;\n\t\t}\n\n\t\tevent.target.setSelectionRange(0, this.value.length);\n\t}\n\n\t_focusout() {\n\t\tthis.focused = false;\n\t}\n\n\t_afterOpenPopover() {\n\t\tthis._iconPressed = true;\n\t}\n\n\t_afterClosePopover() {\n\t\tthis._iconPressed = false;\n\n\t\t// close device's keyboard and prevent further typing\n\t\tif (isPhone()) {\n\t\t\tthis.blur();\n\t\t}\n\t}\n\n\t_toggleRespPopover() {\n\t\tif (this.responsivePopover.opened) {\n\t\t\tthis._closeRespPopover();\n\t\t} else {\n\t\t\tthis._openRespPopover();\n\t\t}\n\t}\n\n\t_resetFilter() {\n\t\tthis._filteredItems = this._filterItems(\"\");\n\t\tthis._selectMatchingItem();\n\t}\n\n\t_arrowClick() {\n\t\tthis.inner.focus();\n\t\tthis._resetFilter();\n\n\t\tthis._toggleRespPopover();\n\t}\n\n\t_input(event) {\n\t\tconst { value } = event.target;\n\n\t\tif (event.target === this.inner) {\n\t\t\t// stop the native event, as the semantic \"input\" would be fired.\n\t\t\tevent.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.filterValue = value;\n\t\tthis.fireEvent(\"input\");\n\n\t\tthis._openRespPopover();\n\t}\n\n\t_startsWithMatchingItems(str) {\n\t\treturn Filters.StartsWith(str, this._filteredItems);\n\t}\n\n\t_keydown(event) {\n\t\tthis._autocomplete = !(isBackSpace(event) || isDelete(event));\n\n\t\tif (isShow(event) && !this.readonly && !this.disabled) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._resetFilter();\n\t\t\tthis._toggleRespPopover();\n\t\t}\n\t}\n\n\t_click(event) {\n\t\tif (isPhone() && !this.readonly) {\n\t\t\tthis._openRespPopover();\n\t\t}\n\t}\n\n\t_closeRespPopover() {\n\t\tthis.responsivePopover.close();\n\t}\n\n\t_openRespPopover() {\n\t\tthis.updateStaticAreaItemContentDensity();\n\t\tthis.responsivePopover.open(this);\n\t}\n\n\t_filterItems(str) {\n\t\treturn (Filters[this.filter] || Filters.StartsWithPerTerm)(str, this.items);\n\t}\n\n\t_autoCompleteValue(current) {\n\t\tconst currentValue = current;\n\t\tconst matchingItems = this._startsWithMatchingItems(currentValue);\n\n\t\tif (matchingItems.length) {\n\t\t\tthis._tempValue = matchingItems[0] ? matchingItems[0].text : current;\n\t\t} else {\n\t\t\tthis._tempValue = current;\n\t\t}\n\n\t\tif (matchingItems.length && (currentValue !== this._tempValue)) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.inner.setSelectionRange(currentValue.length, this._tempValue.length);\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\t_selectMatchingItem() {\n\t\tthis._filteredItems = this._filteredItems.map(item => {\n\t\t\titem.selected = (item.text === this._tempValue);\n\n\t\t\treturn item;\n\t\t});\n\t}\n\n\t_inputChange() {\n\t\tif (this.value !== this._tempValue) {\n\t\t\tthis.value = this._tempValue;\n\t\t\tthis.fireEvent(\"change\");\n\t\t\tthis.inner.setSelectionRange(this.value.length, this.value.length);\n\t\t}\n\t}\n\n\t_selectItem(event) {\n\t\tconst listItem = event.detail.item;\n\n\t\tthis._tempValue = listItem.mappedItem.text;\n\t\tthis.filterValue = this._tempValue;\n\n\t\tthis._filteredItems.map(item => {\n\t\t\titem.selected = (item === listItem.mappedItem);\n\n\t\t\treturn item;\n\t\t});\n\n\t\tthis._inputChange();\n\t\tthis._closeRespPopover();\n\t}\n\n\tget _filteredItems() {\n\t\treturn !this.items.length ? [] : this.items.filter(item => {\n\t\t\treturn item.text.toLowerCase().startsWith(this.value.toLowerCase());\n\t\t});\n\t}\n\n\tget _headerTitleText() {\n\t\treturn this.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n\t}\n\n\tget _iconAccessibleNameText() {\n\t\treturn this.i18nBundle.getText(ICON_ACCESSIBLE_NAME);\n\t}\n\n\tget inner() {\n\t\treturn isPhone() ? this.responsivePopover.querySelector(\".ui5-input-inner-phone\") : this.shadowRoot.querySelector(\"[inner-input]\");\n\t}\n\n\tasync _respPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\tthis.responsivePopover = staticAreaItem.querySelector(\"ui5-responsive-popover\");\n\t\treturn this.responsivePopover;\n\t}\n\n\tget editable() {\n\t\treturn !this.readonly;\n\t}\n\n\tget hasValueState() {\n\t\treturn this.valueState !== ValueState.None;\n\t}\n\n\tget valueStateText() {\n\t\treturn this.valueStateTextMappings[this.valueState];\n\t}\n\n\tget valueStateTextMappings() {\n\t\treturn {\n\t\t\t\"Success\": this.i18nBundle.getText(VALUE_STATE_SUCCESS),\n\t\t\t\"Error\": this.i18nBundle.getText(VALUE_STATE_ERROR),\n\t\t\t\"Warning\": this.i18nBundle.getText(VALUE_STATE_WARNING),\n\t\t};\n\t}\n\n\tstatic async onDefine() {\n\t\tawait Promise.all([\n\t\t\tComboBoxItem.define(),\n\t\t\tIcon.define(),\n\t\t\tResponsivePopover.define(),\n\t\t\tList.define(),\n\t\t\tBusyIndicator.define(),\n\t\t\tButton.define(),\n\t\t\tStandardListItem.define(),\n\t\t]);\n\t}\n}\n\nComboBox.define();\n\nexport default ComboBox;\n"]},"metadata":{},"sourceType":"module"}