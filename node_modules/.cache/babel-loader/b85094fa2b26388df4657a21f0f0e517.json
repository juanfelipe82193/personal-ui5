{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport { getLastTabbableElement } from \"@ui5/webcomponents-base/dist/util/TabbableElements.js\";\nimport { isTabNext } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport ListMode from \"./types/ListMode.js\";\nimport ListSeparators from \"./types/ListSeparators.js\";\nimport BusyIndicator from \"./BusyIndicator.js\"; // Template\n\nimport ListTemplate from \"./generated/templates/ListTemplate.lit.js\"; // Styles\n\nimport listCss from \"./generated/themes/List.css.js\";\nconst BUSYINDICATOR_HEIGHT = 48; // px\n\nconst INFINITE_SCROLL_DEBOUNCE_RATE = 250; // ms\n\n/**\n * @public\n */\n\nconst metadata = {\n  tag: \"ui5-list\",\n  managedSlots: true,\n  slots:\n  /** @lends sap.ui.webcomponents.main.List.prototype */\n  {\n    /**\n     * Defines the <code>ui5-li</code> header.\n     * <br><br>\n     * <b>Note:</b> When <code>header</code> is set, the\n     * <code>headerText</code> property is ignored.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    header: {\n      type: HTMLElement\n    },\n\n    /**\n     * Defines the items of the <code>ui5-list</code>.\n     * <br><br>\n     * <b>Note:</b> Use <code>ui5-li</code>, <code>ui5-li-custom</code>, and <code>ui5-li-groupheader</code> for the intended design.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement\n    }\n  },\n  properties:\n  /** @lends  sap.ui.webcomponents.main.List.prototype */\n  {\n    /**\n     * Defines the <code>ui5-list</code> header text.\n     * <br><br>\n     * <b>Note:</b> If <code>header</code> is set this property is ignored.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    headerText: {\n      type: String\n    },\n\n    /**\n     * Defines the footer text.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    footerText: {\n      type: String\n    },\n\n    /**\n     * Determines whether the list items are indented.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    inset: {\n      type: Boolean\n    },\n\n    /**\n     * Defines the mode of the <code>ui5-list</code>.\n     * <br><br>\n     * <b>Note:</b> Avalaible options are <code>None</code>, <code>SingleSelect</code>,\n     * <code>MultiSelect</code>, and <code>Delete</code>.\n     *\n     * @type {ListMode}\n     * @defaultvalue \"None\"\n     * @public\n     */\n    mode: {\n      type: ListMode,\n      defaultValue: ListMode.None\n    },\n\n    /**\n     * Defines the text that is displayed when the <code>ui5-list</code> contains no items.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    noDataText: {\n      type: String\n    },\n\n    /**\n     * Defines the item separator style that is used.\n     * <br><br>\n     * <b>Notes:</b>\n     * <ul>\n     * <li>Avalaible options are <code>All</code>, <code>Inner</code>, and <code>None</code>.</li>\n     * <li>When set to <code>None</code>, none of the items are separated by horizontal lines.</li>\n     * <li>When set to <code>Inner</code>, the first item doesn't have a top separator and the last\n     * item doesn't have a bottom separator.</li>\n     * </ul>\n     *\n     * @type {ListSeparators}\n     * @defaultvalue \"All\"\n     * @public\n     */\n    separators: {\n      type: ListSeparators,\n      defaultValue: ListSeparators.All\n    },\n\n    /**\n     * Defines if the component would fire the <code>loadMore</code> event\n     * when the user scrolls to the bottom of the list, and helps achieving an \"infinite scroll\" effect\n     * by adding new items each time.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.6\n     */\n    infiniteScroll: {\n      type: Boolean\n    },\n\n    /**\n     * Defines if the component would display a loading indicator at the bottom of the list.\n     * It's especially useful, when combined with <code>infiniteScroll</code>.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.6\n     */\n    busy: {\n      type: Boolean\n    }\n  },\n  events:\n  /** @lends  sap.ui.webcomponents.main.List.prototype */\n  {\n    /**\n     * Fired when an item is activated, unless the item's <code>type</code> property\n     * is set to <code>Inactive</code>.\n     *\n     * @event\n     * @param {HTMLElement} item the clicked item.\n     * @public\n     */\n    itemClick: {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n\n    /**\n     * Fired when the Delete button of any item is pressed.\n     * <br><br>\n     * <b>Note:</b> A Delete button is displayed on each item,\n     * when the <code>ui5-list</code> <code>mode</code> property is set to <code>Delete</code>.\n     * @event\n     * @param {HTMLElement} item the deleted item.\n     * @public\n     */\n    itemDelete: {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n\n    /**\n     * Fired when selection is changed by user interaction\n     * in <code>SingleSelect</code> and <code>MultiSelect</code> modes.\n     *\n     * @event\n     * @param {Array} selectedItems An array of the selected items.\n     * @param {Array} previouslySelectedItems An array of the previously selected items.\n     * @public\n     */\n    selectionChange: {\n      detail: {\n        selectedItems: {\n          type: Array\n        },\n        previouslySelectedItems: {\n          type: Array\n        },\n        selectionComponentPressed: {\n          type: Boolean\n        } // protected, indicates if the user used the selection components to change the selection\n\n      }\n    },\n\n    /**\n     * Fired when the user scrolls to the bottom of the list.\n     * <br><br>\n     * <b>Note:</b> The event is fired when the <code>infiniteScroll</code> property is enabled.\n     *\n     * @event\n     * @public\n     * @since 1.0.0-rc.6\n     */\n    loadMore: {}\n  }\n};\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\"> Overview </h3>\n *\n * The <code>ui5-list</code> component allows displaying a list of items, advanced keyboard\n * handling support for navigating between items, and predefined modes to improve the development efficiency.\n * <br><br>\n * The <code>ui5-list</code> is а container for the available list items:\n * <ul>\n * <li><code>ui5-li</code></li>\n * <li><code>ui5-li-custom</code></li>\n * <li><code>ui5-li-group-header</code></li>\n * </ul>\n * <br><br>\n * To benefit from the built-in selection mechanism, you can use the available\n * selection modes, such as\n * <code>SingleSelect</code>, <code>MultiSelect</code> and <code>Delete</code>.\n * <br><br>\n * Additionally, the <code>ui5-list</code> provides header, footer, and customization for the list item separators.\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/List.js\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents/dist/StandardListItem.js\";</code> (for <code>ui5-li</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/CustomListItem.js\";</code> (for <code>ui5-li-custom</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/GroupHeaderListItem.js\";</code> (for <code>ui5-li-group-header</code>)\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.List\n * @extends UI5Element\n * @tagname ui5-list\n * @appenddocs StandardListItem CustomListItem GroupHeaderListItem\n * @public\n */\n\nclass List extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get template() {\n    return ListTemplate;\n  }\n\n  static get styles() {\n    return listCss;\n  }\n\n  constructor() {\n    super();\n    this.initItemNavigation(); // Stores the last focused item within the internal ul element.\n\n    this._previouslyFocusedItem = null; // Indicates that the List is forwarding the focus before or after the internal ul.\n\n    this._forwardingFocus = false;\n    this._previouslySelectedItem = null;\n    this.addEventListener(\"ui5-_press\", this.onItemPress.bind(this));\n    this.addEventListener(\"ui5-_focused\", this.onItemFocused.bind(this));\n    this.addEventListener(\"ui5-_forwardAfter\", this.onForwardAfter.bind(this));\n    this.addEventListener(\"ui5-_forwardBefore\", this.onForwardBefore.bind(this));\n    this.addEventListener(\"ui5-_selectionRequested\", this.onSelectionRequested.bind(this));\n  }\n\n  get shouldRenderH1() {\n    return !this.header.length && this.headerText;\n  }\n\n  get headerID() {\n    return `${this._id}-header`;\n  }\n\n  get showNoDataText() {\n    return this.items.length === 0 && this.noDataText;\n  }\n\n  get showBusy() {\n    return this.busy || this.infiniteScroll;\n  }\n\n  get isMultiSelect() {\n    return this.mode === ListMode.MultiSelect;\n  }\n\n  get ariaLabelledBy() {\n    return this.shouldRenderH1 ? this.headerID : undefined;\n  }\n\n  onBeforeRendering() {\n    this.prepareListItems();\n  }\n\n  initItemNavigation() {\n    this._itemNavigation = new ItemNavigation(this, {\n      navigationMode: NavigationMode.Vertical\n    });\n\n    this._itemNavigation.getItemsCallback = () => this.getSlottedNodes(\"items\");\n  }\n\n  prepareListItems() {\n    const slottedItems = this.getSlottedNodes(\"items\");\n    slottedItems.forEach((item, key) => {\n      const isLastChild = key === slottedItems.length - 1;\n      const showBottomBorder = this.separators === ListSeparators.All || this.separators === ListSeparators.Inner && !isLastChild;\n      item._mode = this.mode;\n      item.hasBorder = showBottomBorder;\n    });\n    this._previouslySelectedItem = null;\n  }\n  /*\n  * ITEM SELECTION BASED ON THE CURRENT MODE\n  */\n\n\n  onSelectionRequested(event) {\n    const previouslySelectedItems = this.getSelectedItems();\n    let selectionChange = false;\n    this._selectionRequested = true;\n\n    if (this[`handle${this.mode}`]) {\n      selectionChange = this[`handle${this.mode}`](event.detail.item, event.detail.selected);\n    }\n\n    if (selectionChange) {\n      this.fireEvent(\"selectionChange\", {\n        selectedItems: this.getSelectedItems(),\n        previouslySelectedItems,\n        selectionComponentPressed: event.detail.selectionComponentPressed,\n        key: event.detail.key\n      });\n    }\n  }\n\n  handleSingleSelect(item) {\n    if (item.selected) {\n      return false;\n    }\n\n    this.deselectSelectedItems();\n    item.selected = true;\n    return true;\n  }\n\n  handleSingleSelectBegin(item) {\n    return this.handleSingleSelect(item);\n  }\n\n  handleSingleSelectEnd(item) {\n    return this.handleSingleSelect(item);\n  }\n\n  handleMultiSelect(item, selected) {\n    item.selected = selected;\n    return true;\n  }\n\n  handleDelete(item) {\n    this.fireEvent(\"itemDelete\", {\n      item\n    });\n  }\n\n  deselectSelectedItems() {\n    this.getSelectedItems().forEach(item => {\n      item.selected = false;\n    });\n  }\n\n  getSelectedItems() {\n    return this.getSlottedNodes(\"items\").filter(item => item.selected);\n  }\n\n  getFirstSelectedItem() {\n    const slottedItems = this.getSlottedNodes(\"items\");\n    let firstSelectedItem = null;\n\n    for (let i = 0; i < slottedItems.length; i++) {\n      if (slottedItems[i].selected) {\n        firstSelectedItem = slottedItems[i];\n        break;\n      }\n    }\n\n    return firstSelectedItem;\n  }\n\n  _onkeydown(event) {\n    if (isTabNext(event)) {\n      this._handleTabNext(event);\n    }\n  }\n  /*\n  * KEYBOARD SUPPORT\n  */\n\n\n  _handleTabNext(event) {\n    // If forward navigation is performed, we check if the List has headerToolbar.\n    // If yes - we check if the target is at the last tabbable element of the headerToolbar\n    // to forward correctly the focus to the selected, previously focused or to the first list item.\n    let lastTabbableEl;\n    const target = this.getNormalizedTarget(event.target);\n\n    if (this.headerToolbar) {\n      lastTabbableEl = this.getHeaderToolbarLastTabbableElement();\n    }\n\n    if (!lastTabbableEl) {\n      return;\n    }\n\n    if (lastTabbableEl === target) {\n      if (this.getFirstSelectedItem()) {\n        this.focusFirstSelectedItem();\n      } else if (this.getPreviouslyFocusedItem()) {\n        this.focusPreviouslyFocusedItem();\n      } else {\n        this.focusFirstItem();\n      }\n\n      event.stopImmediatePropagation();\n      event.preventDefault();\n    }\n  }\n\n  _onScroll(event) {\n    if (!this.infiniteScroll) {\n      return;\n    }\n\n    this.debounce(this.loadMore.bind(this, event.target), INFINITE_SCROLL_DEBOUNCE_RATE);\n  }\n\n  _onfocusin(event) {\n    // If the focusin event does not origin from one of the 'triggers' - ignore it.\n    if (!this.isForwardElement(this.getNormalizedTarget(event.target))) {\n      event.stopImmediatePropagation();\n      return;\n    } // The focus arrives in the List for the first time.\n    // If there is selected item - focus it or focus the first item.\n\n\n    if (!this.getPreviouslyFocusedItem()) {\n      if (this.getFirstSelectedItem()) {\n        this.focusFirstSelectedItem();\n      } else {\n        this.focusFirstItem();\n      }\n\n      event.stopImmediatePropagation();\n      return;\n    } // The focus returns to the List,\n    // focus the first selected item or the previously focused element.\n\n\n    if (!this.getForwardingFocus()) {\n      if (this.getFirstSelectedItem()) {\n        this.focusFirstSelectedItem();\n      } else {\n        this.focusPreviouslyFocusedItem();\n      }\n    }\n\n    this.setForwardingFocus(false);\n  }\n\n  isForwardElement(node) {\n    const nodeId = node.id;\n\n    if (this._id === nodeId || this.getBeforeElement().id === nodeId) {\n      return true;\n    }\n\n    return this.getAfterElement().id === nodeId;\n  }\n\n  onItemFocused(event) {\n    const target = event.target;\n\n    this._itemNavigation.update(target);\n\n    this.fireEvent(\"itemFocused\", {\n      item: target\n    });\n  }\n\n  onItemPress(event) {\n    const pressedItem = event.detail.item;\n    this.fireEvent(\"itemPress\", {\n      item: pressedItem\n    });\n    this.fireEvent(\"itemClick\", {\n      item: pressedItem\n    });\n\n    if (!this._selectionRequested && this.mode !== ListMode.Delete) {\n      this._selectionRequested = true;\n      this.onSelectionRequested({\n        detail: {\n          item: pressedItem,\n          selectionComponentPressed: false,\n          selected: !pressedItem.selected,\n          key: event.detail.key\n        }\n      });\n    }\n\n    this._selectionRequested = false;\n  }\n\n  onForwardBefore(event) {\n    this.setPreviouslyFocusedItem(event.target);\n    this.focusBeforeElement();\n  }\n\n  onForwardAfter(event) {\n    this.setPreviouslyFocusedItem(event.target);\n    this.focusAfterElement();\n  }\n\n  focusBeforeElement() {\n    this.setForwardingFocus(true);\n    this.getBeforeElement().focus();\n  }\n\n  focusAfterElement() {\n    this.setForwardingFocus(true);\n    this.getAfterElement().focus();\n  }\n\n  focusFirstItem() {\n    const firstItem = this.getFirstItem();\n\n    if (firstItem) {\n      firstItem.focus();\n    }\n  }\n\n  focusPreviouslyFocusedItem() {\n    const previouslyFocusedItem = this.getPreviouslyFocusedItem();\n\n    if (previouslyFocusedItem) {\n      previouslyFocusedItem.focus();\n    }\n  }\n\n  focusFirstSelectedItem() {\n    const firstSelectedItem = this.getFirstSelectedItem();\n\n    if (firstSelectedItem) {\n      firstSelectedItem.focus();\n    }\n  }\n\n  setForwardingFocus(forwardingFocus) {\n    this._forwardingFocus = forwardingFocus;\n  }\n\n  getForwardingFocus() {\n    return this._forwardingFocus;\n  }\n\n  setPreviouslyFocusedItem(item) {\n    this._previouslyFocusedItem = item;\n  }\n\n  getPreviouslyFocusedItem() {\n    return this._previouslyFocusedItem;\n  }\n\n  getFirstItem() {\n    const slottedItems = this.getSlottedNodes(\"items\");\n    return !!slottedItems.length && slottedItems[0];\n  }\n\n  getAfterElement() {\n    if (!this._afterElement) {\n      this._afterElement = this.shadowRoot.querySelector(`#${this._id}-after`);\n    }\n\n    return this._afterElement;\n  }\n\n  getBeforeElement() {\n    if (!this._beforeElement) {\n      this._beforeElement = this.shadowRoot.querySelector(`#${this._id}-before`);\n    }\n\n    return this._beforeElement;\n  }\n\n  getHeaderToolbarLastTabbableElement() {\n    return getLastTabbableElement(this.headerToolbar.getDomRef()) || this.headerToolbar.getDomRef();\n  }\n\n  getNormalizedTarget(target) {\n    let focused = target;\n\n    if (target.shadowRoot && target.shadowRoot.activeElement) {\n      focused = target.shadowRoot.activeElement;\n    }\n\n    return focused;\n  }\n\n  loadMore(el) {\n    const scrollTop = el.scrollTop;\n    const height = el.offsetHeight;\n    const scrollHeight = el.scrollHeight;\n\n    if (this.previousScrollPosition > scrollTop) {\n      // skip scrolling upwards\n      this.previousScrollPosition = scrollTop;\n      return;\n    }\n\n    this.previousScrollPosition = scrollTop;\n\n    if (scrollHeight - BUSYINDICATOR_HEIGHT <= height + scrollTop) {\n      this.fireEvent(\"loadMore\");\n    }\n  }\n\n  debounce(fn, delay) {\n    clearTimeout(this.debounceInterval);\n    this.debounceInterval = setTimeout(() => {\n      this.debounceInterval = null;\n      fn();\n    }, delay);\n  }\n\n  static async onDefine() {\n    await BusyIndicator.define();\n  }\n\n}\n\nList.define();\nexport default List;","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents/dist/List.js"],"names":["UI5Element","litRender","ItemNavigation","getLastTabbableElement","isTabNext","NavigationMode","ListMode","ListSeparators","BusyIndicator","ListTemplate","listCss","BUSYINDICATOR_HEIGHT","INFINITE_SCROLL_DEBOUNCE_RATE","metadata","tag","managedSlots","slots","header","type","HTMLElement","propertyName","properties","headerText","String","footerText","inset","Boolean","mode","defaultValue","None","noDataText","separators","All","infiniteScroll","busy","events","itemClick","detail","item","itemDelete","selectionChange","selectedItems","Array","previouslySelectedItems","selectionComponentPressed","loadMore","List","render","template","styles","constructor","initItemNavigation","_previouslyFocusedItem","_forwardingFocus","_previouslySelectedItem","addEventListener","onItemPress","bind","onItemFocused","onForwardAfter","onForwardBefore","onSelectionRequested","shouldRenderH1","length","headerID","_id","showNoDataText","items","showBusy","isMultiSelect","MultiSelect","ariaLabelledBy","undefined","onBeforeRendering","prepareListItems","_itemNavigation","navigationMode","Vertical","getItemsCallback","getSlottedNodes","slottedItems","forEach","key","isLastChild","showBottomBorder","Inner","_mode","hasBorder","event","getSelectedItems","_selectionRequested","selected","fireEvent","handleSingleSelect","deselectSelectedItems","handleSingleSelectBegin","handleSingleSelectEnd","handleMultiSelect","handleDelete","filter","getFirstSelectedItem","firstSelectedItem","i","_onkeydown","_handleTabNext","lastTabbableEl","target","getNormalizedTarget","headerToolbar","getHeaderToolbarLastTabbableElement","focusFirstSelectedItem","getPreviouslyFocusedItem","focusPreviouslyFocusedItem","focusFirstItem","stopImmediatePropagation","preventDefault","_onScroll","debounce","_onfocusin","isForwardElement","getForwardingFocus","setForwardingFocus","node","nodeId","id","getBeforeElement","getAfterElement","update","pressedItem","Delete","setPreviouslyFocusedItem","focusBeforeElement","focusAfterElement","focus","firstItem","getFirstItem","previouslyFocusedItem","forwardingFocus","_afterElement","shadowRoot","querySelector","_beforeElement","getDomRef","focused","activeElement","el","scrollTop","height","offsetHeight","scrollHeight","previousScrollPosition","fn","delay","clearTimeout","debounceInterval","setTimeout","onDefine","define"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,4CAAvB;AACA,OAAOC,SAAP,MAAsB,sDAAtB;AACA,OAAOC,cAAP,MAA2B,yDAA3B;AACA,SAASC,sBAAT,QAAuC,uDAAvC;AACA,SAASC,SAAT,QAA0B,sCAA1B;AACA,OAAOC,cAAP,MAA2B,sDAA3B;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,cAAP,MAA2B,2BAA3B;AACA,OAAOC,aAAP,MAA0B,oBAA1B,C,CAEA;;AACA,OAAOC,YAAP,MAAyB,2CAAzB,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,gCAApB;AAEA,MAAMC,oBAAoB,GAAG,EAA7B,C,CAAiC;;AACjC,MAAMC,6BAA6B,GAAG,GAAtC,C,CAA2C;;AAE3C;;;;AAGA,MAAMC,QAAQ,GAAG;AAChBC,EAAAA,GAAG,EAAE,UADW;AAEhBC,EAAAA,YAAY,EAAE,IAFE;AAGhBC,EAAAA,KAAK;AAAE;AAAuD;AAE7D;;;;;;;;;;AAUAC,IAAAA,MAAM,EAAE;AACPC,MAAAA,IAAI,EAAEC;AADC,KAZqD;;AAgB7D;;;;;;;;;AASA,eAAW;AACVC,MAAAA,YAAY,EAAE,OADJ;AAEVF,MAAAA,IAAI,EAAEC;AAFI;AAzBkD,GAH9C;AAiChBE,EAAAA,UAAU;AAAE;AAAwD;AAEnE;;;;;;;;;AASAC,IAAAA,UAAU,EAAE;AACXJ,MAAAA,IAAI,EAAEK;AADK,KAXuD;;AAenE;;;;;;;AAOAC,IAAAA,UAAU,EAAE;AACXN,MAAAA,IAAI,EAAEK;AADK,KAtBuD;;AA0BnE;;;;;;;AAOAE,IAAAA,KAAK,EAAE;AACNP,MAAAA,IAAI,EAAEQ;AADA,KAjC4D;;AAqCnE;;;;;;;;;;AAUAC,IAAAA,IAAI,EAAE;AACLT,MAAAA,IAAI,EAAEZ,QADD;AAELsB,MAAAA,YAAY,EAAEtB,QAAQ,CAACuB;AAFlB,KA/C6D;;AAoDnE;;;;;;;AAOAC,IAAAA,UAAU,EAAE;AACXZ,MAAAA,IAAI,EAAEK;AADK,KA3DuD;;AA+DnE;;;;;;;;;;;;;;;AAeAQ,IAAAA,UAAU,EAAE;AACXb,MAAAA,IAAI,EAAEX,cADK;AAEXqB,MAAAA,YAAY,EAAErB,cAAc,CAACyB;AAFlB,KA9EuD;;AAmFnE;;;;;;;;;;AAUAC,IAAAA,cAAc,EAAE;AACff,MAAAA,IAAI,EAAEQ;AADS,KA7FmD;;AAiGnE;;;;;;;;;AASAQ,IAAAA,IAAI,EAAE;AACLhB,MAAAA,IAAI,EAAEQ;AADD;AA1G6D,GAjCpD;AA+IhBS,EAAAA,MAAM;AAAE;AAAwD;AAE/D;;;;;;;;AAQAC,IAAAA,SAAS,EAAE;AACVC,MAAAA,MAAM,EAAE;AACPC,QAAAA,IAAI,EAAE;AAAEpB,UAAAA,IAAI,EAAEC;AAAR;AADC;AADE,KAVoD;;AAgB/D;;;;;;;;;AASAoB,IAAAA,UAAU,EAAE;AACXF,MAAAA,MAAM,EAAE;AACPC,QAAAA,IAAI,EAAE;AAAEpB,UAAAA,IAAI,EAAEC;AAAR;AADC;AADG,KAzBmD;;AA+B/D;;;;;;;;;AASAqB,IAAAA,eAAe,EAAE;AAChBH,MAAAA,MAAM,EAAE;AACPI,QAAAA,aAAa,EAAE;AAAEvB,UAAAA,IAAI,EAAEwB;AAAR,SADR;AAEPC,QAAAA,uBAAuB,EAAE;AAAEzB,UAAAA,IAAI,EAAEwB;AAAR,SAFlB;AAGPE,QAAAA,yBAAyB,EAAE;AAAE1B,UAAAA,IAAI,EAAEQ;AAAR,SAHpB,CAGuC;;AAHvC;AADQ,KAxC8C;;AAgD/D;;;;;;;;;AASAmB,IAAAA,QAAQ,EAAE;AAzDqD;AA/IhD,CAAjB;AA4MA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,MAAMC,IAAN,SAAmB9C,UAAnB,CAA8B;AAC7B,aAAWa,QAAX,GAAsB;AACrB,WAAOA,QAAP;AACA;;AAED,aAAWkC,MAAX,GAAoB;AACnB,WAAO9C,SAAP;AACA;;AAED,aAAW+C,QAAX,GAAsB;AACrB,WAAOvC,YAAP;AACA;;AAED,aAAWwC,MAAX,GAAoB;AACnB,WAAOvC,OAAP;AACA;;AAEDwC,EAAAA,WAAW,GAAG;AACb;AACA,SAAKC,kBAAL,GAFa,CAIb;;AACA,SAAKC,sBAAL,GAA8B,IAA9B,CALa,CAOb;;AACA,SAAKC,gBAAL,GAAwB,KAAxB;AAEA,SAAKC,uBAAL,GAA+B,IAA/B;AAEA,SAAKC,gBAAL,CAAsB,YAAtB,EAAoC,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAApC;AACA,SAAKF,gBAAL,CAAsB,cAAtB,EAAsC,KAAKG,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAAtC;AACA,SAAKF,gBAAL,CAAsB,mBAAtB,EAA2C,KAAKI,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAA3C;AACA,SAAKF,gBAAL,CAAsB,oBAAtB,EAA4C,KAAKK,eAAL,CAAqBH,IAArB,CAA0B,IAA1B,CAA5C;AACA,SAAKF,gBAAL,CAAsB,yBAAtB,EAAiD,KAAKM,oBAAL,CAA0BJ,IAA1B,CAA+B,IAA/B,CAAjD;AACA;;AAED,MAAIK,cAAJ,GAAqB;AACpB,WAAO,CAAC,KAAK7C,MAAL,CAAY8C,MAAb,IAAuB,KAAKzC,UAAnC;AACA;;AAED,MAAI0C,QAAJ,GAAe;AACd,WAAQ,GAAE,KAAKC,GAAI,SAAnB;AACA;;AAED,MAAIC,cAAJ,GAAqB;AACpB,WAAO,KAAKC,KAAL,CAAWJ,MAAX,KAAsB,CAAtB,IAA2B,KAAKjC,UAAvC;AACA;;AAED,MAAIsC,QAAJ,GAAe;AACd,WAAO,KAAKlC,IAAL,IAAa,KAAKD,cAAzB;AACA;;AAED,MAAIoC,aAAJ,GAAoB;AACnB,WAAO,KAAK1C,IAAL,KAAcrB,QAAQ,CAACgE,WAA9B;AACA;;AAED,MAAIC,cAAJ,GAAqB;AACpB,WAAO,KAAKT,cAAL,GAAsB,KAAKE,QAA3B,GAAsCQ,SAA7C;AACA;;AAEDC,EAAAA,iBAAiB,GAAG;AACnB,SAAKC,gBAAL;AACA;;AAEDvB,EAAAA,kBAAkB,GAAG;AACpB,SAAKwB,eAAL,GAAuB,IAAIzE,cAAJ,CAAmB,IAAnB,EAAyB;AAC/C0E,MAAAA,cAAc,EAAEvE,cAAc,CAACwE;AADgB,KAAzB,CAAvB;;AAIA,SAAKF,eAAL,CAAqBG,gBAArB,GAAwC,MAAM,KAAKC,eAAL,CAAqB,OAArB,CAA9C;AACA;;AAEDL,EAAAA,gBAAgB,GAAG;AAClB,UAAMM,YAAY,GAAG,KAAKD,eAAL,CAAqB,OAArB,CAArB;AAEAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,CAAC3C,IAAD,EAAO4C,GAAP,KAAe;AACnC,YAAMC,WAAW,GAAGD,GAAG,KAAKF,YAAY,CAACjB,MAAb,GAAsB,CAAlD;AACA,YAAMqB,gBAAgB,GAAG,KAAKrD,UAAL,KAAoBxB,cAAc,CAACyB,GAAnC,IACpB,KAAKD,UAAL,KAAoBxB,cAAc,CAAC8E,KAAnC,IAA4C,CAACF,WADlD;AAGA7C,MAAAA,IAAI,CAACgD,KAAL,GAAa,KAAK3D,IAAlB;AACAW,MAAAA,IAAI,CAACiD,SAAL,GAAiBH,gBAAjB;AACA,KAPD;AASA,SAAK9B,uBAAL,GAA+B,IAA/B;AACA;AAED;;;;;AAGAO,EAAAA,oBAAoB,CAAC2B,KAAD,EAAQ;AAC3B,UAAM7C,uBAAuB,GAAG,KAAK8C,gBAAL,EAAhC;AACA,QAAIjD,eAAe,GAAG,KAAtB;AACA,SAAKkD,mBAAL,GAA2B,IAA3B;;AAEA,QAAI,KAAM,SAAQ,KAAK/D,IAAK,EAAxB,CAAJ,EAAgC;AAC/Ba,MAAAA,eAAe,GAAG,KAAM,SAAQ,KAAKb,IAAK,EAAxB,EAA2B6D,KAAK,CAACnD,MAAN,CAAaC,IAAxC,EAA8CkD,KAAK,CAACnD,MAAN,CAAasD,QAA3D,CAAlB;AACA;;AAED,QAAInD,eAAJ,EAAqB;AACpB,WAAKoD,SAAL,CAAe,iBAAf,EAAkC;AACjCnD,QAAAA,aAAa,EAAE,KAAKgD,gBAAL,EADkB;AAEjC9C,QAAAA,uBAFiC;AAGjCC,QAAAA,yBAAyB,EAAE4C,KAAK,CAACnD,MAAN,CAAaO,yBAHP;AAIjCsC,QAAAA,GAAG,EAAEM,KAAK,CAACnD,MAAN,CAAa6C;AAJe,OAAlC;AAMA;AACD;;AAEDW,EAAAA,kBAAkB,CAACvD,IAAD,EAAO;AACxB,QAAIA,IAAI,CAACqD,QAAT,EAAmB;AAClB,aAAO,KAAP;AACA;;AAED,SAAKG,qBAAL;AACAxD,IAAAA,IAAI,CAACqD,QAAL,GAAgB,IAAhB;AAEA,WAAO,IAAP;AACA;;AAEDI,EAAAA,uBAAuB,CAACzD,IAAD,EAAO;AAC7B,WAAO,KAAKuD,kBAAL,CAAwBvD,IAAxB,CAAP;AACA;;AAED0D,EAAAA,qBAAqB,CAAC1D,IAAD,EAAO;AAC3B,WAAO,KAAKuD,kBAAL,CAAwBvD,IAAxB,CAAP;AACA;;AAED2D,EAAAA,iBAAiB,CAAC3D,IAAD,EAAOqD,QAAP,EAAiB;AACjCrD,IAAAA,IAAI,CAACqD,QAAL,GAAgBA,QAAhB;AACA,WAAO,IAAP;AACA;;AAEDO,EAAAA,YAAY,CAAC5D,IAAD,EAAO;AAClB,SAAKsD,SAAL,CAAe,YAAf,EAA6B;AAAEtD,MAAAA;AAAF,KAA7B;AACA;;AAEDwD,EAAAA,qBAAqB,GAAG;AACvB,SAAKL,gBAAL,GAAwBR,OAAxB,CAAgC3C,IAAI,IAAI;AAAEA,MAAAA,IAAI,CAACqD,QAAL,GAAgB,KAAhB;AAAwB,KAAlE;AACA;;AAEDF,EAAAA,gBAAgB,GAAG;AAClB,WAAO,KAAKV,eAAL,CAAqB,OAArB,EAA8BoB,MAA9B,CAAqC7D,IAAI,IAAIA,IAAI,CAACqD,QAAlD,CAAP;AACA;;AAEDS,EAAAA,oBAAoB,GAAG;AACtB,UAAMpB,YAAY,GAAG,KAAKD,eAAL,CAAqB,OAArB,CAArB;AACA,QAAIsB,iBAAiB,GAAG,IAAxB;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,YAAY,CAACjB,MAAjC,EAAyCuC,CAAC,EAA1C,EAA8C;AAC7C,UAAItB,YAAY,CAACsB,CAAD,CAAZ,CAAgBX,QAApB,EAA8B;AAC7BU,QAAAA,iBAAiB,GAAGrB,YAAY,CAACsB,CAAD,CAAhC;AACA;AACA;AACD;;AAED,WAAOD,iBAAP;AACA;;AAEDE,EAAAA,UAAU,CAACf,KAAD,EAAQ;AACjB,QAAIpF,SAAS,CAACoF,KAAD,CAAb,EAAsB;AACrB,WAAKgB,cAAL,CAAoBhB,KAApB;AACA;AACD;AAED;;;;;AAGAgB,EAAAA,cAAc,CAAChB,KAAD,EAAQ;AACrB;AACA;AACA;AACA,QAAIiB,cAAJ;AACA,UAAMC,MAAM,GAAG,KAAKC,mBAAL,CAAyBnB,KAAK,CAACkB,MAA/B,CAAf;;AAEA,QAAI,KAAKE,aAAT,EAAwB;AACvBH,MAAAA,cAAc,GAAG,KAAKI,mCAAL,EAAjB;AACA;;AAED,QAAI,CAACJ,cAAL,EAAqB;AACpB;AACA;;AAED,QAAIA,cAAc,KAAKC,MAAvB,EAA+B;AAC9B,UAAI,KAAKN,oBAAL,EAAJ,EAAiC;AAChC,aAAKU,sBAAL;AACA,OAFD,MAEO,IAAI,KAAKC,wBAAL,EAAJ,EAAqC;AAC3C,aAAKC,0BAAL;AACA,OAFM,MAEA;AACN,aAAKC,cAAL;AACA;;AAEDzB,MAAAA,KAAK,CAAC0B,wBAAN;AACA1B,MAAAA,KAAK,CAAC2B,cAAN;AACA;AACD;;AAEDC,EAAAA,SAAS,CAAC5B,KAAD,EAAQ;AAChB,QAAI,CAAC,KAAKvD,cAAV,EAA0B;AACzB;AACA;;AACD,SAAKoF,QAAL,CAAc,KAAKxE,QAAL,CAAcY,IAAd,CAAmB,IAAnB,EAAyB+B,KAAK,CAACkB,MAA/B,CAAd,EAAsD9F,6BAAtD;AACA;;AAED0G,EAAAA,UAAU,CAAC9B,KAAD,EAAQ;AACjB;AACA,QAAI,CAAC,KAAK+B,gBAAL,CAAsB,KAAKZ,mBAAL,CAAyBnB,KAAK,CAACkB,MAA/B,CAAtB,CAAL,EAAoE;AACnElB,MAAAA,KAAK,CAAC0B,wBAAN;AACA;AACA,KALgB,CAOjB;AACA;;;AACA,QAAI,CAAC,KAAKH,wBAAL,EAAL,EAAsC;AACrC,UAAI,KAAKX,oBAAL,EAAJ,EAAiC;AAChC,aAAKU,sBAAL;AACA,OAFD,MAEO;AACN,aAAKG,cAAL;AACA;;AAEDzB,MAAAA,KAAK,CAAC0B,wBAAN;AACA;AACA,KAlBgB,CAoBjB;AACA;;;AACA,QAAI,CAAC,KAAKM,kBAAL,EAAL,EAAgC;AAC/B,UAAI,KAAKpB,oBAAL,EAAJ,EAAiC;AAChC,aAAKU,sBAAL;AACA,OAFD,MAEO;AACN,aAAKE,0BAAL;AACA;AACD;;AAED,SAAKS,kBAAL,CAAwB,KAAxB;AACA;;AAEDF,EAAAA,gBAAgB,CAACG,IAAD,EAAO;AACtB,UAAMC,MAAM,GAAGD,IAAI,CAACE,EAApB;;AAEA,QAAI,KAAK3D,GAAL,KAAa0D,MAAb,IAAuB,KAAKE,gBAAL,GAAwBD,EAAxB,KAA+BD,MAA1D,EAAkE;AACjE,aAAO,IAAP;AACA;;AAED,WAAO,KAAKG,eAAL,GAAuBF,EAAvB,KAA8BD,MAArC;AACA;;AAEDjE,EAAAA,aAAa,CAAC8B,KAAD,EAAQ;AACpB,UAAMkB,MAAM,GAAGlB,KAAK,CAACkB,MAArB;;AAEA,SAAK/B,eAAL,CAAqBoD,MAArB,CAA4BrB,MAA5B;;AACA,SAAKd,SAAL,CAAe,aAAf,EAA8B;AAAEtD,MAAAA,IAAI,EAAEoE;AAAR,KAA9B;AACA;;AAEDlD,EAAAA,WAAW,CAACgC,KAAD,EAAQ;AAClB,UAAMwC,WAAW,GAAGxC,KAAK,CAACnD,MAAN,CAAaC,IAAjC;AAEA,SAAKsD,SAAL,CAAe,WAAf,EAA4B;AAAEtD,MAAAA,IAAI,EAAE0F;AAAR,KAA5B;AACA,SAAKpC,SAAL,CAAe,WAAf,EAA4B;AAAEtD,MAAAA,IAAI,EAAE0F;AAAR,KAA5B;;AAEA,QAAI,CAAC,KAAKtC,mBAAN,IAA6B,KAAK/D,IAAL,KAAcrB,QAAQ,CAAC2H,MAAxD,EAAgE;AAC/D,WAAKvC,mBAAL,GAA2B,IAA3B;AACA,WAAK7B,oBAAL,CAA0B;AACzBxB,QAAAA,MAAM,EAAE;AACPC,UAAAA,IAAI,EAAE0F,WADC;AAEPpF,UAAAA,yBAAyB,EAAE,KAFpB;AAGP+C,UAAAA,QAAQ,EAAE,CAACqC,WAAW,CAACrC,QAHhB;AAIPT,UAAAA,GAAG,EAAEM,KAAK,CAACnD,MAAN,CAAa6C;AAJX;AADiB,OAA1B;AAQA;;AAED,SAAKQ,mBAAL,GAA2B,KAA3B;AACA;;AAED9B,EAAAA,eAAe,CAAC4B,KAAD,EAAQ;AACtB,SAAK0C,wBAAL,CAA8B1C,KAAK,CAACkB,MAApC;AACA,SAAKyB,kBAAL;AACA;;AAEDxE,EAAAA,cAAc,CAAC6B,KAAD,EAAQ;AACrB,SAAK0C,wBAAL,CAA8B1C,KAAK,CAACkB,MAApC;AACA,SAAK0B,iBAAL;AACA;;AAEDD,EAAAA,kBAAkB,GAAG;AACpB,SAAKV,kBAAL,CAAwB,IAAxB;AACA,SAAKI,gBAAL,GAAwBQ,KAAxB;AACA;;AAEDD,EAAAA,iBAAiB,GAAG;AACnB,SAAKX,kBAAL,CAAwB,IAAxB;AACA,SAAKK,eAAL,GAAuBO,KAAvB;AACA;;AAEDpB,EAAAA,cAAc,GAAG;AAChB,UAAMqB,SAAS,GAAG,KAAKC,YAAL,EAAlB;;AAEA,QAAID,SAAJ,EAAe;AACdA,MAAAA,SAAS,CAACD,KAAV;AACA;AACD;;AAEDrB,EAAAA,0BAA0B,GAAG;AAC5B,UAAMwB,qBAAqB,GAAG,KAAKzB,wBAAL,EAA9B;;AAEA,QAAIyB,qBAAJ,EAA2B;AAC1BA,MAAAA,qBAAqB,CAACH,KAAtB;AACA;AACD;;AAEDvB,EAAAA,sBAAsB,GAAG;AACxB,UAAMT,iBAAiB,GAAG,KAAKD,oBAAL,EAA1B;;AAEA,QAAIC,iBAAJ,EAAuB;AACtBA,MAAAA,iBAAiB,CAACgC,KAAlB;AACA;AACD;;AAEDZ,EAAAA,kBAAkB,CAACgB,eAAD,EAAkB;AACnC,SAAKpF,gBAAL,GAAwBoF,eAAxB;AACA;;AAEDjB,EAAAA,kBAAkB,GAAG;AACpB,WAAO,KAAKnE,gBAAZ;AACA;;AAED6E,EAAAA,wBAAwB,CAAC5F,IAAD,EAAO;AAC9B,SAAKc,sBAAL,GAA8Bd,IAA9B;AACA;;AAEDyE,EAAAA,wBAAwB,GAAG;AAC1B,WAAO,KAAK3D,sBAAZ;AACA;;AAEDmF,EAAAA,YAAY,GAAG;AACd,UAAMvD,YAAY,GAAG,KAAKD,eAAL,CAAqB,OAArB,CAArB;AACA,WAAO,CAAC,CAACC,YAAY,CAACjB,MAAf,IAAyBiB,YAAY,CAAC,CAAD,CAA5C;AACA;;AAED8C,EAAAA,eAAe,GAAG;AACjB,QAAI,CAAC,KAAKY,aAAV,EAAyB;AACxB,WAAKA,aAAL,GAAqB,KAAKC,UAAL,CAAgBC,aAAhB,CAA+B,IAAG,KAAK3E,GAAI,QAA3C,CAArB;AACA;;AACD,WAAO,KAAKyE,aAAZ;AACA;;AAEDb,EAAAA,gBAAgB,GAAG;AAClB,QAAI,CAAC,KAAKgB,cAAV,EAA0B;AACzB,WAAKA,cAAL,GAAsB,KAAKF,UAAL,CAAgBC,aAAhB,CAA+B,IAAG,KAAK3E,GAAI,SAA3C,CAAtB;AACA;;AACD,WAAO,KAAK4E,cAAZ;AACA;;AAEDhC,EAAAA,mCAAmC,GAAG;AACrC,WAAO1G,sBAAsB,CAAC,KAAKyG,aAAL,CAAmBkC,SAAnB,EAAD,CAAtB,IAA0D,KAAKlC,aAAL,CAAmBkC,SAAnB,EAAjE;AACA;;AAEDnC,EAAAA,mBAAmB,CAACD,MAAD,EAAS;AAC3B,QAAIqC,OAAO,GAAGrC,MAAd;;AAEA,QAAIA,MAAM,CAACiC,UAAP,IAAqBjC,MAAM,CAACiC,UAAP,CAAkBK,aAA3C,EAA0D;AACzDD,MAAAA,OAAO,GAAGrC,MAAM,CAACiC,UAAP,CAAkBK,aAA5B;AACA;;AAED,WAAOD,OAAP;AACA;;AAEDlG,EAAAA,QAAQ,CAACoG,EAAD,EAAK;AACZ,UAAMC,SAAS,GAAGD,EAAE,CAACC,SAArB;AACA,UAAMC,MAAM,GAAGF,EAAE,CAACG,YAAlB;AACA,UAAMC,YAAY,GAAGJ,EAAE,CAACI,YAAxB;;AAEA,QAAI,KAAKC,sBAAL,GAA8BJ,SAAlC,EAA6C;AAAE;AAC9C,WAAKI,sBAAL,GAA8BJ,SAA9B;AACA;AACA;;AACD,SAAKI,sBAAL,GAA8BJ,SAA9B;;AAEA,QAAIG,YAAY,GAAG1I,oBAAf,IAAuCwI,MAAM,GAAGD,SAApD,EAA+D;AAC9D,WAAKtD,SAAL,CAAe,UAAf;AACA;AACD;;AAEDyB,EAAAA,QAAQ,CAACkC,EAAD,EAAKC,KAAL,EAAY;AACnBC,IAAAA,YAAY,CAAC,KAAKC,gBAAN,CAAZ;AACA,SAAKA,gBAAL,GAAwBC,UAAU,CAAC,MAAM;AACxC,WAAKD,gBAAL,GAAwB,IAAxB;AACAH,MAAAA,EAAE;AACF,KAHiC,EAG/BC,KAH+B,CAAlC;AAIA;;AAED,eAAaI,QAAb,GAAwB;AACvB,UAAMpJ,aAAa,CAACqJ,MAAd,EAAN;AACA;;AA1Y4B;;AA6Y9B/G,IAAI,CAAC+G,MAAL;AAEA,eAAe/G,IAAf","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport { getLastTabbableElement } from \"@ui5/webcomponents-base/dist/util/TabbableElements.js\";\nimport { isTabNext } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport ListMode from \"./types/ListMode.js\";\nimport ListSeparators from \"./types/ListSeparators.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\n\n// Template\nimport ListTemplate from \"./generated/templates/ListTemplate.lit.js\";\n\n// Styles\nimport listCss from \"./generated/themes/List.css.js\";\n\nconst BUSYINDICATOR_HEIGHT = 48; // px\nconst INFINITE_SCROLL_DEBOUNCE_RATE = 250; // ms\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-list\",\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.main.List.prototype */ {\n\n\t\t/**\n\t\t * Defines the <code>ui5-li</code> header.\n\t\t * <br><br>\n\t\t * <b>Note:</b> When <code>header</code> is set, the\n\t\t * <code>headerText</code> property is ignored.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\theader: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the items of the <code>ui5-list</code>.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Use <code>ui5-li</code>, <code>ui5-li-custom</code>, and <code>ui5-li-groupheader</code> for the intended design.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tproperties: /** @lends  sap.ui.webcomponents.main.List.prototype */ {\n\n\t\t/**\n\t\t * Defines the <code>ui5-list</code> header text.\n\t\t * <br><br>\n\t\t * <b>Note:</b> If <code>header</code> is set this property is ignored.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\theaderText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the footer text.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tfooterText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the list items are indented.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tinset: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the mode of the <code>ui5-list</code>.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Avalaible options are <code>None</code>, <code>SingleSelect</code>,\n\t\t * <code>MultiSelect</code>, and <code>Delete</code>.\n\t\t *\n\t\t * @type {ListMode}\n\t\t * @defaultvalue \"None\"\n\t\t * @public\n\t\t */\n\t\tmode: {\n\t\t\ttype: ListMode,\n\t\t\tdefaultValue: ListMode.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines the text that is displayed when the <code>ui5-list</code> contains no items.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tnoDataText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the item separator style that is used.\n\t\t * <br><br>\n\t\t * <b>Notes:</b>\n\t\t * <ul>\n\t\t * <li>Avalaible options are <code>All</code>, <code>Inner</code>, and <code>None</code>.</li>\n\t\t * <li>When set to <code>None</code>, none of the items are separated by horizontal lines.</li>\n\t\t * <li>When set to <code>Inner</code>, the first item doesn't have a top separator and the last\n\t\t * item doesn't have a bottom separator.</li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {ListSeparators}\n\t\t * @defaultvalue \"All\"\n\t\t * @public\n\t\t */\n\t\tseparators: {\n\t\t\ttype: ListSeparators,\n\t\t\tdefaultValue: ListSeparators.All,\n\t\t},\n\n\t\t/**\n\t\t * Defines if the component would fire the <code>loadMore</code> event\n\t\t * when the user scrolls to the bottom of the list, and helps achieving an \"infinite scroll\" effect\n\t\t * by adding new items each time.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.6\n\t\t */\n\t\tinfiniteScroll: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines if the component would display a loading indicator at the bottom of the list.\n\t\t * It's especially useful, when combined with <code>infiniteScroll</code>.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.6\n\t\t */\n\t\tbusy: {\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tevents: /** @lends  sap.ui.webcomponents.main.List.prototype */ {\n\n\t\t/**\n\t\t * Fired when an item is activated, unless the item's <code>type</code> property\n\t\t * is set to <code>Inactive</code>.\n\t\t *\n\t\t * @event\n\t\t * @param {HTMLElement} item the clicked item.\n\t\t * @public\n\t\t */\n\t\titemClick: {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the Delete button of any item is pressed.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A Delete button is displayed on each item,\n\t\t * when the <code>ui5-list</code> <code>mode</code> property is set to <code>Delete</code>.\n\t\t * @event\n\t\t * @param {HTMLElement} item the deleted item.\n\t\t * @public\n\t\t */\n\t\titemDelete: {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when selection is changed by user interaction\n\t\t * in <code>SingleSelect</code> and <code>MultiSelect</code> modes.\n\t\t *\n\t\t * @event\n\t\t * @param {Array} selectedItems An array of the selected items.\n\t\t * @param {Array} previouslySelectedItems An array of the previously selected items.\n\t\t * @public\n\t\t */\n\t\tselectionChange: {\n\t\t\tdetail: {\n\t\t\t\tselectedItems: { type: Array },\n\t\t\t\tpreviouslySelectedItems: { type: Array },\n\t\t\t\tselectionComponentPressed: { type: Boolean }, // protected, indicates if the user used the selection components to change the selection\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the user scrolls to the bottom of the list.\n\t\t * <br><br>\n\t\t * <b>Note:</b> The event is fired when the <code>infiniteScroll</code> property is enabled.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t * @since 1.0.0-rc.6\n\t\t */\n\t\tloadMore: {},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\"> Overview </h3>\n *\n * The <code>ui5-list</code> component allows displaying a list of items, advanced keyboard\n * handling support for navigating between items, and predefined modes to improve the development efficiency.\n * <br><br>\n * The <code>ui5-list</code> is а container for the available list items:\n * <ul>\n * <li><code>ui5-li</code></li>\n * <li><code>ui5-li-custom</code></li>\n * <li><code>ui5-li-group-header</code></li>\n * </ul>\n * <br><br>\n * To benefit from the built-in selection mechanism, you can use the available\n * selection modes, such as\n * <code>SingleSelect</code>, <code>MultiSelect</code> and <code>Delete</code>.\n * <br><br>\n * Additionally, the <code>ui5-list</code> provides header, footer, and customization for the list item separators.\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/List.js\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents/dist/StandardListItem.js\";</code> (for <code>ui5-li</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/CustomListItem.js\";</code> (for <code>ui5-li-custom</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/GroupHeaderListItem.js\";</code> (for <code>ui5-li-group-header</code>)\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.List\n * @extends UI5Element\n * @tagname ui5-list\n * @appenddocs StandardListItem CustomListItem GroupHeaderListItem\n * @public\n */\nclass List extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn ListTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn listCss;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.initItemNavigation();\n\n\t\t// Stores the last focused item within the internal ul element.\n\t\tthis._previouslyFocusedItem = null;\n\n\t\t// Indicates that the List is forwarding the focus before or after the internal ul.\n\t\tthis._forwardingFocus = false;\n\n\t\tthis._previouslySelectedItem = null;\n\n\t\tthis.addEventListener(\"ui5-_press\", this.onItemPress.bind(this));\n\t\tthis.addEventListener(\"ui5-_focused\", this.onItemFocused.bind(this));\n\t\tthis.addEventListener(\"ui5-_forwardAfter\", this.onForwardAfter.bind(this));\n\t\tthis.addEventListener(\"ui5-_forwardBefore\", this.onForwardBefore.bind(this));\n\t\tthis.addEventListener(\"ui5-_selectionRequested\", this.onSelectionRequested.bind(this));\n\t}\n\n\tget shouldRenderH1() {\n\t\treturn !this.header.length && this.headerText;\n\t}\n\n\tget headerID() {\n\t\treturn `${this._id}-header`;\n\t}\n\n\tget showNoDataText() {\n\t\treturn this.items.length === 0 && this.noDataText;\n\t}\n\n\tget showBusy() {\n\t\treturn this.busy || this.infiniteScroll;\n\t}\n\n\tget isMultiSelect() {\n\t\treturn this.mode === ListMode.MultiSelect;\n\t}\n\n\tget ariaLabelledBy() {\n\t\treturn this.shouldRenderH1 ? this.headerID : undefined;\n\t}\n\n\tonBeforeRendering() {\n\t\tthis.prepareListItems();\n\t}\n\n\tinitItemNavigation() {\n\t\tthis._itemNavigation = new ItemNavigation(this, {\n\t\t\tnavigationMode: NavigationMode.Vertical,\n\t\t});\n\n\t\tthis._itemNavigation.getItemsCallback = () => this.getSlottedNodes(\"items\");\n\t}\n\n\tprepareListItems() {\n\t\tconst slottedItems = this.getSlottedNodes(\"items\");\n\n\t\tslottedItems.forEach((item, key) => {\n\t\t\tconst isLastChild = key === slottedItems.length - 1;\n\t\t\tconst showBottomBorder = this.separators === ListSeparators.All\n\t\t\t\t|| (this.separators === ListSeparators.Inner && !isLastChild);\n\n\t\t\titem._mode = this.mode;\n\t\t\titem.hasBorder = showBottomBorder;\n\t\t});\n\n\t\tthis._previouslySelectedItem = null;\n\t}\n\n\t/*\n\t* ITEM SELECTION BASED ON THE CURRENT MODE\n\t*/\n\tonSelectionRequested(event) {\n\t\tconst previouslySelectedItems = this.getSelectedItems();\n\t\tlet selectionChange = false;\n\t\tthis._selectionRequested = true;\n\n\t\tif (this[`handle${this.mode}`]) {\n\t\t\tselectionChange = this[`handle${this.mode}`](event.detail.item, event.detail.selected);\n\t\t}\n\n\t\tif (selectionChange) {\n\t\t\tthis.fireEvent(\"selectionChange\", {\n\t\t\t\tselectedItems: this.getSelectedItems(),\n\t\t\t\tpreviouslySelectedItems,\n\t\t\t\tselectionComponentPressed: event.detail.selectionComponentPressed,\n\t\t\t\tkey: event.detail.key,\n\t\t\t});\n\t\t}\n\t}\n\n\thandleSingleSelect(item) {\n\t\tif (item.selected) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.deselectSelectedItems();\n\t\titem.selected = true;\n\n\t\treturn true;\n\t}\n\n\thandleSingleSelectBegin(item) {\n\t\treturn this.handleSingleSelect(item);\n\t}\n\n\thandleSingleSelectEnd(item) {\n\t\treturn this.handleSingleSelect(item);\n\t}\n\n\thandleMultiSelect(item, selected) {\n\t\titem.selected = selected;\n\t\treturn true;\n\t}\n\n\thandleDelete(item) {\n\t\tthis.fireEvent(\"itemDelete\", { item });\n\t}\n\n\tdeselectSelectedItems() {\n\t\tthis.getSelectedItems().forEach(item => { item.selected = false; });\n\t}\n\n\tgetSelectedItems() {\n\t\treturn this.getSlottedNodes(\"items\").filter(item => item.selected);\n\t}\n\n\tgetFirstSelectedItem() {\n\t\tconst slottedItems = this.getSlottedNodes(\"items\");\n\t\tlet firstSelectedItem = null;\n\n\t\tfor (let i = 0; i < slottedItems.length; i++) {\n\t\t\tif (slottedItems[i].selected) {\n\t\t\t\tfirstSelectedItem = slottedItems[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn firstSelectedItem;\n\t}\n\n\t_onkeydown(event) {\n\t\tif (isTabNext(event)) {\n\t\t\tthis._handleTabNext(event);\n\t\t}\n\t}\n\n\t/*\n\t* KEYBOARD SUPPORT\n\t*/\n\t_handleTabNext(event) {\n\t\t// If forward navigation is performed, we check if the List has headerToolbar.\n\t\t// If yes - we check if the target is at the last tabbable element of the headerToolbar\n\t\t// to forward correctly the focus to the selected, previously focused or to the first list item.\n\t\tlet lastTabbableEl;\n\t\tconst target = this.getNormalizedTarget(event.target);\n\n\t\tif (this.headerToolbar) {\n\t\t\tlastTabbableEl = this.getHeaderToolbarLastTabbableElement();\n\t\t}\n\n\t\tif (!lastTabbableEl) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (lastTabbableEl === target) {\n\t\t\tif (this.getFirstSelectedItem()) {\n\t\t\t\tthis.focusFirstSelectedItem();\n\t\t\t} else if (this.getPreviouslyFocusedItem()) {\n\t\t\t\tthis.focusPreviouslyFocusedItem();\n\t\t\t} else {\n\t\t\t\tthis.focusFirstItem();\n\t\t\t}\n\n\t\t\tevent.stopImmediatePropagation();\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t_onScroll(event) {\n\t\tif (!this.infiniteScroll) {\n\t\t\treturn;\n\t\t}\n\t\tthis.debounce(this.loadMore.bind(this, event.target), INFINITE_SCROLL_DEBOUNCE_RATE);\n\t}\n\n\t_onfocusin(event) {\n\t\t// If the focusin event does not origin from one of the 'triggers' - ignore it.\n\t\tif (!this.isForwardElement(this.getNormalizedTarget(event.target))) {\n\t\t\tevent.stopImmediatePropagation();\n\t\t\treturn;\n\t\t}\n\n\t\t// The focus arrives in the List for the first time.\n\t\t// If there is selected item - focus it or focus the first item.\n\t\tif (!this.getPreviouslyFocusedItem()) {\n\t\t\tif (this.getFirstSelectedItem()) {\n\t\t\t\tthis.focusFirstSelectedItem();\n\t\t\t} else {\n\t\t\t\tthis.focusFirstItem();\n\t\t\t}\n\n\t\t\tevent.stopImmediatePropagation();\n\t\t\treturn;\n\t\t}\n\n\t\t// The focus returns to the List,\n\t\t// focus the first selected item or the previously focused element.\n\t\tif (!this.getForwardingFocus()) {\n\t\t\tif (this.getFirstSelectedItem()) {\n\t\t\t\tthis.focusFirstSelectedItem();\n\t\t\t} else {\n\t\t\t\tthis.focusPreviouslyFocusedItem();\n\t\t\t}\n\t\t}\n\n\t\tthis.setForwardingFocus(false);\n\t}\n\n\tisForwardElement(node) {\n\t\tconst nodeId = node.id;\n\n\t\tif (this._id === nodeId || this.getBeforeElement().id === nodeId) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.getAfterElement().id === nodeId;\n\t}\n\n\tonItemFocused(event) {\n\t\tconst target = event.target;\n\n\t\tthis._itemNavigation.update(target);\n\t\tthis.fireEvent(\"itemFocused\", { item: target });\n\t}\n\n\tonItemPress(event) {\n\t\tconst pressedItem = event.detail.item;\n\n\t\tthis.fireEvent(\"itemPress\", { item: pressedItem });\n\t\tthis.fireEvent(\"itemClick\", { item: pressedItem });\n\n\t\tif (!this._selectionRequested && this.mode !== ListMode.Delete) {\n\t\t\tthis._selectionRequested = true;\n\t\t\tthis.onSelectionRequested({\n\t\t\t\tdetail: {\n\t\t\t\t\titem: pressedItem,\n\t\t\t\t\tselectionComponentPressed: false,\n\t\t\t\t\tselected: !pressedItem.selected,\n\t\t\t\t\tkey: event.detail.key,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tthis._selectionRequested = false;\n\t}\n\n\tonForwardBefore(event) {\n\t\tthis.setPreviouslyFocusedItem(event.target);\n\t\tthis.focusBeforeElement();\n\t}\n\n\tonForwardAfter(event) {\n\t\tthis.setPreviouslyFocusedItem(event.target);\n\t\tthis.focusAfterElement();\n\t}\n\n\tfocusBeforeElement() {\n\t\tthis.setForwardingFocus(true);\n\t\tthis.getBeforeElement().focus();\n\t}\n\n\tfocusAfterElement() {\n\t\tthis.setForwardingFocus(true);\n\t\tthis.getAfterElement().focus();\n\t}\n\n\tfocusFirstItem() {\n\t\tconst firstItem = this.getFirstItem();\n\n\t\tif (firstItem) {\n\t\t\tfirstItem.focus();\n\t\t}\n\t}\n\n\tfocusPreviouslyFocusedItem() {\n\t\tconst previouslyFocusedItem = this.getPreviouslyFocusedItem();\n\n\t\tif (previouslyFocusedItem) {\n\t\t\tpreviouslyFocusedItem.focus();\n\t\t}\n\t}\n\n\tfocusFirstSelectedItem() {\n\t\tconst firstSelectedItem = this.getFirstSelectedItem();\n\n\t\tif (firstSelectedItem) {\n\t\t\tfirstSelectedItem.focus();\n\t\t}\n\t}\n\n\tsetForwardingFocus(forwardingFocus) {\n\t\tthis._forwardingFocus = forwardingFocus;\n\t}\n\n\tgetForwardingFocus() {\n\t\treturn this._forwardingFocus;\n\t}\n\n\tsetPreviouslyFocusedItem(item) {\n\t\tthis._previouslyFocusedItem = item;\n\t}\n\n\tgetPreviouslyFocusedItem() {\n\t\treturn this._previouslyFocusedItem;\n\t}\n\n\tgetFirstItem() {\n\t\tconst slottedItems = this.getSlottedNodes(\"items\");\n\t\treturn !!slottedItems.length && slottedItems[0];\n\t}\n\n\tgetAfterElement() {\n\t\tif (!this._afterElement) {\n\t\t\tthis._afterElement = this.shadowRoot.querySelector(`#${this._id}-after`);\n\t\t}\n\t\treturn this._afterElement;\n\t}\n\n\tgetBeforeElement() {\n\t\tif (!this._beforeElement) {\n\t\t\tthis._beforeElement = this.shadowRoot.querySelector(`#${this._id}-before`);\n\t\t}\n\t\treturn this._beforeElement;\n\t}\n\n\tgetHeaderToolbarLastTabbableElement() {\n\t\treturn getLastTabbableElement(this.headerToolbar.getDomRef()) || this.headerToolbar.getDomRef();\n\t}\n\n\tgetNormalizedTarget(target) {\n\t\tlet focused = target;\n\n\t\tif (target.shadowRoot && target.shadowRoot.activeElement) {\n\t\t\tfocused = target.shadowRoot.activeElement;\n\t\t}\n\n\t\treturn focused;\n\t}\n\n\tloadMore(el) {\n\t\tconst scrollTop = el.scrollTop;\n\t\tconst height = el.offsetHeight;\n\t\tconst scrollHeight = el.scrollHeight;\n\n\t\tif (this.previousScrollPosition > scrollTop) { // skip scrolling upwards\n\t\t\tthis.previousScrollPosition = scrollTop;\n\t\t\treturn;\n\t\t}\n\t\tthis.previousScrollPosition = scrollTop;\n\n\t\tif (scrollHeight - BUSYINDICATOR_HEIGHT <= height + scrollTop) {\n\t\t\tthis.fireEvent(\"loadMore\");\n\t\t}\n\t}\n\n\tdebounce(fn, delay) {\n\t\tclearTimeout(this.debounceInterval);\n\t\tthis.debounceInterval = setTimeout(() => {\n\t\t\tthis.debounceInterval = null;\n\t\t\tfn();\n\t\t}, delay);\n\t}\n\n\tstatic async onDefine() {\n\t\tawait BusyIndicator.define();\n\t}\n}\n\nList.define();\n\nexport default List;\n"]},"metadata":{},"sourceType":"module"}