{"ast":null,"code":"import _defineProperty from \"/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport { getFeature } from \"@ui5/webcomponents-base/dist/FeaturesRegistry.js\";\nimport AnimationMode from \"@ui5/webcomponents-base/dist/types/AnimationMode.js\";\nimport { getAnimationMode } from \"@ui5/webcomponents-base/dist/config/AnimationMode.js\";\nimport { getRTL } from \"@ui5/webcomponents-base/dist/config/RTL.js\";\nimport { isSpace, isEnter } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport StandardListItem from \"@ui5/webcomponents/dist/StandardListItem.js\";\nimport List from \"@ui5/webcomponents/dist/List.js\";\nimport Popover from \"@ui5/webcomponents/dist/Popover.js\";\nimport Button from \"@ui5/webcomponents/dist/Button.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/search.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/bell.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/overflow.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/grid.js\"; // Templates\n\nimport ShellBarTemplate from \"./generated/templates/ShellBarTemplate.lit.js\";\nimport ShellBarPopoverTemplate from \"./generated/templates/ShellBarPopoverTemplate.lit.js\"; // Styles\n\nimport styles from \"./generated/themes/ShellBar.css.js\";\n/**\n * @public\n */\n\nvar metadata = {\n  tag: \"ui5-shellbar\",\n  properties:\n  /** @lends sap.ui.webcomponents.fiori.ShellBar.prototype */\n  {\n    /**\n     * Defines the <code>logo</code> source URI.\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    logo: {\n      type: String\n    },\n\n    /**\n     * Defines the <code>primaryTitle</code>.\n     * <br><br>\n     * <b>Note:</b> The <code>primaryTitle</code> would be hidden on S screen size (less than approx. 700px).\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    primaryTitle: {\n      type: String\n    },\n\n    /**\n     * Defines the <code>secondaryTitle</code>.\n     * <br><br>\n     * <b>Note:</b> The <code>secondaryTitle</code> would be hidden on S and M screen sizes (less than approx. 1300px).\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    secondaryTitle: {\n      type: String\n    },\n\n    /**\n     * Defines the <code>notificationCount</code>,\n     * displayed in the notification icon top-right corner.\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    notificationCount: {\n      type: String\n    },\n\n    /**\n     * Defines, if the notification icon would be displayed.\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    showNotifications: {\n      type: Boolean\n    },\n\n    /**\n     * Defines, if the product switch icon would be displayed.\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    showProductSwitch: {\n      type: Boolean\n    },\n\n    /**\n     * Defines, if the product CoPilot icon would be displayed.\n     * <br><b>Note:</b> By default the co-pilot is displayed as static SVG.\n     * If you need an animated co-pilot, you can import the <code>\"@ui5/webcomponents-fiori/dist/features/CoPilotAnimation.js\"</code> module as add-on feature.\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    showCoPilot: {\n      type: Boolean\n    },\n\n    /**\n     * @private\n     */\n    breakpointSize: {\n      type: String\n    },\n\n    /**\n     * @private\n     */\n    showSearchField: {\n      type: Boolean\n    },\n    coPilotActive: {\n      type: Boolean\n    },\n    _itemsInfo: {\n      type: Object\n    },\n    _actionList: {\n      type: Object\n    },\n    _searchField: {\n      type: Object\n    },\n    _header: {\n      type: Object\n    },\n    _menuPopoverItems: {\n      type: String,\n      multiple: true\n    }\n  },\n  managedSlots: true,\n  slots:\n  /** @lends sap.ui.webcomponents.fiori.ShellBar.prototype */\n  {\n    /**\n     * Defines the <code>ui5-shellbar</code> aditional items.\n     * <br><br>\n     * <b>Note:</b>\n     * You can use the &nbsp;&lt;ui5-shellbar-item>&lt;/ui5-shellbar-item>.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement\n    },\n\n    /**\n     * You can pass <code>ui5-avatar</code> to set the profile image/icon.\n     * If no profile slot is set - profile will be excluded from actions.\n     * @type {HTMLElement}\n     * @slot\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    profile: {\n      type: HTMLElement\n    },\n\n    /**\n     * Defines the items displayed in menu after a click on the primary title.\n     * <br><br>\n     * <b>Note:</b>\n     * You can use the &nbsp;&lt;ui5-li>&lt;/ui5-li> and its ancestors.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @since 0.10\n     * @public\n     */\n    menuItems: {\n      type: HTMLElement\n    },\n\n    /**\n     * Defines the <code>ui5-input</code>, that will be used as a search field.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    searchField: {\n      type: HTMLElement\n    },\n\n    /**\n     * Defines a <code>ui5-button</code> in the bar that will be placed in the beginning.\n     * We encourage this slot to be used for a back or home button.\n     * It gets overstyled to match ShellBar's styling.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    startButton: {\n      type: HTMLElement\n    }\n  },\n  events:\n  /** @lends sap.ui.webcomponents.fiori.ShellBar.prototype */\n  {\n    /**\n     *\n     * Fired, when the notification icon is activated.\n     *\n     *\n     * @event\n     * @param {HTMLElement} targetRef dom ref of the activated element\n     * @public\n     */\n    notificationsClick: {\n      detail: {\n        targetRef: {\n          type: HTMLElement\n        }\n      }\n    },\n\n    /**\n     * Fired, when the profile slot is present.\n     *\n     * @event\n     * @param {HTMLElement} targetRef dom ref of the activated element\n     * @public\n     */\n    profileClick: {\n      detail: {\n        targetRef: {\n          type: HTMLElement\n        }\n      }\n    },\n\n    /**\n     * Fired, when the product switch icon is activated.\n     * <b>Note:</b> You can prevent closing of oveflow popover by calling <code>event.preventDefault()</code>.\n     *\n     * @event\n     * @param {HTMLElement} targetRef dom ref of the activated element\n     * @public\n     */\n    productSwitchClick: {\n      detail: {\n        targetRef: {\n          type: HTMLElement\n        }\n      }\n    },\n\n    /**\n     * Fired, when the logo is activated.\n     *\n     * @event\n     * @param {HTMLElement} targetRef dom ref of the activated element\n     * @since 0.10\n     * @public\n     */\n    logoClick: {\n      detail: {\n        targetRef: {\n          type: HTMLElement\n        }\n      }\n    },\n\n    /**\n     * Fired, when the co pilot is activated.\n     *\n     * @event\n     * @param {HTMLElement} targetRef dom ref of the activated element\n     * @since 0.10\n     * @public\n     */\n    coPilotClick: {\n      detail: {\n        targetRef: {\n          type: HTMLElement\n        }\n      }\n    },\n\n    /**\n     * Fired, when a menu item is activated\n     * <b>Note:</b> You can prevent closing of oveflow popover by calling <code>event.preventDefault()</code>.\n     *\n     * @event\n     * @param {HTMLElement} item dom ref of the activated list item\n     * @since 0.10\n     * @public\n     */\n    menuItemClick: {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    }\n  }\n};\n/**\n * @class\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-shellbar</code> is meant to serve as an application header\n * and includes numerous built-in features, such as: logo, profile image/icon, title, search field, notifications and so on.\n * <br><br>\n * <h3>ES6 Module Import</h3>\n * <code>import \"@ui5/webcomponents-fiori/dist/ShellBar\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.fiori.ShellBar\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-shellbar\n * @appenddocs ShellBarItem\n * @public\n * @since 0.8.0\n */\n\nvar ShellBar = /*#__PURE__*/function (_UI5Element) {\n  _inherits(ShellBar, _UI5Element);\n\n  var _super = _createSuper(ShellBar);\n\n  _createClass(ShellBar, null, [{\n    key: \"metadata\",\n    get: function get() {\n      return metadata;\n    }\n  }, {\n    key: \"styles\",\n    get: function get() {\n      return styles;\n    }\n  }, {\n    key: \"render\",\n    get: function get() {\n      return litRender;\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return ShellBarTemplate;\n    }\n  }, {\n    key: \"staticAreaTemplate\",\n    get: function get() {\n      return ShellBarPopoverTemplate;\n    }\n  }, {\n    key: \"FIORI_3_BREAKPOINTS\",\n    get: function get() {\n      return [559, 1023, 1439, 1919, 10000];\n    }\n  }, {\n    key: \"FIORI_3_BREAKPOINTS_MAP\",\n    get: function get() {\n      return {\n        \"559\": \"S\",\n        \"1023\": \"M\",\n        \"1439\": \"L\",\n        \"1919\": \"XL\",\n        \"10000\": \"XXL\"\n      };\n    }\n  }]);\n\n  function ShellBar() {\n    var _this;\n\n    _classCallCheck(this, ShellBar);\n\n    _this = _super.call(this);\n    _this._itemsInfo = [];\n    _this._isInitialRendering = true;\n    _this._focusedItem = null; // marks if preventDefault() is called in item's press handler\n\n    _this._defaultItemPressPrevented = false;\n    _this._actionList = {\n      itemPress: function itemPress(event) {\n        if (!_this._defaultItemPressPrevented) {\n          _this.overflowPopover.close();\n        }\n\n        _this._defaultItemPressPrevented = false;\n      }\n    };\n    _this.menuItemsObserver = new MutationObserver(function () {\n      _this._updateClonedMenuItems();\n    });\n    _this._header = {\n      press: function () {\n        var _press = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var menuPopover;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _this._updateClonedMenuItems();\n\n                  if (!_this.menuItems.length) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  _this.updateStaticAreaItemContentDensity();\n\n                  _context.next = 5;\n                  return _this._getMenuPopover();\n\n                case 5:\n                  menuPopover = _context.sent;\n                  menuPopover.openBy(_this.shadowRoot.querySelector(\".ui5-shellbar-menu-button\"));\n\n                case 7:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function press() {\n          return _press.apply(this, arguments);\n        }\n\n        return press;\n      }()\n    };\n    _this._searchField = {\n      left: 0\n    };\n\n    _this._handleResize = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this._getResponsivePopover();\n\n              case 2:\n                _this.overflowPopover.close();\n\n                _this._overflowActions();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(ShellBar, [{\n    key: \"_menuItemPress\",\n    value: function _menuItemPress(event) {\n      this.fireEvent(\"menuItemClick\", {\n        item: event.detail.item\n      }, true);\n    }\n  }, {\n    key: \"_logoPress\",\n    value: function _logoPress(event) {\n      this.fireEvent(\"logoClick\", {\n        targetRef: this.shadowRoot.querySelector(\".ui5-shellbar-logo\")\n      });\n    }\n  }, {\n    key: \"_fireCoPilotClick\",\n    value: function _fireCoPilotClick() {\n      this.fireEvent(\"coPilotClick\", {\n        targetRef: this.shadowRoot.querySelector(\".ui5-shellbar-coPilot\")\n      });\n    }\n  }, {\n    key: \"_coPilotClick\",\n    value: function _coPilotClick() {\n      this._fireCoPilotClick();\n    }\n  }, {\n    key: \"_coPilotKeydown\",\n    value: function _coPilotKeydown(event) {\n      if (isSpace(event)) {\n        this.coPilotActive = true;\n        event.preventDefault();\n        return;\n      }\n\n      if (isEnter(event)) {\n        this.coPilotActive = true;\n\n        this._fireCoPilotClick();\n      }\n    }\n  }, {\n    key: \"_coPilotKeyup\",\n    value: function _coPilotKeyup(event) {\n      if (isSpace(event)) {\n        this._fireCoPilotClick();\n      }\n\n      this.coPilotActive = false;\n    }\n  }, {\n    key: \"onBeforeRendering\",\n    value: function onBeforeRendering() {\n      var animationsOn = getAnimationMode() === AnimationMode.Full;\n      var coPilotAnimation = getFeature(\"CoPilotAnimation\");\n      this.coPilot = coPilotAnimation && animationsOn ? coPilotAnimation : {\n        animated: false\n      };\n      this._hiddenIcons = this._itemsInfo.filter(function (info) {\n        var isHidden = info.classes.indexOf(\"ui5-shellbar-hidden-button\") !== -1;\n        var isSet = info.classes.indexOf(\"ui5-shellbar-invisible-button\") === -1;\n        var isOverflowIcon = info.classes.indexOf(\"ui5-shellbar-overflow-button\") !== -1;\n        return isHidden && isSet && !isOverflowIcon;\n      });\n\n      this._observeMenuItems();\n    }\n  }, {\n    key: \"onAfterRendering\",\n    value: function onAfterRendering() {\n      this._overflowActions();\n    }\n    /**\n     * Closes the overflow area.\n     * Useful to manually close the overflow after having suppressed automatic closing with preventDefault() of ShellbarItem's press event\n     * @public\n     */\n\n  }, {\n    key: \"closeOverflow\",\n    value: function closeOverflow() {\n      if (this.overflowPopover) {\n        this.overflowPopover.close();\n      }\n    }\n  }, {\n    key: \"_handleBarBreakpoints\",\n    value: function _handleBarBreakpoints() {\n      var width = this.getBoundingClientRect().width;\n      var breakpoints = ShellBar.FIORI_3_BREAKPOINTS;\n      var size = breakpoints.find(function (bp1) {\n        return width < bp1;\n      }) || ShellBar.FIORI_3_BREAKPOINTS[ShellBar.FIORI_3_BREAKPOINTS.length - 1];\n      var mappedSize = ShellBar.FIORI_3_BREAKPOINTS_MAP[size];\n\n      if (this.breakpointSize !== mappedSize) {\n        this.breakpointSize = mappedSize;\n      }\n\n      return mappedSize;\n    }\n  }, {\n    key: \"_handleSizeS\",\n    value: function _handleSizeS() {\n      var _this2 = this;\n\n      var hasIcons = this.showNotifications || this.showProductSwitch || this.searchField.length || this.items.length;\n\n      var newItems = this._getAllItems(hasIcons).map(function (info) {\n        var isOverflowIcon = info.classes.indexOf(\"ui5-shellbar-overflow-button\") !== -1;\n        var isImageIcon = info.classes.indexOf(\"ui5-shellbar-image-button\") !== -1;\n        var shouldStayOnScreen = isOverflowIcon || isImageIcon && _this2.hasProfile;\n        return Object.assign({}, info, {\n          classes: \"\".concat(info.classes, \" \").concat(shouldStayOnScreen ? \"\" : \"ui5-shellbar-hidden-button\", \" ui5-shellbar-button\"),\n          style: \"order: \".concat(shouldStayOnScreen ? 1 : -1)\n        });\n      });\n\n      this._updateItemsInfo(newItems);\n    }\n  }, {\n    key: \"_handleActionsOverflow\",\n    value: function _handleActionsOverflow() {\n      var rightContainerRect = this.shadowRoot.querySelector(\".ui5-shellbar-overflow-container-right\").getBoundingClientRect();\n      var icons = this.shadowRoot.querySelectorAll(\".ui5-shellbar-button:not(.ui5-shellbar-overflow-button):not(.ui5-shellbar-invisible-button)\");\n      var isRTL = getRTL();\n      var overflowCount = [].filter.call(icons, function (icon) {\n        var iconRect = icon.getBoundingClientRect();\n\n        if (isRTL) {\n          return iconRect.left + iconRect.width > rightContainerRect.left + rightContainerRect.width;\n        }\n\n        return iconRect.left < rightContainerRect.left;\n      });\n      overflowCount = overflowCount.length;\n\n      var items = this._getAllItems(!!overflowCount);\n\n      var itemsByPriority = items.sort(function (item1, item2) {\n        if (item1.priority > item2.priority) {\n          return 1;\n        }\n\n        if (item1.priority < item2.priority) {\n          return -1;\n        }\n\n        return 0;\n      });\n\n      for (var i = 0; i < itemsByPriority.length; i++) {\n        if (i < overflowCount) {\n          itemsByPriority[i].classes = \"\".concat(itemsByPriority[i].classes, \" ui5-shellbar-hidden-button\");\n          itemsByPriority[i].style = \"order: -1\";\n        }\n      }\n\n      return itemsByPriority;\n    }\n  }, {\n    key: \"_overflowActions\",\n    value: function _overflowActions() {\n      var size = this._handleBarBreakpoints();\n\n      if (size === \"S\") {\n        return this._handleSizeS();\n      }\n\n      var newItems = this._handleActionsOverflow();\n\n      this._updateItemsInfo(newItems);\n    }\n  }, {\n    key: \"_toggleActionPopover\",\n    value: function _toggleActionPopover() {\n      var overflowButton = this.shadowRoot.querySelector(\".ui5-shellbar-overflow-button\");\n      this.updateStaticAreaItemContentDensity();\n      this.overflowPopover.openBy(overflowButton);\n    }\n  }, {\n    key: \"onEnterDOM\",\n    value: function onEnterDOM() {\n      ResizeHandler.register(this, this._handleResize);\n    }\n  }, {\n    key: \"onExitDOM\",\n    value: function onExitDOM() {\n      this.menuItemsObserver.disconnect();\n      ResizeHandler.deregister(this, this._handleResize);\n    }\n  }, {\n    key: \"_handleSearchIconPress\",\n    value: function _handleSearchIconPress(event) {\n      this.showSearchField = !this.showSearchField;\n\n      if (!this.showSearchField) {\n        return;\n      }\n\n      var searchField = this.shadowRoot.querySelector(\"#\".concat(this._id, \"-searchfield-wrapper\"));\n      var triggeredByOverflow = event.target.tagName.toLowerCase() === \"ui5-li\";\n      var overflowButton = this.shadowRoot.querySelector(\".ui5-shellbar-overflow-button\");\n      var overflowButtonRect = overflowButton.getBoundingClientRect();\n      var isRTL = getRTL();\n      var right = \"\";\n\n      if (isRTL) {\n        right = \"\".concat((triggeredByOverflow ? overflowButton.offsetLeft : event.target.offsetLeft) + overflowButtonRect.width, \"px\");\n      } else {\n        right = \"calc(100% - \".concat(triggeredByOverflow ? overflowButton.offsetLeft : event.target.offsetLeft, \"px)\");\n      }\n\n      this._searchField = Object.assign({}, this._searchField, {\n        \"right\": right\n      });\n      setTimeout(function () {\n        var inputSlot = searchField.children[0];\n\n        if (inputSlot) {\n          inputSlot.assignedNodes()[0].focus();\n        }\n      }, 100);\n    }\n  }, {\n    key: \"_handleCustomActionPress\",\n    value: function _handleCustomActionPress(event) {\n      var refItemId = event.target.getAttribute(\"data-ui5-external-action-item-id\");\n\n      if (refItemId) {\n        var shellbarItem = this.items.find(function (item) {\n          return item.shadowRoot.querySelector(\"#\".concat(refItemId));\n        });\n        var prevented = !shellbarItem.fireEvent(\"itemClick\", {\n          targetRef: event.target\n        }, true);\n        this._defaultItemPressPrevented = prevented;\n      }\n    }\n  }, {\n    key: \"_handleOverflowPress\",\n    value: function _handleOverflowPress(event) {\n      this._toggleActionPopover();\n    }\n  }, {\n    key: \"_handleNotificationsPress\",\n    value: function _handleNotificationsPress(event) {\n      this.fireEvent(\"notificationsClick\", {\n        targetRef: this.shadowRoot.querySelector(\".ui5-shellbar-bell-button\")\n      });\n    }\n  }, {\n    key: \"_handleProfilePress\",\n    value: function _handleProfilePress(event) {\n      this.fireEvent(\"profileClick\", {\n        targetRef: this.shadowRoot.querySelector(\".ui5-shellbar-image-button\")\n      });\n    }\n  }, {\n    key: \"_handleProductSwitchPress\",\n    value: function _handleProductSwitchPress(event) {\n      var buttonRef = this.shadowRoot.querySelector(\".ui5-shellbar-button-product-switch\");\n      this._defaultItemPressPrevented = !this.fireEvent(\"productSwitchClick\", {\n        targetRef: buttonRef.classList.contains(\"ui5-shellbar-hidden-button\") ? event.target : buttonRef\n      }, true);\n    }\n    /**\n     * Returns all items that will be placed in the right of the bar as icons / dom elements.\n     * @param {Boolean} showOverflowButton Determines if overflow button should be visible (not overflowing)\n     */\n\n  }, {\n    key: \"_getAllItems\",\n    value: function _getAllItems(showOverflowButton) {\n      var _this3 = this;\n\n      var domOrder = -1;\n      var items = [{\n        icon: \"search\",\n        text: \"Search\",\n        classes: \"\".concat(this.searchField.length ? \"\" : \"ui5-shellbar-invisible-button\", \" ui5-shellbar-search-button ui5-shellbar-button\"),\n        priority: 4,\n        domOrder: this.searchField.length ? ++domOrder : -1,\n        style: \"order: \".concat(this.searchField.length ? 1 : -10),\n        id: \"\".concat(this._id, \"-item-\", 1),\n        press: this._handleSearchIconPress.bind(this)\n      }].concat(_toConsumableArray(this.items.map(function (item, index) {\n        return {\n          icon: item.icon,\n          id: item._id,\n          count: item.count || undefined,\n          refItemid: item._id,\n          text: item.text,\n          classes: \"ui5-shellbar-custom-item ui5-shellbar-button\",\n          priority: 1,\n          domOrder: ++domOrder,\n          style: \"order: \".concat(2),\n          show: true,\n          press: _this3._handleCustomActionPress.bind(_this3),\n          custom: true\n        };\n      })), [{\n        icon: \"bell\",\n        text: \"Notifications\",\n        classes: \"\".concat(this.showNotifications ? \"\" : \"ui5-shellbar-invisible-button\", \" ui5-shellbar-bell-button ui5-shellbar-button\"),\n        priority: 3,\n        style: \"order: \".concat(this.showNotifications ? 3 : -10),\n        id: \"\".concat(this._id, \"-item-\", 2),\n        show: this.showNotifications,\n        domOrder: this.showNotifications ? ++domOrder : -1,\n        press: this._handleNotificationsPress.bind(this)\n      }, {\n        icon: \"overflow\",\n        text: \"Overflow\",\n        classes: \"\".concat(showOverflowButton ? \"\" : \"ui5-shellbar-hidden-button\", \" ui5-shellbar-overflow-button-shown ui5-shellbar-overflow-button ui5-shellbar-button\"),\n        priority: 5,\n        order: 4,\n        style: \"order: \".concat(showOverflowButton ? 4 : -1),\n        domOrder: showOverflowButton ? ++domOrder : -1,\n        id: \"\".concat(this.id, \"-item-\", 5),\n        press: this._handleOverflowPress.bind(this),\n        show: true\n      }, {\n        text: \"Person\",\n        classes: \"\".concat(this.hasProfile ? \"\" : \"ui5-shellbar-invisible-button\", \" ui5-shellbar-image-button ui5-shellbar-button\"),\n        priority: 4,\n        style: \"order: \".concat(this.hasProfile ? 5 : -10, \";\"),\n        profile: true,\n        id: \"\".concat(this._id, \"-item-\", 3),\n        domOrder: this.hasProfile ? ++domOrder : -1,\n        show: this.hasProfile,\n        press: this._handleProfilePress.bind(this)\n      }, {\n        icon: \"grid\",\n        text: \"Product Switch\",\n        classes: \"\".concat(this.showProductSwitch ? \"\" : \"ui5-shellbar-invisible-button\", \" ui5-shellbar-button ui5-shellbar-button-product-switch\"),\n        priority: 2,\n        style: \"order: \".concat(this.showProductSwitch ? 6 : -10),\n        id: \"\".concat(this._id, \"-item-\", 4),\n        show: this.showProductSwitch,\n        domOrder: this.showProductSwitch ? ++domOrder : -1,\n        press: this._handleProductSwitchPress.bind(this)\n      }]);\n      return items;\n    }\n  }, {\n    key: \"_updateItemsInfo\",\n    value: function _updateItemsInfo(newItems) {\n      var isDifferent = JSON.stringify(this._itemsInfo) !== JSON.stringify(newItems);\n\n      if (isDifferent) {\n        this._itemsInfo = newItems;\n      }\n    }\n  }, {\n    key: \"_updateClonedMenuItems\",\n    value: function _updateClonedMenuItems() {\n      var _this4 = this;\n\n      this._menuPopoverItems = [];\n      this.menuItems.forEach(function (item) {\n        // clone the menuItem and remove the slot=\"menuItems\",\n        // otherwise would not be slotted in the internal ui5-li\n        var clonedItem = item.cloneNode(true);\n        clonedItem.removeAttribute(\"slot\");\n\n        _this4._menuPopoverItems.push(clonedItem);\n      });\n    }\n  }, {\n    key: \"_observeMenuItems\",\n    value: function _observeMenuItems() {\n      var _this5 = this;\n\n      this.menuItems.forEach(function (item) {\n        _this5.menuItemsObserver.observe(item, {\n          characterData: true,\n          childList: true,\n          subtree: true,\n          attributes: true\n        });\n      });\n    }\n  }, {\n    key: \"_getResponsivePopover\",\n    value: function () {\n      var _getResponsivePopover2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var staticAreaItem;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getStaticAreaItemDomRef();\n\n              case 2:\n                staticAreaItem = _context3.sent;\n                this.overflowPopover = staticAreaItem.querySelector(\".ui5-shellbar-overflow-popover\");\n                this.menuPopover = staticAreaItem.querySelector(\".ui5-shellbar-menu-popover\");\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _getResponsivePopover() {\n        return _getResponsivePopover2.apply(this, arguments);\n      }\n\n      return _getResponsivePopover;\n    }()\n  }, {\n    key: \"_getMenuPopover\",\n    value: function () {\n      var _getMenuPopover2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var staticAreaItem;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.getStaticAreaItemDomRef();\n\n              case 2:\n                staticAreaItem = _context4.sent;\n                return _context4.abrupt(\"return\", staticAreaItem.querySelector(\".ui5-shellbar-menu-popover\"));\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function _getMenuPopover() {\n        return _getMenuPopover2.apply(this, arguments);\n      }\n\n      return _getMenuPopover;\n    }()\n  }, {\n    key: \"isIconHidden\",\n    value: function isIconHidden(name) {\n      var itemInfo = this._itemsInfo.find(function (item) {\n        return item.icon === name;\n      });\n\n      if (!itemInfo) {\n        return false;\n      }\n\n      return itemInfo.classes.indexOf(\"ui5-shellbar-hidden-button\") !== -1;\n    }\n  }, {\n    key: \"classes\",\n    get: function get() {\n      return {\n        wrapper: {\n          \"ui5-shellbar-root\": true,\n          \"ui5-shellbar-with-searchfield\": this.searchField.length\n        },\n        button: {\n          \"ui5-shellbar-menu-button--interactive\": !!this.menuItems.length,\n          \"ui5-shellbar-menu-button\": true\n        },\n        items: {\n          notification: {\n            \"ui5-shellbar-hidden-button\": this.isIconHidden(\"bell\")\n          },\n          product: {\n            \"ui5-shellbar-hidden-button\": this.isIconHidden(\"grid\")\n          },\n          search: {\n            \"ui5-shellbar-hidden-button\": this.isIconHidden(\"search\")\n          },\n          overflow: {\n            \"ui5-shellbar-hidden-button\": this.isIconHidden(\"overflow\")\n          }\n        }\n      };\n    }\n  }, {\n    key: \"styles\",\n    get: function get() {\n      var _searchField;\n\n      return {\n        searchField: (_searchField = {}, _defineProperty(_searchField, getRTL() ? \"left\" : \"right\", this._searchField.right), _defineProperty(_searchField, \"top\", \"\".concat(parseInt(this._searchField.top), \"px\")), _searchField),\n        items: {\n          notification: {\n            \"order\": this.isIconHidden(\"bell\") ? \"-1\" : \"3\"\n          },\n          overflow: {\n            \"order\": this.isIconHidden(\"overflow\") ? \"-1\" : \"4\"\n          },\n          profile: {\n            \"order\": this.hasProfile ? \"5\" : \"-1\"\n          },\n          product: {\n            \"order\": this.isIconHidden(\"grid\") ? \"-1\" : \"6\"\n          }\n        }\n      };\n    }\n  }, {\n    key: \"customItemsInfo\",\n    get: function get() {\n      return this._itemsInfo.filter(function (itemInfo) {\n        return !!itemInfo.custom;\n      });\n    }\n  }, {\n    key: \"interactiveLogo\",\n    get: function get() {\n      return this.breakpointSize === \"S\";\n    }\n  }, {\n    key: \"showArrowDown\",\n    get: function get() {\n      return this.primaryTitle || this.logo && this.interactiveLogo;\n    }\n  }, {\n    key: \"popoverHorizontalAlign\",\n    get: function get() {\n      return getRTL() ? \"Left\" : \"Right\";\n    }\n  }, {\n    key: \"rtl\",\n    get: function get() {\n      return getRTL() ? \"rtl\" : undefined;\n    }\n  }, {\n    key: \"hasSearchField\",\n    get: function get() {\n      return !!this.searchField.length;\n    }\n  }, {\n    key: \"hasProfile\",\n    get: function get() {\n      return !!this.profile.length;\n    }\n  }, {\n    key: \"menuBtnTabindex\",\n    get: function get() {\n      return this.menuItems.length > 0 ? \"0\" : \"-1\";\n    }\n  }], [{\n    key: \"onDefine\",\n    value: function () {\n      var _onDefine = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return Promise.all([Button.define(), List.define(), Popover.define(), StandardListItem.define()]);\n\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function onDefine() {\n        return _onDefine.apply(this, arguments);\n      }\n\n      return onDefine;\n    }()\n  }]);\n\n  return ShellBar;\n}(UI5Element);\n\nShellBar.define();\nexport default ShellBar;","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents-fiori/dist/ShellBar.js"],"names":["UI5Element","litRender","ResizeHandler","getFeature","AnimationMode","getAnimationMode","getRTL","isSpace","isEnter","StandardListItem","List","Popover","Button","ShellBarTemplate","ShellBarPopoverTemplate","styles","metadata","tag","properties","logo","type","String","primaryTitle","secondaryTitle","notificationCount","showNotifications","Boolean","showProductSwitch","showCoPilot","breakpointSize","showSearchField","coPilotActive","_itemsInfo","Object","_actionList","_searchField","_header","_menuPopoverItems","multiple","managedSlots","slots","propertyName","HTMLElement","profile","menuItems","searchField","startButton","events","notificationsClick","detail","targetRef","profileClick","productSwitchClick","logoClick","coPilotClick","menuItemClick","item","ShellBar","_isInitialRendering","_focusedItem","_defaultItemPressPrevented","itemPress","event","overflowPopover","close","menuItemsObserver","MutationObserver","_updateClonedMenuItems","press","length","updateStaticAreaItemContentDensity","_getMenuPopover","menuPopover","openBy","shadowRoot","querySelector","left","_handleResize","_getResponsivePopover","_overflowActions","fireEvent","_fireCoPilotClick","preventDefault","animationsOn","Full","coPilotAnimation","coPilot","animated","_hiddenIcons","filter","info","isHidden","classes","indexOf","isSet","isOverflowIcon","_observeMenuItems","width","getBoundingClientRect","breakpoints","FIORI_3_BREAKPOINTS","size","find","bp1","mappedSize","FIORI_3_BREAKPOINTS_MAP","hasIcons","items","newItems","_getAllItems","map","isImageIcon","shouldStayOnScreen","hasProfile","assign","style","_updateItemsInfo","rightContainerRect","icons","querySelectorAll","isRTL","overflowCount","call","icon","iconRect","itemsByPriority","sort","item1","item2","priority","i","_handleBarBreakpoints","_handleSizeS","_handleActionsOverflow","overflowButton","register","disconnect","deregister","_id","triggeredByOverflow","target","tagName","toLowerCase","overflowButtonRect","right","offsetLeft","setTimeout","inputSlot","children","assignedNodes","focus","refItemId","getAttribute","shellbarItem","prevented","_toggleActionPopover","buttonRef","classList","contains","showOverflowButton","domOrder","text","id","_handleSearchIconPress","bind","index","count","undefined","refItemid","show","_handleCustomActionPress","custom","_handleNotificationsPress","order","_handleOverflowPress","_handleProfilePress","_handleProductSwitchPress","isDifferent","JSON","stringify","forEach","clonedItem","cloneNode","removeAttribute","push","observe","characterData","childList","subtree","attributes","getStaticAreaItemDomRef","staticAreaItem","name","itemInfo","wrapper","button","notification","isIconHidden","product","search","overflow","parseInt","top","interactiveLogo","Promise","all","define"],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport { getFeature } from \"@ui5/webcomponents-base/dist/FeaturesRegistry.js\";\nimport AnimationMode from \"@ui5/webcomponents-base/dist/types/AnimationMode.js\";\nimport { getAnimationMode } from \"@ui5/webcomponents-base/dist/config/AnimationMode.js\";\nimport { getRTL } from \"@ui5/webcomponents-base/dist/config/RTL.js\";\nimport { isSpace, isEnter } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport StandardListItem from \"@ui5/webcomponents/dist/StandardListItem.js\";\nimport List from \"@ui5/webcomponents/dist/List.js\";\nimport Popover from \"@ui5/webcomponents/dist/Popover.js\";\nimport Button from \"@ui5/webcomponents/dist/Button.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/search.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/bell.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/overflow.js\";\nimport \"@ui5/webcomponents-icons/dist/icons/grid.js\";\n\n// Templates\nimport ShellBarTemplate from \"./generated/templates/ShellBarTemplate.lit.js\";\nimport ShellBarPopoverTemplate from \"./generated/templates/ShellBarPopoverTemplate.lit.js\";\n\n// Styles\nimport styles from \"./generated/themes/ShellBar.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-shellbar\",\n\tproperties: /** @lends sap.ui.webcomponents.fiori.ShellBar.prototype */ {\n\n\t\t/**\n\t\t * Defines the <code>logo</code> source URI.\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tlogo: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the <code>primaryTitle</code>.\n\t\t * <br><br>\n\t\t * <b>Note:</b> The <code>primaryTitle</code> would be hidden on S screen size (less than approx. 700px).\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tprimaryTitle: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the <code>secondaryTitle</code>.\n\t\t * <br><br>\n\t\t * <b>Note:</b> The <code>secondaryTitle</code> would be hidden on S and M screen sizes (less than approx. 1300px).\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tsecondaryTitle: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the <code>notificationCount</code>,\n\t\t * displayed in the notification icon top-right corner.\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tnotificationCount: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines, if the notification icon would be displayed.\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tshowNotifications: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines, if the product switch icon would be displayed.\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tshowProductSwitch: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines, if the product CoPilot icon would be displayed.\n\t\t * <br><b>Note:</b> By default the co-pilot is displayed as static SVG.\n\t\t * If you need an animated co-pilot, you can import the <code>\"@ui5/webcomponents-fiori/dist/features/CoPilotAnimation.js\"</code> module as add-on feature.\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tshowCoPilot: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tbreakpointSize: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tshowSearchField: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\tcoPilotActive: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_itemsInfo: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_actionList: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_searchField: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_header: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_menuPopoverItems: {\n\t\t\ttype: String,\n\t\t\tmultiple: true,\n\t\t},\n\t},\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.fiori.ShellBar.prototype */ {\n\t\t/**\n\t\t * Defines the <code>ui5-shellbar</code> aditional items.\n\t\t * <br><br>\n\t\t * <b>Note:</b>\n\t\t * You can use the &nbsp;&lt;ui5-shellbar-item>&lt;/ui5-shellbar-item>.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * You can pass <code>ui5-avatar</code> to set the profile image/icon.\n\t\t * If no profile slot is set - profile will be excluded from actions.\n\t\t * @type {HTMLElement}\n\t\t * @slot\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tprofile: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the items displayed in menu after a click on the primary title.\n\t\t * <br><br>\n\t\t * <b>Note:</b>\n\t\t * You can use the &nbsp;&lt;ui5-li>&lt;/ui5-li> and its ancestors.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @since 0.10\n\t\t * @public\n\t\t */\n\t\tmenuItems: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the <code>ui5-input</code>, that will be used as a search field.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tsearchField: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines a <code>ui5-button</code> in the bar that will be placed in the beginning.\n\t\t * We encourage this slot to be used for a back or home button.\n\t\t * It gets overstyled to match ShellBar's styling.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tstartButton: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.fiori.ShellBar.prototype */ {\n\t\t/**\n\t\t *\n\t\t * Fired, when the notification icon is activated.\n\t\t *\n\t\t *\n\t\t * @event\n\t\t * @param {HTMLElement} targetRef dom ref of the activated element\n\t\t * @public\n\t\t */\n\t\tnotificationsClick: {\n\t\t\tdetail: {\n\t\t\t\ttargetRef: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired, when the profile slot is present.\n\t\t *\n\t\t * @event\n\t\t * @param {HTMLElement} targetRef dom ref of the activated element\n\t\t * @public\n\t\t */\n\t\tprofileClick: {\n\t\t\tdetail: {\n\t\t\t\ttargetRef: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired, when the product switch icon is activated.\n\t\t * <b>Note:</b> You can prevent closing of oveflow popover by calling <code>event.preventDefault()</code>.\n\t\t *\n\t\t * @event\n\t\t * @param {HTMLElement} targetRef dom ref of the activated element\n\t\t * @public\n\t\t */\n\t\tproductSwitchClick: {\n\t\t\tdetail: {\n\t\t\t\ttargetRef: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired, when the logo is activated.\n\t\t *\n\t\t * @event\n\t\t * @param {HTMLElement} targetRef dom ref of the activated element\n\t\t * @since 0.10\n\t\t * @public\n\t\t */\n\t\tlogoClick: {\n\t\t\tdetail: {\n\t\t\t\ttargetRef: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired, when the co pilot is activated.\n\t\t *\n\t\t * @event\n\t\t * @param {HTMLElement} targetRef dom ref of the activated element\n\t\t * @since 0.10\n\t\t * @public\n\t\t */\n\t\tcoPilotClick: {\n\t\t\tdetail: {\n\t\t\t\ttargetRef: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired, when a menu item is activated\n\t\t * <b>Note:</b> You can prevent closing of oveflow popover by calling <code>event.preventDefault()</code>.\n\t\t *\n\t\t * @event\n\t\t * @param {HTMLElement} item dom ref of the activated list item\n\t\t * @since 0.10\n\t\t * @public\n\t\t */\n\t\tmenuItemClick: {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\t},\n};\n\n/**\n * @class\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-shellbar</code> is meant to serve as an application header\n * and includes numerous built-in features, such as: logo, profile image/icon, title, search field, notifications and so on.\n * <br><br>\n * <h3>ES6 Module Import</h3>\n * <code>import \"@ui5/webcomponents-fiori/dist/ShellBar\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.fiori.ShellBar\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-shellbar\n * @appenddocs ShellBarItem\n * @public\n * @since 0.8.0\n */\nclass ShellBar extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn ShellBarTemplate;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn ShellBarPopoverTemplate;\n\t}\n\n\tstatic get FIORI_3_BREAKPOINTS() {\n\t\treturn [\n\t\t\t559,\n\t\t\t1023,\n\t\t\t1439,\n\t\t\t1919,\n\t\t\t10000,\n\t\t];\n\t}\n\n\tstatic get FIORI_3_BREAKPOINTS_MAP() {\n\t\treturn {\n\t\t\t\"559\": \"S\",\n\t\t\t\"1023\": \"M\",\n\t\t\t\"1439\": \"L\",\n\t\t\t\"1919\": \"XL\",\n\t\t\t\"10000\": \"XXL\",\n\t\t};\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._itemsInfo = [];\n\t\tthis._isInitialRendering = true;\n\t\tthis._focusedItem = null;\n\n\t\t// marks if preventDefault() is called in item's press handler\n\t\tthis._defaultItemPressPrevented = false;\n\n\t\tthis._actionList = {\n\t\t\titemPress: event => {\n\t\t\t\tif (!this._defaultItemPressPrevented) {\n\t\t\t\t\tthis.overflowPopover.close();\n\t\t\t\t}\n\n\t\t\t\tthis._defaultItemPressPrevented = false;\n\t\t\t},\n\t\t};\n\n\t\tthis.menuItemsObserver = new MutationObserver(() => {\n\t\t\tthis._updateClonedMenuItems();\n\t\t});\n\n\t\tthis._header = {\n\t\t\tpress: async () => {\n\t\t\t\tthis._updateClonedMenuItems();\n\n\t\t\t\tif (this.menuItems.length) {\n\t\t\t\t\tthis.updateStaticAreaItemContentDensity();\n\t\t\t\t\tconst menuPopover = await this._getMenuPopover();\n\t\t\t\t\tmenuPopover.openBy(this.shadowRoot.querySelector(\".ui5-shellbar-menu-button\"));\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\n\t\tthis._searchField = {\n\t\t\tleft: 0,\n\t\t};\n\n\t\tthis._handleResize = async event => {\n\t\t\tawait this._getResponsivePopover();\n\t\t\tthis.overflowPopover.close();\n\t\t\tthis._overflowActions();\n\t\t};\n\t}\n\n\t_menuItemPress(event) {\n\t\tthis.fireEvent(\"menuItemClick\", {\n\t\t\titem: event.detail.item,\n\t\t}, true);\n\t}\n\n\t_logoPress(event) {\n\t\tthis.fireEvent(\"logoClick\", {\n\t\t\ttargetRef: this.shadowRoot.querySelector(\".ui5-shellbar-logo\"),\n\t\t});\n\t}\n\n\t_fireCoPilotClick() {\n\t\tthis.fireEvent(\"coPilotClick\", {\n\t\t\ttargetRef: this.shadowRoot.querySelector(\".ui5-shellbar-coPilot\"),\n\t\t});\n\t}\n\n\t_coPilotClick() {\n\t\tthis._fireCoPilotClick();\n\t}\n\n\t_coPilotKeydown(event) {\n\t\tif (isSpace(event)) {\n\t\t\tthis.coPilotActive = true;\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif (isEnter(event)) {\n\t\t\tthis.coPilotActive = true;\n\t\t\tthis._fireCoPilotClick();\n\t\t}\n\t}\n\n\t_coPilotKeyup(event) {\n\t\tif (isSpace(event)) {\n\t\t\tthis._fireCoPilotClick();\n\t\t}\n\t\tthis.coPilotActive = false;\n\t}\n\n\tonBeforeRendering() {\n\t\tconst animationsOn = getAnimationMode() === AnimationMode.Full;\n\t\tconst coPilotAnimation = getFeature(\"CoPilotAnimation\");\n\t\tthis.coPilot = coPilotAnimation && animationsOn ? coPilotAnimation : { animated: false };\n\n\t\tthis._hiddenIcons = this._itemsInfo.filter(info => {\n\t\t\tconst isHidden = (info.classes.indexOf(\"ui5-shellbar-hidden-button\") !== -1);\n\t\t\tconst isSet = info.classes.indexOf(\"ui5-shellbar-invisible-button\") === -1;\n\t\t\tconst isOverflowIcon = info.classes.indexOf(\"ui5-shellbar-overflow-button\") !== -1;\n\n\t\t\treturn isHidden && isSet && !isOverflowIcon;\n\t\t});\n\n\t\tthis._observeMenuItems();\n\t}\n\n\tonAfterRendering() {\n\t\tthis._overflowActions();\n\t}\n\n\t/**\n\t * Closes the overflow area.\n\t * Useful to manually close the overflow after having suppressed automatic closing with preventDefault() of ShellbarItem's press event\n\t * @public\n\t */\n\tcloseOverflow() {\n\t\tif (this.overflowPopover) {\n\t\t\tthis.overflowPopover.close();\n\t\t}\n\t}\n\n\t_handleBarBreakpoints() {\n\t\tconst width = this.getBoundingClientRect().width;\n\t\tconst breakpoints = ShellBar.FIORI_3_BREAKPOINTS;\n\n\t\tconst size = breakpoints.find(bp1 => width < bp1) || ShellBar.FIORI_3_BREAKPOINTS[ShellBar.FIORI_3_BREAKPOINTS.length - 1];\n\t\tconst mappedSize = ShellBar.FIORI_3_BREAKPOINTS_MAP[size];\n\n\t\tif (this.breakpointSize !== mappedSize) {\n\t\t\tthis.breakpointSize = mappedSize;\n\t\t}\n\n\t\treturn mappedSize;\n\t}\n\n\t_handleSizeS() {\n\t\tconst hasIcons = this.showNotifications || this.showProductSwitch || this.searchField.length || this.items.length;\n\n\t\tconst newItems = this._getAllItems(hasIcons).map(info => {\n\t\t\tconst isOverflowIcon = info.classes.indexOf(\"ui5-shellbar-overflow-button\") !== -1;\n\t\t\tconst isImageIcon = info.classes.indexOf(\"ui5-shellbar-image-button\") !== -1;\n\t\t\tconst shouldStayOnScreen = isOverflowIcon || (isImageIcon && this.hasProfile);\n\n\t\t\treturn Object.assign({}, info, {\n\t\t\t\tclasses: `${info.classes} ${shouldStayOnScreen ? \"\" : \"ui5-shellbar-hidden-button\"} ui5-shellbar-button`,\n\t\t\t\tstyle: `order: ${shouldStayOnScreen ? 1 : -1}`,\n\t\t\t});\n\t\t});\n\n\t\tthis._updateItemsInfo(newItems);\n\t}\n\n\t_handleActionsOverflow() {\n\t\tconst rightContainerRect = this.shadowRoot.querySelector(\".ui5-shellbar-overflow-container-right\").getBoundingClientRect();\n\t\tconst icons = this.shadowRoot.querySelectorAll(\".ui5-shellbar-button:not(.ui5-shellbar-overflow-button):not(.ui5-shellbar-invisible-button)\");\n\t\tconst isRTL = getRTL();\n\n\t\tlet overflowCount = [].filter.call(icons, icon => {\n\t\t\tconst iconRect = icon.getBoundingClientRect();\n\n\t\t\tif (isRTL) {\n\t\t\t\treturn (iconRect.left + iconRect.width) > (rightContainerRect.left + rightContainerRect.width);\n\t\t\t}\n\n\t\t\treturn iconRect.left < rightContainerRect.left;\n\t\t});\n\n\t\toverflowCount = overflowCount.length;\n\n\t\tconst items = this._getAllItems(!!overflowCount);\n\n\t\tconst itemsByPriority = items.sort((item1, item2) => {\n\t\t\tif (item1.priority > item2.priority) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif (item1.priority < item2.priority) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t});\n\n\t\tfor (let i = 0; i < itemsByPriority.length; i++) {\n\t\t\tif (i < overflowCount) {\n\t\t\t\titemsByPriority[i].classes = `${itemsByPriority[i].classes} ui5-shellbar-hidden-button`;\n\t\t\t\titemsByPriority[i].style = `order: -1`;\n\t\t\t}\n\t\t}\n\n\t\treturn itemsByPriority;\n\t}\n\n\t_overflowActions() {\n\t\tconst size = this._handleBarBreakpoints();\n\n\t\tif (size === \"S\") {\n\t\t\treturn this._handleSizeS();\n\t\t}\n\n\t\tconst newItems = this._handleActionsOverflow();\n\t\tthis._updateItemsInfo(newItems);\n\t}\n\n\t_toggleActionPopover() {\n\t\tconst overflowButton = this.shadowRoot.querySelector(\".ui5-shellbar-overflow-button\");\n\t\tthis.updateStaticAreaItemContentDensity();\n\t\tthis.overflowPopover.openBy(overflowButton);\n\t}\n\n\tonEnterDOM() {\n\t\tResizeHandler.register(this, this._handleResize);\n\t}\n\n\tonExitDOM() {\n\t\tthis.menuItemsObserver.disconnect();\n\t\tResizeHandler.deregister(this, this._handleResize);\n\t}\n\n\t_handleSearchIconPress(event) {\n\t\tthis.showSearchField = !this.showSearchField;\n\n\t\tif (!this.showSearchField) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst searchField = this.shadowRoot.querySelector(`#${this._id}-searchfield-wrapper`);\n\t\tconst triggeredByOverflow = event.target.tagName.toLowerCase() === \"ui5-li\";\n\t\tconst overflowButton = this.shadowRoot.querySelector(\".ui5-shellbar-overflow-button\");\n\t\tconst overflowButtonRect = overflowButton.getBoundingClientRect();\n\t\tconst isRTL = getRTL();\n\t\tlet right = \"\";\n\n\t\tif (isRTL) {\n\t\t\tright = `${(triggeredByOverflow ? overflowButton.offsetLeft : event.target.offsetLeft) + overflowButtonRect.width}px`;\n\t\t} else {\n\t\t\tright = `calc(100% - ${triggeredByOverflow ? overflowButton.offsetLeft : event.target.offsetLeft}px)`;\n\t\t}\n\n\t\tthis._searchField = Object.assign({}, this._searchField, {\n\t\t\t\"right\": right,\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tconst inputSlot = searchField.children[0];\n\n\t\t\tif (inputSlot) {\n\t\t\t\tinputSlot.assignedNodes()[0].focus();\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\t_handleCustomActionPress(event) {\n\t\tconst refItemId = event.target.getAttribute(\"data-ui5-external-action-item-id\");\n\n\t\tif (refItemId) {\n\t\t\tconst shellbarItem = this.items.find(item => {\n\t\t\t\treturn item.shadowRoot.querySelector(`#${refItemId}`);\n\t\t\t});\n\n\t\t\tconst prevented = !shellbarItem.fireEvent(\"itemClick\", { targetRef: event.target }, true);\n\n\t\t\tthis._defaultItemPressPrevented = prevented;\n\t\t}\n\t}\n\n\t_handleOverflowPress(event) {\n\t\tthis._toggleActionPopover();\n\t}\n\n\t_handleNotificationsPress(event) {\n\t\tthis.fireEvent(\"notificationsClick\", {\n\t\t\ttargetRef: this.shadowRoot.querySelector(\".ui5-shellbar-bell-button\"),\n\t\t});\n\t}\n\n\t_handleProfilePress(event) {\n\t\tthis.fireEvent(\"profileClick\", {\n\t\t\ttargetRef: this.shadowRoot.querySelector(\".ui5-shellbar-image-button\"),\n\t\t});\n\t}\n\n\t_handleProductSwitchPress(event) {\n\t\tconst buttonRef = this.shadowRoot.querySelector(\".ui5-shellbar-button-product-switch\");\n\n\t\tthis._defaultItemPressPrevented = !this.fireEvent(\"productSwitchClick\", {\n\t\t\ttargetRef: buttonRef.classList.contains(\"ui5-shellbar-hidden-button\") ? event.target : buttonRef,\n\t\t}, true);\n\t}\n\n\t/**\n\t * Returns all items that will be placed in the right of the bar as icons / dom elements.\n\t * @param {Boolean} showOverflowButton Determines if overflow button should be visible (not overflowing)\n\t */\n\t_getAllItems(showOverflowButton) {\n\t\tlet domOrder = -1;\n\n\t\tconst items = [\n\t\t\t{\n\t\t\t\ticon: \"search\",\n\t\t\t\ttext: \"Search\",\n\t\t\t\tclasses: `${this.searchField.length ? \"\" : \"ui5-shellbar-invisible-button\"} ui5-shellbar-search-button ui5-shellbar-button`,\n\t\t\t\tpriority: 4,\n\t\t\t\tdomOrder: this.searchField.length ? (++domOrder) : -1,\n\t\t\t\tstyle: `order: ${this.searchField.length ? 1 : -10}`,\n\t\t\t\tid: `${this._id}-item-${1}`,\n\t\t\t\tpress: this._handleSearchIconPress.bind(this),\n\t\t\t},\n\t\t\t...this.items.map((item, index) => {\n\t\t\t\treturn {\n\t\t\t\t\ticon: item.icon,\n\t\t\t\t\tid: item._id,\n\t\t\t\t\tcount: item.count || undefined,\n\t\t\t\t\trefItemid: item._id,\n\t\t\t\t\ttext: item.text,\n\t\t\t\t\tclasses: \"ui5-shellbar-custom-item ui5-shellbar-button\",\n\t\t\t\t\tpriority: 1,\n\t\t\t\t\tdomOrder: (++domOrder),\n\t\t\t\t\tstyle: `order: ${2}`,\n\t\t\t\t\tshow: true,\n\t\t\t\t\tpress: this._handleCustomActionPress.bind(this),\n\t\t\t\t\tcustom: true,\n\t\t\t\t};\n\t\t\t}),\n\t\t\t{\n\t\t\t\ticon: \"bell\",\n\t\t\t\ttext: \"Notifications\",\n\t\t\t\tclasses: `${this.showNotifications ? \"\" : \"ui5-shellbar-invisible-button\"} ui5-shellbar-bell-button ui5-shellbar-button`,\n\t\t\t\tpriority: 3,\n\t\t\t\tstyle: `order: ${this.showNotifications ? 3 : -10}`,\n\t\t\t\tid: `${this._id}-item-${2}`,\n\t\t\t\tshow: this.showNotifications,\n\t\t\t\tdomOrder: this.showNotifications ? (++domOrder) : -1,\n\t\t\t\tpress: this._handleNotificationsPress.bind(this),\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: \"overflow\",\n\t\t\t\ttext: \"Overflow\",\n\t\t\t\tclasses: `${showOverflowButton ? \"\" : \"ui5-shellbar-hidden-button\"} ui5-shellbar-overflow-button-shown ui5-shellbar-overflow-button ui5-shellbar-button`,\n\t\t\t\tpriority: 5,\n\t\t\t\torder: 4,\n\t\t\t\tstyle: `order: ${showOverflowButton ? 4 : -1}`,\n\t\t\t\tdomOrder: showOverflowButton ? (++domOrder) : -1,\n\t\t\t\tid: `${this.id}-item-${5}`,\n\t\t\t\tpress: this._handleOverflowPress.bind(this),\n\t\t\t\tshow: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: \"Person\",\n\t\t\t\tclasses: `${this.hasProfile ? \"\" : \"ui5-shellbar-invisible-button\"} ui5-shellbar-image-button ui5-shellbar-button`,\n\t\t\t\tpriority: 4,\n\t\t\t\tstyle: `order: ${this.hasProfile ? 5 : -10};`,\n\t\t\t\tprofile: true,\n\t\t\t\tid: `${this._id}-item-${3}`,\n\t\t\t\tdomOrder: this.hasProfile ? (++domOrder) : -1,\n\t\t\t\tshow: this.hasProfile,\n\t\t\t\tpress: this._handleProfilePress.bind(this),\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: \"grid\",\n\t\t\t\ttext: \"Product Switch\",\n\t\t\t\tclasses: `${this.showProductSwitch ? \"\" : \"ui5-shellbar-invisible-button\"} ui5-shellbar-button ui5-shellbar-button-product-switch`,\n\t\t\t\tpriority: 2,\n\t\t\t\tstyle: `order: ${this.showProductSwitch ? 6 : -10}`,\n\t\t\t\tid: `${this._id}-item-${4}`,\n\t\t\t\tshow: this.showProductSwitch,\n\t\t\t\tdomOrder: this.showProductSwitch ? (++domOrder) : -1,\n\t\t\t\tpress: this._handleProductSwitchPress.bind(this),\n\t\t\t},\n\t\t];\n\t\treturn items;\n\t}\n\n\t_updateItemsInfo(newItems) {\n\t\tconst isDifferent = JSON.stringify(this._itemsInfo) !== JSON.stringify(newItems);\n\t\tif (isDifferent) {\n\t\t\tthis._itemsInfo = newItems;\n\t\t}\n\t}\n\n\t_updateClonedMenuItems() {\n\t\tthis._menuPopoverItems = [];\n\n\t\tthis.menuItems.forEach(item => {\n\t\t\t// clone the menuItem and remove the slot=\"menuItems\",\n\t\t\t// otherwise would not be slotted in the internal ui5-li\n\t\t\tconst clonedItem = item.cloneNode(true);\n\t\t\tclonedItem.removeAttribute(\"slot\");\n\n\t\t\tthis._menuPopoverItems.push(clonedItem);\n\t\t});\n\t}\n\n\t_observeMenuItems() {\n\t\tthis.menuItems.forEach(item => {\n\t\t\tthis.menuItemsObserver.observe(item, {\n\t\t\t\tcharacterData: true,\n\t\t\t\tchildList: true,\n\t\t\t\tsubtree: true,\n\t\t\t\tattributes: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tasync _getResponsivePopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\tthis.overflowPopover = staticAreaItem.querySelector(\".ui5-shellbar-overflow-popover\");\n\t\tthis.menuPopover = staticAreaItem.querySelector(\".ui5-shellbar-menu-popover\");\n\t}\n\n\tasync _getMenuPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\treturn staticAreaItem.querySelector(\".ui5-shellbar-menu-popover\");\n\t}\n\n\tisIconHidden(name) {\n\t\tconst itemInfo = this._itemsInfo.find(item => item.icon === name);\n\n\t\tif (!itemInfo) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn itemInfo.classes.indexOf(\"ui5-shellbar-hidden-button\") !== -1;\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\twrapper: {\n\t\t\t\t\"ui5-shellbar-root\": true,\n\t\t\t\t\"ui5-shellbar-with-searchfield\": this.searchField.length,\n\t\t\t},\n\t\t\tbutton: {\n\t\t\t\t\"ui5-shellbar-menu-button--interactive\": !!this.menuItems.length,\n\t\t\t\t\"ui5-shellbar-menu-button\": true,\n\t\t\t},\n\t\t\titems: {\n\t\t\t\tnotification: {\n\t\t\t\t\t\"ui5-shellbar-hidden-button\": this.isIconHidden(\"bell\"),\n\t\t\t\t},\n\t\t\t\tproduct: {\n\t\t\t\t\t\"ui5-shellbar-hidden-button\": this.isIconHidden(\"grid\"),\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\t\"ui5-shellbar-hidden-button\": this.isIconHidden(\"search\"),\n\t\t\t\t},\n\t\t\t\toverflow: {\n\t\t\t\t\t\"ui5-shellbar-hidden-button\": this.isIconHidden(\"overflow\"),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\tsearchField: {\n\t\t\t\t[getRTL() ? \"left\" : \"right\"]: this._searchField.right,\n\t\t\t\t\"top\": `${parseInt(this._searchField.top)}px`,\n\t\t\t},\n\t\t\titems: {\n\t\t\t\tnotification: {\n\t\t\t\t\t\"order\": this.isIconHidden(\"bell\") ? \"-1\" : \"3\",\n\t\t\t\t},\n\t\t\t\toverflow: {\n\t\t\t\t\t\"order\": this.isIconHidden(\"overflow\") ? \"-1\" : \"4\",\n\t\t\t\t},\n\t\t\t\tprofile: {\n\t\t\t\t\t\"order\": this.hasProfile ? \"5\" : \"-1\",\n\t\t\t\t},\n\t\t\t\tproduct: {\n\t\t\t\t\t\"order\": this.isIconHidden(\"grid\") ? \"-1\" : \"6\",\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\n\tget customItemsInfo() {\n\t\treturn this._itemsInfo.filter(itemInfo => !!itemInfo.custom);\n\t}\n\n\tget interactiveLogo() {\n\t\treturn this.breakpointSize === \"S\";\n\t}\n\n\tget showArrowDown() {\n\t\treturn this.primaryTitle || (this.logo && this.interactiveLogo);\n\t}\n\n\tget popoverHorizontalAlign() {\n\t\treturn getRTL() ? \"Left\" : \"Right\";\n\t}\n\n\tget rtl() {\n\t\treturn getRTL() ? \"rtl\" : undefined;\n\t}\n\n\tget hasSearchField() {\n\t\treturn !!this.searchField.length;\n\t}\n\n\tget hasProfile() {\n\t\treturn !!this.profile.length;\n\t}\n\n\tget menuBtnTabindex() {\n\t\treturn this.menuItems.length > 0 ? \"0\" : \"-1\";\n\t}\n\n\tstatic async onDefine() {\n\t\tawait Promise.all([\n\t\t\tButton.define(),\n\t\t\tList.define(),\n\t\t\tPopover.define(),\n\t\t\tStandardListItem.define(),\n\t\t]);\n\t}\n}\n\nShellBar.define();\n\nexport default ShellBar;\n"]},"metadata":{},"sourceType":"module"}