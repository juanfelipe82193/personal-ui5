{"ast":null,"code":"import isNodeTabbable from \"./isNodeTabbable.js\";\n\nconst getTabbableElements = node => {\n  return getTabbables(node.children);\n};\n\nconst getLastTabbableElement = node => {\n  const tabbables = getTabbables(node.children);\n  return tabbables.length ? tabbables[tabbables.length - 1] : null;\n};\n\nconst getTabbables = (nodes, tabbables) => {\n  const tabbablesNodes = tabbables || [];\n  Array.from(nodes).forEach(currentNode => {\n    if (currentNode.nodeType === Node.TEXT_NODE) {\n      return;\n    }\n\n    if (currentNode.shadowRoot) {\n      // get the root node of the ShadowDom (1st none style tag)\n      const children = currentNode.shadowRoot.children;\n      currentNode = Array.from(children).find(node => node.tagName !== \"STYLE\");\n    }\n\n    if (isNodeTabbable(currentNode)) {\n      tabbablesNodes.push(currentNode);\n    }\n\n    if (currentNode.tagName === \"SLOT\") {\n      getTabbables(currentNode.assignedNodes(), tabbablesNodes);\n    } else {\n      getTabbables(currentNode.children, tabbablesNodes);\n    }\n  });\n  return tabbablesNodes;\n};\n\nexport { getTabbableElements, getLastTabbableElement };","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents-base/dist/util/TabbableElements.js"],"names":["isNodeTabbable","getTabbableElements","node","getTabbables","children","getLastTabbableElement","tabbables","length","nodes","tabbablesNodes","Array","from","forEach","currentNode","nodeType","Node","TEXT_NODE","shadowRoot","find","tagName","push","assignedNodes"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,qBAA3B;;AAEA,MAAMC,mBAAmB,GAAGC,IAAI,IAAI;AACnC,SAAOC,YAAY,CAACD,IAAI,CAACE,QAAN,CAAnB;AACA,CAFD;;AAIA,MAAMC,sBAAsB,GAAGH,IAAI,IAAI;AACtC,QAAMI,SAAS,GAAGH,YAAY,CAACD,IAAI,CAACE,QAAN,CAA9B;AACA,SAAOE,SAAS,CAACC,MAAV,GAAmBD,SAAS,CAACA,SAAS,CAACC,MAAV,GAAmB,CAApB,CAA5B,GAAqD,IAA5D;AACA,CAHD;;AAKA,MAAMJ,YAAY,GAAG,CAACK,KAAD,EAAQF,SAAR,KAAsB;AAC1C,QAAMG,cAAc,GAAGH,SAAS,IAAI,EAApC;AAEAI,EAAAA,KAAK,CAACC,IAAN,CAAWH,KAAX,EAAkBI,OAAlB,CAA0BC,WAAW,IAAI;AACxC,QAAIA,WAAW,CAACC,QAAZ,KAAyBC,IAAI,CAACC,SAAlC,EAA6C;AAC5C;AACA;;AAED,QAAIH,WAAW,CAACI,UAAhB,EAA4B;AAC3B;AACA,YAAMb,QAAQ,GAAGS,WAAW,CAACI,UAAZ,CAAuBb,QAAxC;AACAS,MAAAA,WAAW,GAAGH,KAAK,CAACC,IAAN,CAAWP,QAAX,EAAqBc,IAArB,CAA0BhB,IAAI,IAAIA,IAAI,CAACiB,OAAL,KAAiB,OAAnD,CAAd;AACA;;AAED,QAAInB,cAAc,CAACa,WAAD,CAAlB,EAAiC;AAChCJ,MAAAA,cAAc,CAACW,IAAf,CAAoBP,WAApB;AACA;;AAED,QAAIA,WAAW,CAACM,OAAZ,KAAwB,MAA5B,EAAoC;AACnChB,MAAAA,YAAY,CAACU,WAAW,CAACQ,aAAZ,EAAD,EAA8BZ,cAA9B,CAAZ;AACA,KAFD,MAEO;AACNN,MAAAA,YAAY,CAACU,WAAW,CAACT,QAAb,EAAuBK,cAAvB,CAAZ;AACA;AACD,GApBD;AAsBA,SAAOA,cAAP;AACA,CA1BD;;AA4BA,SACCR,mBADD,EAECI,sBAFD","sourcesContent":["import isNodeTabbable from \"./isNodeTabbable.js\";\n\nconst getTabbableElements = node => {\n\treturn getTabbables(node.children);\n};\n\nconst getLastTabbableElement = node => {\n\tconst tabbables = getTabbables(node.children);\n\treturn tabbables.length ? tabbables[tabbables.length - 1] : null;\n};\n\nconst getTabbables = (nodes, tabbables) => {\n\tconst tabbablesNodes = tabbables || [];\n\n\tArray.from(nodes).forEach(currentNode => {\n\t\tif (currentNode.nodeType === Node.TEXT_NODE) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentNode.shadowRoot) {\n\t\t\t// get the root node of the ShadowDom (1st none style tag)\n\t\t\tconst children = currentNode.shadowRoot.children;\n\t\t\tcurrentNode = Array.from(children).find(node => node.tagName !== \"STYLE\");\n\t\t}\n\n\t\tif (isNodeTabbable(currentNode)) {\n\t\t\ttabbablesNodes.push(currentNode);\n\t\t}\n\n\t\tif (currentNode.tagName === \"SLOT\") {\n\t\t\tgetTabbables(currentNode.assignedNodes(), tabbablesNodes);\n\t\t} else {\n\t\t\tgetTabbables(currentNode.children, tabbablesNodes);\n\t\t}\n\t});\n\n\treturn tabbablesNodes;\n};\n\nexport {\n\tgetTabbableElements,\n\tgetLastTabbableElement,\n};\n"]},"metadata":{},"sourceType":"module"}