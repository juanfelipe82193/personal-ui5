{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport { getFirstDayOfWeek } from \"@ui5/webcomponents-base/dist/config/FormatSettings.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport LocaleData from \"@ui5/webcomponents-localization/dist/LocaleData.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport { isSpace, isEnter } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport calculateWeekNumber from \"@ui5/webcomponents-localization/dist/dates/calculateWeekNumber.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport ItemNavigationBehavior from \"@ui5/webcomponents-base/dist/types/ItemNavigationBehavior.js\";\nimport DayPickerTemplate from \"./generated/templates/DayPickerTemplate.lit.js\"; // Styles\n\nimport dayPickerCSS from \"./generated/themes/DayPicker.css.js\";\n\nconst monthDiff = (startDate, endDate) => {\n  let months;\n\n  const _startDate = CalendarDate.fromTimestamp(startDate).toLocalJSDate(),\n        _endDate = CalendarDate.fromTimestamp(endDate).toLocalJSDate();\n\n  months = (_endDate.getFullYear() - _startDate.getFullYear()) * 12;\n  months -= _startDate.getMonth();\n  months += _endDate.getMonth();\n  return months;\n};\n/**\n * @public\n */\n\n\nconst metadata = {\n  tag: \"ui5-daypicker\",\n  properties:\n  /** @lends  sap.ui.webcomponents.main.DayPicker.prototype */\n  {\n    /**\n     * A UNIX timestamp - seconds since 00:00:00 UTC on Jan 1, 1970.\n     * @type {number}\n     * @public\n     */\n    timestamp: {\n      type: Integer\n    },\n\n    /**\n     * Sets a calendar type used for display.\n     * If not set, the calendar type of the global configuration is used.\n     * @type {CalendarType}\n     * @public\n     */\n    primaryCalendarType: {\n      type: CalendarType\n    },\n\n    /**\n     * Sets the selected dates as UTC timestamps.\n     * @type {Array}\n     * @public\n     */\n    selectedDates: {\n      type: Integer,\n      multiple: true\n    },\n\n    /**\n     * Determines the мinimum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    minDate: {\n      type: String\n    },\n\n    /**\n     * Determines the maximum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    maxDate: {\n      type: String\n    },\n    _weeks: {\n      type: Object,\n      multiple: true\n    },\n    _weekNumbers: {\n      type: Object,\n      multiple: true\n    },\n    _hidden: {\n      type: Boolean,\n      noAttribute: true\n    },\n\n    /**\n     * Determines the format, displayed in the input field.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    formatPattern: {\n      type: String\n    }\n  },\n  events:\n  /** @lends  sap.ui.webcomponents.main.DayPicker.prototype */\n  {\n    /**\n     * Fired when the user selects a new Date on the Web Component.\n     * @public\n     * @event\n     */\n    selectionChange: {},\n\n    /**\n     * Fired when month, year has changed due to item navigation.\n     * @public\n     * @event\n     */\n    navigate: {}\n  }\n};\nconst DEFAULT_MAX_YEAR = 9999;\nconst DEFAULT_MIN_YEAR = 1;\n/**\n * @class\n *\n * Represents one month view inside a calendar.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.DayPicker\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-daypicker\n * @public\n */\n\nclass DayPicker extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get template() {\n    return DayPickerTemplate;\n  }\n\n  static get styles() {\n    return dayPickerCSS;\n  }\n\n  constructor() {\n    super();\n    this._oLocale = getLocale();\n    this._oLocaleData = new LocaleData(this._oLocale);\n    this._itemNav = new ItemNavigation(this, {\n      rowSize: 7,\n      pageSize: 42,\n      behavior: ItemNavigationBehavior.Paging\n    });\n\n    this._itemNav.getItemsCallback = function getItemsCallback() {\n      return this.focusableDays;\n    }.bind(this);\n\n    this._itemNav.attachEvent(ItemNavigation.BORDER_REACH, this._handleItemNavigationBorderReach.bind(this));\n\n    this._itemNav.attachEvent(\"PageBottom\", this._handleMonthBottomOverflow.bind(this));\n\n    this._itemNav.attachEvent(\"PageTop\", this._handleMonthTopOverflow.bind(this));\n  }\n\n  onBeforeRendering() {\n    let oCalDate,\n        day,\n        timestamp,\n        lastWeekNumber = -1,\n        isDaySelected = false,\n        todayIndex = 0;\n\n    const _aVisibleDays = this._getVisibleDays(this._calendarDate);\n\n    this._weeks = [];\n    let week = [];\n    this._weekNumbers = [];\n    let weekday;\n\n    if (this.minDate) {\n      this._minDateObject = new Date(this._minDate);\n    }\n\n    if (this.maxDate) {\n      this._maxDateObject = new Date(this._maxDate);\n    }\n    /* eslint-disable no-loop-func */\n\n\n    for (let i = 0; i < _aVisibleDays.length; i++) {\n      oCalDate = _aVisibleDays[i];\n      timestamp = oCalDate.valueOf() / 1000; // no need to round because CalendarDate does it\n      // day of the week\n\n      weekday = oCalDate.getDay() - this._getFirstDayOfWeek();\n\n      if (weekday < 0) {\n        weekday += 7;\n      }\n\n      day = {\n        timestamp: timestamp.toString(),\n        selected: this._selectedDates.some(d => {\n          return d === timestamp;\n        }),\n        iDay: oCalDate.getDate(),\n        _index: i.toString(),\n        classes: `ui5-dp-item ui5-dp-wday${weekday}`\n      };\n      const weekNumber = calculateWeekNumber(getFirstDayOfWeek(), oCalDate.toUTCJSDate(), oCalDate.getYear(), this._oLocale, this._oLocaleData);\n\n      if (lastWeekNumber !== weekNumber) {\n        this._weekNumbers.push(weekNumber);\n\n        lastWeekNumber = weekNumber;\n      }\n\n      const isToday = oCalDate.isSame(CalendarDate.fromLocalJSDate(new Date(), this._primaryCalendarType));\n      week.push(day);\n\n      if (oCalDate.getDay() === this._getFirstDayOfWeek()) {\n        day.classes += \" ui5-dp-firstday\";\n      }\n\n      if (day.selected) {\n        day.classes += \" ui5-dp-item--selected\";\n        isDaySelected = true;\n      }\n\n      if (isToday) {\n        day.classes += \" ui5-dp-item--now\";\n        todayIndex = i;\n      }\n\n      if (oCalDate.getMonth() !== this._month) {\n        day.classes += \" ui5-dp-item--othermonth\";\n      }\n\n      day.id = `${this._id}-${timestamp}`;\n\n      if (this._isWeekend(oCalDate)) {\n        day.classes += \" ui5-dp-item--weeekend\";\n      }\n\n      if ((this.minDate || this.maxDate) && this._isOutOfSelectableRange(oCalDate)) {\n        day.classes += \" ui5-dp-item--disabled\";\n        day.disabled = true;\n      }\n\n      if (day.classes.indexOf(\"ui5-dp-wday6\") !== -1 || _aVisibleDays.length - 1 === i) {\n        this._weeks.push(week);\n\n        week = [];\n      }\n    }\n\n    while (this._weeks.length < 6) {\n      this._weeks.push([]);\n    }\n    /* eslint-enable no-loop-func */\n\n\n    if (!isDaySelected && todayIndex && this._itemNav.current === 0) {\n      this._itemNav.current = todayIndex;\n    }\n\n    const aDayNamesWide = this._oLocaleData.getDays(\"wide\", this._primaryCalendarType);\n\n    const aDayNamesAbbreviated = this._oLocaleData.getDays(\"abbreviated\", this._primaryCalendarType);\n\n    const aUltraShortNames = aDayNamesAbbreviated.map(n => n);\n    let dayName;\n    this._dayNames = [];\n\n    for (let i = 0; i < 7; i++) {\n      weekday = i + this._getFirstDayOfWeek();\n\n      if (weekday > 6) {\n        weekday -= 7;\n      }\n\n      dayName = {\n        id: `${this._id}-WH${i.toString()}`,\n        name: aDayNamesWide[weekday],\n        ultraShortName: aUltraShortNames[weekday],\n        classes: \"ui5-dp-dayname\"\n      };\n\n      this._dayNames.push(dayName);\n    }\n\n    this._dayNames[0].classes += \" ui5-dp-firstday\";\n  }\n\n  _onmousedown(event) {\n    const target = event.target;\n\n    const dayPressed = this._isDayPressed(target);\n\n    if (dayPressed) {\n      const targetDate = parseInt(target.getAttribute(\"data-sap-timestamp\")); // findIndex, give it to item navigation\n\n      for (let i = 0; i < this._weeks.length; i++) {\n        for (let j = 0; j < this._weeks[i].length; j++) {\n          if (parseInt(this._weeks[i][j].timestamp) === targetDate) {\n            let index = parseInt(target.getAttribute(\"data-sap-index\"));\n\n            if (this.minDate || this.maxDate) {\n              const focusableItem = this.focusableDays.find(item => parseInt(item._index) === index);\n              index = focusableItem ? this.focusableDays.indexOf(focusableItem) : index;\n            }\n\n            this._itemNav.current = index;\n\n            this._itemNav.update();\n\n            break;\n          }\n        }\n      }\n\n      this.targetDate = targetDate;\n    }\n  }\n\n  _onmouseup(event) {\n    const dayPressed = this._isDayPressed(event.target);\n\n    if (this.targetDate) {\n      this._modifySelectionAndNotifySubscribers(this.targetDate, event.ctrlKey);\n\n      this.targetDate = null;\n    }\n\n    if (!dayPressed) {\n      this._itemNav.focusCurrent();\n    }\n  }\n\n  _onkeydown(event) {\n    if (isEnter(event)) {\n      return this._handleEnter(event);\n    }\n\n    if (isSpace(event)) {\n      return this._handleSpace(event);\n    }\n  }\n\n  _handleEnter(event) {\n    event.preventDefault();\n\n    if (event.target.className.indexOf(\"ui5-dp-item\") > -1) {\n      const targetDate = parseInt(event.target.getAttribute(\"data-sap-timestamp\"));\n\n      this._modifySelectionAndNotifySubscribers(targetDate, event.ctrlKey);\n    }\n  }\n\n  _handleSpace(event) {\n    event.preventDefault();\n\n    if (event.target.className.indexOf(\"ui5-dp-item\") > -1) {\n      const targetDate = parseInt(event.target.getAttribute(\"data-sap-timestamp\"));\n\n      this._modifySelectionAndNotifySubscribers(targetDate, event.ctrlKey);\n    }\n  }\n\n  get showWeekNumbers() {\n    return this.primaryCalendarType === CalendarType.Gregorian;\n  }\n\n  get _timestamp() {\n    return this.timestamp !== undefined ? this.timestamp : Math.floor(new Date().getTime() / 1000);\n  }\n\n  get _localDate() {\n    return new Date(this._timestamp * 1000);\n  }\n\n  get _calendarDate() {\n    return CalendarDate.fromTimestamp(this._localDate.getTime(), this._primaryCalendarType);\n  }\n\n  get _formatPattern() {\n    return this.formatPattern || \"medium\"; // get from config\n  }\n\n  get _month() {\n    return this._calendarDate.getMonth();\n  }\n\n  get _year() {\n    return this._calendarDate.getYear();\n  }\n\n  get _currentCalendarDate() {\n    return CalendarDate.fromTimestamp(new Date().getTime(), this._primaryCalendarType);\n  }\n\n  get _selectedDates() {\n    return this.selectedDates || [];\n  }\n\n  get _primaryCalendarType() {\n    return this.primaryCalendarType || getCalendarType() || LocaleData.getInstance(getLocale()).getPreferredCalendarType();\n  }\n\n  get focusableDays() {\n    const focusableDays = [];\n\n    for (let i = 0; i < this._weeks.length; i++) {\n      const week = this._weeks[i].filter(x => !x.disabled);\n\n      focusableDays.push(week);\n    }\n\n    return [].concat(...focusableDays);\n  }\n\n  _modifySelectionAndNotifySubscribers(sNewDate, bAdd) {\n    if (bAdd) {\n      this.selectedDates = [...this._selectedDates, sNewDate];\n    } else {\n      this.selectedDates = [sNewDate];\n    }\n\n    this.fireEvent(\"selectionChange\", {\n      dates: [...this._selectedDates]\n    });\n  }\n\n  _handleMonthBottomOverflow(event) {\n    this._itemNav.hasNextPage = this._hasNextMonth();\n  }\n\n  _handleMonthTopOverflow(event) {\n    this._itemNav.hasPrevPage = this._hasPrevMonth();\n  }\n\n  _hasNextMonth() {\n    let newMonth = this._month + 1;\n    let newYear = this._year;\n\n    if (newMonth > 11) {\n      newMonth = 0;\n      newYear++;\n    }\n\n    if (newYear > DEFAULT_MAX_YEAR && newMonth === 0) {\n      return false;\n    }\n\n    if (!this.maxDate) {\n      return true;\n    }\n\n    const oNewDate = this._calendarDate;\n    oNewDate.setDate(oNewDate.getDate());\n    oNewDate.setYear(newYear);\n    oNewDate.setMonth(newMonth);\n    const monthsBetween = monthDiff(oNewDate.valueOf(), this._maxDate);\n\n    if (monthsBetween < 0) {\n      return false;\n    }\n\n    const lastFocusableDay = this.focusableDays[this.focusableDays.length - 1].iDay;\n\n    if (monthsBetween === 0 && CalendarDate.fromTimestamp(this._maxDate).toLocalJSDate().getDate() === lastFocusableDay) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _hasPrevMonth() {\n    let newMonth = this._month - 1;\n    let newYear = this._year;\n\n    if (newMonth < 0) {\n      newMonth = 11;\n      newYear--;\n    }\n\n    if (newYear < DEFAULT_MIN_YEAR && newMonth === 11) {\n      return false;\n    }\n\n    if (!this.minDate) {\n      return true;\n    }\n\n    const oNewDate = this._calendarDate;\n    oNewDate.setDate(oNewDate.getDate());\n    oNewDate.setYear(newYear);\n    oNewDate.setMonth(newMonth);\n    const monthsBetween = monthDiff(this._minDate, oNewDate.valueOf());\n\n    if (this.minDate && monthsBetween < 0) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _handleItemNavigationBorderReach(event) {\n    const currentMonth = this._month,\n          currentYear = this._year;\n    let newMonth, newYear, newDate, currentDate;\n\n    if (event.end) {\n      currentDate = new Date(this._weeks[this._weeks.length - 1][event.offset].timestamp * 1000);\n      newMonth = currentMonth < 11 ? currentMonth + 1 : 0;\n      newYear = currentMonth < 11 ? currentYear : currentYear + 1;\n      newDate = currentDate.getMonth() === newMonth ? currentDate.getDate() : currentDate.getDate() + 7;\n    } else if (event.start) {\n      currentDate = new Date(this._weeks[0][event.offset].timestamp * 1000);\n      newMonth = currentMonth > 0 ? currentMonth - 1 : 11;\n      newYear = currentMonth > 0 ? currentYear : currentYear - 1;\n      newDate = currentDate.getMonth() === newMonth ? currentDate.getDate() : currentDate.getDate() - 7;\n    }\n\n    const oNewDate = this._calendarDate;\n    oNewDate.setDate(newDate);\n    oNewDate.setYear(newYear);\n    oNewDate.setMonth(newMonth);\n\n    if (oNewDate.getYear() < DEFAULT_MIN_YEAR || oNewDate.getYear() > DEFAULT_MAX_YEAR) {\n      return;\n    }\n\n    if (this._isOutOfSelectableRange(oNewDate._oUDate.oDate)) {\n      return;\n    }\n\n    this.fireEvent(\"navigate\", {\n      timestamp: oNewDate.valueOf() / 1000\n    });\n  }\n\n  _isWeekend(oDate) {\n    const iWeekDay = oDate.getDay(),\n          iWeekendStart = this._oLocaleData.getWeekendStart(),\n          iWeekendEnd = this._oLocaleData.getWeekendEnd();\n\n    return iWeekDay >= iWeekendStart && iWeekDay <= iWeekendEnd || iWeekendEnd < iWeekendStart && (iWeekDay >= iWeekendStart || iWeekDay <= iWeekendEnd);\n  }\n\n  _isDayPressed(target) {\n    const targetParent = target.parentNode;\n    return target.className.indexOf(\"ui5-dp-item\") > -1 || targetParent && target.parentNode.classList.contains(\"ui5-dp-item\");\n  }\n\n  _isOutOfSelectableRange(date) {\n    const currentDate = date._oUDate ? date.toLocalJSDate() : CalendarDate.fromTimestamp(date).toLocalJSDate();\n    return currentDate > this._maxDateObject || currentDate < this._minDateObject;\n  }\n\n  get _maxDate() {\n    if (this.maxDate) {\n      const jsDate = new Date(this.getFormat().parse(this.maxDate).getFullYear(), this.getFormat().parse(this.maxDate).getMonth(), this.getFormat().parse(this.maxDate).getDate());\n      const oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n      return oCalDate.valueOf();\n    }\n\n    return this.maxDate;\n  }\n\n  get _minDate() {\n    if (this.minDate) {\n      const jsDate = new Date(this.getFormat().parse(this.minDate).getFullYear(), this.getFormat().parse(this.minDate).getMonth(), this.getFormat().parse(this.minDate).getDate());\n      const oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n      return oCalDate.valueOf();\n    }\n\n    return this.minDate;\n  }\n\n  getFormat() {\n    if (this._isPattern) {\n      this._oDateFormat = DateFormat.getInstance({\n        pattern: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    } else {\n      this._oDateFormat = DateFormat.getInstance({\n        style: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    }\n\n    return this._oDateFormat;\n  }\n\n  get _isPattern() {\n    return this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n  }\n\n  _getVisibleDays(oStartDate, bIncludeBCDates) {\n    let oCalDate, iDaysOldMonth, iYear;\n    const _aVisibleDays = []; // If date passed generate days for new start date else return the current one\n\n    if (!oStartDate) {\n      return _aVisibleDays;\n    }\n\n    const iFirstDayOfWeek = this._getFirstDayOfWeek(); // determine weekday of first day in month\n\n\n    const oFirstDay = new CalendarDate(oStartDate, this._primaryCalendarType);\n    oFirstDay.setDate(1);\n    iDaysOldMonth = oFirstDay.getDay() - iFirstDayOfWeek;\n\n    if (iDaysOldMonth < 0) {\n      iDaysOldMonth = 7 + iDaysOldMonth;\n    }\n\n    if (iDaysOldMonth > 0) {\n      // determine first day for display\n      oFirstDay.setDate(1 - iDaysOldMonth);\n    }\n\n    const oDay = new CalendarDate(oFirstDay);\n\n    for (let i = 0; i < 42; i++) {\n      iYear = oDay.getYear();\n      oCalDate = new CalendarDate(oDay, this._primaryCalendarType);\n\n      if (bIncludeBCDates && iYear < DEFAULT_MIN_YEAR) {\n        // For dates before 0001-01-01 we should render only empty squares to keep\n        // the month square matrix correct.\n        oCalDate._bBeforeFirstYear = true;\n\n        _aVisibleDays.push(oCalDate);\n      } else if (iYear >= DEFAULT_MIN_YEAR && iYear <= DEFAULT_MAX_YEAR) {\n        // Days before 0001-01-01 or after 9999-12-31 should not be rendered.\n        _aVisibleDays.push(oCalDate);\n      }\n\n      oDay.setDate(oDay.getDate() + 1);\n    }\n\n    return _aVisibleDays;\n  }\n\n  _getFirstDayOfWeek() {\n    const confFirstDayOfWeek = getFirstDayOfWeek();\n    return Number.isInteger(confFirstDayOfWeek) ? confFirstDayOfWeek : this._oLocaleData.getFirstDayOfWeek();\n  }\n\n  get styles() {\n    return {\n      wrapper: {\n        display: this._hidden ? \"none\" : \"flex\"\n      },\n      main: {\n        width: \"100%\"\n      }\n    };\n  }\n\n  static async onDefine() {\n    await Promise.all([fetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript())]);\n  }\n\n}\n\nDayPicker.define();\nexport default DayPicker;","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents/dist/DayPicker.js"],"names":["UI5Element","litRender","fetchCldr","getLocale","getFirstDayOfWeek","DateFormat","LocaleData","getCalendarType","ItemNavigation","isSpace","isEnter","Integer","CalendarDate","calculateWeekNumber","CalendarType","ItemNavigationBehavior","DayPickerTemplate","dayPickerCSS","monthDiff","startDate","endDate","months","_startDate","fromTimestamp","toLocalJSDate","_endDate","getFullYear","getMonth","metadata","tag","properties","timestamp","type","primaryCalendarType","selectedDates","multiple","minDate","String","maxDate","_weeks","Object","_weekNumbers","_hidden","Boolean","noAttribute","formatPattern","events","selectionChange","navigate","DEFAULT_MAX_YEAR","DEFAULT_MIN_YEAR","DayPicker","render","template","styles","constructor","_oLocale","_oLocaleData","_itemNav","rowSize","pageSize","behavior","Paging","getItemsCallback","focusableDays","bind","attachEvent","BORDER_REACH","_handleItemNavigationBorderReach","_handleMonthBottomOverflow","_handleMonthTopOverflow","onBeforeRendering","oCalDate","day","lastWeekNumber","isDaySelected","todayIndex","_aVisibleDays","_getVisibleDays","_calendarDate","week","weekday","_minDateObject","Date","_minDate","_maxDateObject","_maxDate","i","length","valueOf","getDay","_getFirstDayOfWeek","toString","selected","_selectedDates","some","d","iDay","getDate","_index","classes","weekNumber","toUTCJSDate","getYear","push","isToday","isSame","fromLocalJSDate","_primaryCalendarType","_month","id","_id","_isWeekend","_isOutOfSelectableRange","disabled","indexOf","current","aDayNamesWide","getDays","aDayNamesAbbreviated","aUltraShortNames","map","n","dayName","_dayNames","name","ultraShortName","_onmousedown","event","target","dayPressed","_isDayPressed","targetDate","parseInt","getAttribute","j","index","focusableItem","find","item","update","_onmouseup","_modifySelectionAndNotifySubscribers","ctrlKey","focusCurrent","_onkeydown","_handleEnter","_handleSpace","preventDefault","className","showWeekNumbers","Gregorian","_timestamp","undefined","Math","floor","getTime","_localDate","_formatPattern","_year","_currentCalendarDate","getInstance","getPreferredCalendarType","filter","x","concat","sNewDate","bAdd","fireEvent","dates","hasNextPage","_hasNextMonth","hasPrevPage","_hasPrevMonth","newMonth","newYear","oNewDate","setDate","setYear","setMonth","monthsBetween","lastFocusableDay","currentMonth","currentYear","newDate","currentDate","end","offset","start","_oUDate","oDate","iWeekDay","iWeekendStart","getWeekendStart","iWeekendEnd","getWeekendEnd","targetParent","parentNode","classList","contains","date","jsDate","getFormat","parse","_isPattern","_oDateFormat","pattern","calendarType","style","oStartDate","bIncludeBCDates","iDaysOldMonth","iYear","iFirstDayOfWeek","oFirstDay","oDay","_bBeforeFirstYear","confFirstDayOfWeek","Number","isInteger","wrapper","display","main","width","onDefine","Promise","all","getLanguage","getRegion","getScript","define"],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport { getFirstDayOfWeek } from \"@ui5/webcomponents-base/dist/config/FormatSettings.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport LocaleData from \"@ui5/webcomponents-localization/dist/LocaleData.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport { isSpace, isEnter } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport calculateWeekNumber from \"@ui5/webcomponents-localization/dist/dates/calculateWeekNumber.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport ItemNavigationBehavior from \"@ui5/webcomponents-base/dist/types/ItemNavigationBehavior.js\";\nimport DayPickerTemplate from \"./generated/templates/DayPickerTemplate.lit.js\";\n\n// Styles\nimport dayPickerCSS from \"./generated/themes/DayPicker.css.js\";\n\nconst monthDiff = (startDate, endDate) => {\n\tlet months;\n\tconst _startDate = CalendarDate.fromTimestamp(startDate).toLocalJSDate(),\n\t\t_endDate = CalendarDate.fromTimestamp(endDate).toLocalJSDate();\n\n\tmonths = (_endDate.getFullYear() - _startDate.getFullYear()) * 12;\n\tmonths -= _startDate.getMonth();\n\tmonths += _endDate.getMonth();\n\treturn months;\n};\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-daypicker\",\n\tproperties: /** @lends  sap.ui.webcomponents.main.DayPicker.prototype */ {\n\t\t/**\n\t\t * A UNIX timestamp - seconds since 00:00:00 UTC on Jan 1, 1970.\n\t\t * @type {number}\n\t\t * @public\n\t\t */\n\t\ttimestamp: {\n\t\t\ttype: Integer,\n\t\t},\n\n\t\t/**\n\t\t * Sets a calendar type used for display.\n\t\t * If not set, the calendar type of the global configuration is used.\n\t\t * @type {CalendarType}\n\t\t * @public\n\t\t */\n\t\tprimaryCalendarType: {\n\t\t\ttype: CalendarType,\n\t\t},\n\n\t\t/**\n\t\t * Sets the selected dates as UTC timestamps.\n\t\t * @type {Array}\n\t\t * @public\n\t\t */\n\t\tselectedDates: {\n\t\t\ttype: Integer,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t/**\n\t\t * Determines the мinimum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tminDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines the maximum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tmaxDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t_weeks: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t_weekNumbers: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\t\t_hidden: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\t\t/**\n\t\t * Determines the format, displayed in the input field.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tformatPattern: {\n\t\t\ttype: String,\n\t\t},\n\t},\n\tevents: /** @lends  sap.ui.webcomponents.main.DayPicker.prototype */ {\n\t\t/**\n\t\t * Fired when the user selects a new Date on the Web Component.\n\t\t * @public\n\t\t * @event\n\t\t */\n\t\tselectionChange: {},\n\t\t/**\n\t\t * Fired when month, year has changed due to item navigation.\n\t\t * @public\n\t\t * @event\n\t\t */\n\t\tnavigate: {},\n\t},\n};\n\nconst DEFAULT_MAX_YEAR = 9999;\nconst DEFAULT_MIN_YEAR = 1;\n\n/**\n * @class\n *\n * Represents one month view inside a calendar.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.DayPicker\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-daypicker\n * @public\n */\nclass DayPicker extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn DayPickerTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn dayPickerCSS;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._oLocale = getLocale();\n\t\tthis._oLocaleData = new LocaleData(this._oLocale);\n\n\t\tthis._itemNav = new ItemNavigation(this, {\n\t\t\trowSize: 7,\n\t\t\tpageSize: 42,\n\t\t\tbehavior: ItemNavigationBehavior.Paging,\n\t\t});\n\n\t\tthis._itemNav.getItemsCallback = function getItemsCallback() {\n\t\t\treturn this.focusableDays;\n\t\t}.bind(this);\n\n\t\tthis._itemNav.attachEvent(\n\t\t\tItemNavigation.BORDER_REACH,\n\t\t\tthis._handleItemNavigationBorderReach.bind(this)\n\t\t);\n\n\t\tthis._itemNav.attachEvent(\n\t\t\t\"PageBottom\",\n\t\t\tthis._handleMonthBottomOverflow.bind(this)\n\t\t);\n\n\t\tthis._itemNav.attachEvent(\n\t\t\t\"PageTop\",\n\t\t\tthis._handleMonthTopOverflow.bind(this)\n\t\t);\n\t}\n\n\tonBeforeRendering() {\n\t\tlet oCalDate,\n\t\t\tday,\n\t\t\ttimestamp,\n\t\t\tlastWeekNumber = -1,\n\t\t\tisDaySelected = false,\n\t\t\ttodayIndex = 0;\n\t\tconst _aVisibleDays = this._getVisibleDays(this._calendarDate);\n\t\tthis._weeks = [];\n\t\tlet week = [];\n\t\tthis._weekNumbers = [];\n\t\tlet weekday;\n\t\tif (this.minDate) {\n\t\t\tthis._minDateObject = new Date(this._minDate);\n\t\t}\n\n\t\tif (this.maxDate) {\n\t\t\tthis._maxDateObject = new Date(this._maxDate);\n\t\t}\n\t\t/* eslint-disable no-loop-func */\n\t\tfor (let i = 0; i < _aVisibleDays.length; i++) {\n\t\t\toCalDate = _aVisibleDays[i];\n\t\t\ttimestamp = oCalDate.valueOf() / 1000; // no need to round because CalendarDate does it\n\n\t\t\t// day of the week\n\t\t\tweekday = oCalDate.getDay() - this._getFirstDayOfWeek();\n\t\t\tif (weekday < 0) {\n\t\t\t\tweekday += 7;\n\t\t\t}\n\t\t\tday = {\n\t\t\t\ttimestamp: timestamp.toString(),\n\t\t\t\tselected: this._selectedDates.some(d => {\n\t\t\t\t\treturn d === timestamp;\n\t\t\t\t}),\n\t\t\t\tiDay: oCalDate.getDate(),\n\t\t\t\t_index: i.toString(),\n\t\t\t\tclasses: `ui5-dp-item ui5-dp-wday${weekday}`,\n\t\t\t};\n\n\t\t\tconst weekNumber = calculateWeekNumber(getFirstDayOfWeek(), oCalDate.toUTCJSDate(), oCalDate.getYear(), this._oLocale, this._oLocaleData);\n\n\t\t\tif (lastWeekNumber !== weekNumber) {\n\t\t\t\tthis._weekNumbers.push(weekNumber);\n\n\t\t\t\tlastWeekNumber = weekNumber;\n\t\t\t}\n\n\t\t\tconst isToday = oCalDate.isSame(CalendarDate.fromLocalJSDate(new Date(), this._primaryCalendarType));\n\n\t\t\tweek.push(day);\n\n\t\t\tif (oCalDate.getDay() === this._getFirstDayOfWeek()) {\n\t\t\t\tday.classes += \" ui5-dp-firstday\";\n\t\t\t}\n\n\t\t\tif (day.selected) {\n\t\t\t\tday.classes += \" ui5-dp-item--selected\";\n\t\t\t\tisDaySelected = true;\n\t\t\t}\n\n\t\t\tif (isToday) {\n\t\t\t\tday.classes += \" ui5-dp-item--now\";\n\t\t\t\ttodayIndex = i;\n\t\t\t}\n\n\t\t\tif (oCalDate.getMonth() !== this._month) {\n\t\t\t\tday.classes += \" ui5-dp-item--othermonth\";\n\t\t\t}\n\n\t\t\tday.id = `${this._id}-${timestamp}`;\n\n\t\t\tif (this._isWeekend(oCalDate)) {\n\t\t\t\tday.classes += \" ui5-dp-item--weeekend\";\n\t\t\t}\n\t\t\tif ((this.minDate || this.maxDate) && this._isOutOfSelectableRange(oCalDate)) {\n\t\t\t\tday.classes += \" ui5-dp-item--disabled\";\n\t\t\t\tday.disabled = true;\n\t\t\t}\n\n\t\t\tif (day.classes.indexOf(\"ui5-dp-wday6\") !== -1\n\t\t\t\t|| _aVisibleDays.length - 1 === i) {\n\t\t\t\tthis._weeks.push(week);\n\t\t\t\tweek = [];\n\t\t\t}\n\t\t}\n\t\twhile (this._weeks.length < 6) {\n\t\t\tthis._weeks.push([]);\n\t\t}\n\t\t/* eslint-enable no-loop-func */\n\n\t\tif (!isDaySelected && todayIndex && this._itemNav.current === 0) {\n\t\t\tthis._itemNav.current = todayIndex;\n\t\t}\n\n\t\tconst aDayNamesWide = this._oLocaleData.getDays(\"wide\", this._primaryCalendarType);\n\t\tconst aDayNamesAbbreviated = this._oLocaleData.getDays(\"abbreviated\", this._primaryCalendarType);\n\t\tconst aUltraShortNames = aDayNamesAbbreviated.map(n => n);\n\t\tlet dayName;\n\n\t\tthis._dayNames = [];\n\t\tfor (let i = 0; i < 7; i++) {\n\t\t\tweekday = i + this._getFirstDayOfWeek();\n\t\t\tif (weekday > 6) {\n\t\t\t\tweekday -= 7;\n\t\t\t}\n\t\t\tdayName = {\n\t\t\t\tid: `${this._id}-WH${i.toString()}`,\n\t\t\t\tname: aDayNamesWide[weekday],\n\t\t\t\tultraShortName: aUltraShortNames[weekday],\n\t\t\t\tclasses: \"ui5-dp-dayname\",\n\t\t\t};\n\n\t\t\tthis._dayNames.push(dayName);\n\t\t}\n\n\t\tthis._dayNames[0].classes += \" ui5-dp-firstday\";\n\t}\n\n\t_onmousedown(event) {\n\t\tconst target = event.target;\n\t\tconst dayPressed = this._isDayPressed(target);\n\n\t\tif (dayPressed) {\n\t\t\tconst targetDate = parseInt(target.getAttribute(\"data-sap-timestamp\"));\n\n\t\t\t// findIndex, give it to item navigation\n\t\t\tfor (let i = 0; i < this._weeks.length; i++) {\n\t\t\t\tfor (let j = 0; j < this._weeks[i].length; j++) {\n\t\t\t\t\tif (parseInt(this._weeks[i][j].timestamp) === targetDate) {\n\t\t\t\t\t\tlet index = parseInt(target.getAttribute(\"data-sap-index\"));\n\t\t\t\t\t\tif (this.minDate || this.maxDate) {\n\t\t\t\t\t\t\tconst focusableItem = this.focusableDays.find(item => parseInt(item._index) === index);\n\t\t\t\t\t\t\tindex = focusableItem ? this.focusableDays.indexOf(focusableItem) : index;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._itemNav.current = index;\n\t\t\t\t\t\tthis._itemNav.update();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.targetDate = targetDate;\n\t\t}\n\t}\n\n\t_onmouseup(event) {\n\t\tconst dayPressed = this._isDayPressed(event.target);\n\t\tif (this.targetDate) {\n\t\t\tthis._modifySelectionAndNotifySubscribers(this.targetDate, event.ctrlKey);\n\t\t\tthis.targetDate = null;\n\t\t}\n\n\t\tif (!dayPressed) {\n\t\t\tthis._itemNav.focusCurrent();\n\t\t}\n\t}\n\n\t_onkeydown(event) {\n\t\tif (isEnter(event)) {\n\t\t\treturn this._handleEnter(event);\n\t\t}\n\n\t\tif (isSpace(event)) {\n\t\t\treturn this._handleSpace(event);\n\t\t}\n\t}\n\n\t_handleEnter(event) {\n\t\tevent.preventDefault();\n\t\tif (event.target.className.indexOf(\"ui5-dp-item\") > -1) {\n\t\t\tconst targetDate = parseInt(event.target.getAttribute(\"data-sap-timestamp\"));\n\t\t\tthis._modifySelectionAndNotifySubscribers(targetDate, event.ctrlKey);\n\t\t}\n\t}\n\n\t_handleSpace(event) {\n\t\tevent.preventDefault();\n\t\tif (event.target.className.indexOf(\"ui5-dp-item\") > -1) {\n\t\t\tconst targetDate = parseInt(event.target.getAttribute(\"data-sap-timestamp\"));\n\t\t\tthis._modifySelectionAndNotifySubscribers(targetDate, event.ctrlKey);\n\t\t}\n\t}\n\n\tget showWeekNumbers() {\n\t\treturn this.primaryCalendarType === CalendarType.Gregorian;\n\t}\n\n\tget _timestamp() {\n\t\treturn this.timestamp !== undefined ? this.timestamp : Math.floor(new Date().getTime() / 1000);\n\t}\n\n\tget _localDate() {\n\t\treturn new Date(this._timestamp * 1000);\n\t}\n\n\tget _calendarDate() {\n\t\treturn CalendarDate.fromTimestamp(this._localDate.getTime(), this._primaryCalendarType);\n\t}\n\n\tget _formatPattern() {\n\t\treturn this.formatPattern || \"medium\"; // get from config\n\t}\n\n\tget _month() {\n\t\treturn this._calendarDate.getMonth();\n\t}\n\n\tget _year() {\n\t\treturn this._calendarDate.getYear();\n\t}\n\n\tget _currentCalendarDate() {\n\t\treturn CalendarDate.fromTimestamp(new Date().getTime(), this._primaryCalendarType);\n\t}\n\n\tget _selectedDates() {\n\t\treturn this.selectedDates || [];\n\t}\n\n\tget _primaryCalendarType() {\n\t\treturn this.primaryCalendarType || getCalendarType() || LocaleData.getInstance(getLocale()).getPreferredCalendarType();\n\t}\n\n\tget focusableDays() {\n\t\tconst focusableDays = [];\n\n\t\tfor (let i = 0; i < this._weeks.length; i++) {\n\t\t\tconst week = this._weeks[i].filter(x => !x.disabled);\n\t\t\tfocusableDays.push(week);\n\t\t}\n\n\t\treturn [].concat(...focusableDays);\n\t}\n\n\t_modifySelectionAndNotifySubscribers(sNewDate, bAdd) {\n\t\tif (bAdd) {\n\t\t\tthis.selectedDates = [...this._selectedDates, sNewDate];\n\t\t} else {\n\t\t\tthis.selectedDates = [sNewDate];\n\t\t}\n\n\t\tthis.fireEvent(\"selectionChange\", { dates: [...this._selectedDates] });\n\t}\n\n\t_handleMonthBottomOverflow(event) {\n\t\tthis._itemNav.hasNextPage = this._hasNextMonth();\n\t}\n\n\t_handleMonthTopOverflow(event) {\n\t\tthis._itemNav.hasPrevPage = this._hasPrevMonth();\n\t}\n\n\t_hasNextMonth() {\n\t\tlet newMonth = this._month + 1;\n\t\tlet newYear = this._year;\n\n\t\tif (newMonth > 11) {\n\t\t\tnewMonth = 0;\n\t\t\tnewYear++;\n\t\t}\n\n\t\tif (newYear > DEFAULT_MAX_YEAR && newMonth === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.maxDate) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst oNewDate = this._calendarDate;\n\t\toNewDate.setDate(oNewDate.getDate());\n\t\toNewDate.setYear(newYear);\n\t\toNewDate.setMonth(newMonth);\n\n\t\tconst monthsBetween = monthDiff(oNewDate.valueOf(), this._maxDate);\n\t\tif (monthsBetween < 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst lastFocusableDay = this.focusableDays[this.focusableDays.length - 1].iDay;\n\t\tif (monthsBetween === 0 && CalendarDate.fromTimestamp(this._maxDate).toLocalJSDate().getDate() === lastFocusableDay) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t_hasPrevMonth() {\n\t\tlet newMonth = this._month - 1;\n\t\tlet newYear = this._year;\n\n\t\tif (newMonth < 0) {\n\t\t\tnewMonth = 11;\n\t\t\tnewYear--;\n\t\t}\n\n\t\tif (newYear < DEFAULT_MIN_YEAR && newMonth === 11) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.minDate) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst oNewDate = this._calendarDate;\n\t\toNewDate.setDate(oNewDate.getDate());\n\t\toNewDate.setYear(newYear);\n\t\toNewDate.setMonth(newMonth);\n\n\t\tconst monthsBetween = monthDiff(this._minDate, oNewDate.valueOf());\n\t\tif (this.minDate && monthsBetween < 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t_handleItemNavigationBorderReach(event) {\n\t\tconst currentMonth = this._month,\n\t\t\tcurrentYear = this._year;\n\t\tlet newMonth,\n\t\t\tnewYear,\n\t\t\tnewDate,\n\t\t\tcurrentDate;\n\n\t\tif (event.end) {\n\t\t\tcurrentDate = new Date(this._weeks[this._weeks.length - 1][event.offset].timestamp * 1000);\n\t\t\tnewMonth = currentMonth < 11 ? currentMonth + 1 : 0;\n\t\t\tnewYear = currentMonth < 11 ? currentYear : currentYear + 1;\n\t\t\tnewDate = currentDate.getMonth() === newMonth ? currentDate.getDate() : currentDate.getDate() + 7;\n\t\t} else if (event.start) {\n\t\t\tcurrentDate = new Date(this._weeks[0][event.offset].timestamp * 1000);\n\t\t\tnewMonth = currentMonth > 0 ? currentMonth - 1 : 11;\n\t\t\tnewYear = currentMonth > 0 ? currentYear : currentYear - 1;\n\t\t\tnewDate = currentDate.getMonth() === newMonth ? currentDate.getDate() : currentDate.getDate() - 7;\n\t\t}\n\n\t\tconst oNewDate = this._calendarDate;\n\t\toNewDate.setDate(newDate);\n\t\toNewDate.setYear(newYear);\n\t\toNewDate.setMonth(newMonth);\n\n\t\tif (oNewDate.getYear() < DEFAULT_MIN_YEAR || oNewDate.getYear() > DEFAULT_MAX_YEAR) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._isOutOfSelectableRange(oNewDate._oUDate.oDate)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.fireEvent(\"navigate\", { timestamp: (oNewDate.valueOf() / 1000) });\n\t}\n\n\t_isWeekend(oDate) {\n\t\tconst iWeekDay = oDate.getDay(),\n\t\t\tiWeekendStart = this._oLocaleData.getWeekendStart(),\n\t\t\tiWeekendEnd = this._oLocaleData.getWeekendEnd();\n\n\t\treturn (iWeekDay >= iWeekendStart && iWeekDay <= iWeekendEnd)\n\t\t\t|| (iWeekendEnd < iWeekendStart && (iWeekDay >= iWeekendStart || iWeekDay <= iWeekendEnd));\n\t}\n\n\t_isDayPressed(target) {\n\t\tconst targetParent = target.parentNode;\n\t\treturn (target.className.indexOf(\"ui5-dp-item\") > -1) || (targetParent && target.parentNode.classList.contains(\"ui5-dp-item\"));\n\t}\n\n\t_isOutOfSelectableRange(date) {\n\t\tconst currentDate = date._oUDate ? date.toLocalJSDate() : CalendarDate.fromTimestamp(date).toLocalJSDate();\n\n\t\treturn currentDate > this._maxDateObject || currentDate < this._minDateObject;\n\t}\n\n\tget _maxDate() {\n\t\tif (this.maxDate) {\n\t\t\tconst jsDate = new Date(this.getFormat().parse(this.maxDate).getFullYear(), this.getFormat().parse(this.maxDate).getMonth(), this.getFormat().parse(this.maxDate).getDate());\n\t\t\tconst oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n\t\t\treturn oCalDate.valueOf();\n\t\t}\n\t\treturn this.maxDate;\n\t}\n\n\tget _minDate() {\n\t\tif (this.minDate) {\n\t\t\tconst jsDate = new Date(this.getFormat().parse(this.minDate).getFullYear(), this.getFormat().parse(this.minDate).getMonth(), this.getFormat().parse(this.minDate).getDate());\n\t\t\tconst oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n\t\t\treturn oCalDate.valueOf();\n\t\t}\n\t\treturn this.minDate;\n\t}\n\n\tgetFormat() {\n\t\tif (this._isPattern) {\n\t\t\tthis._oDateFormat = DateFormat.getInstance({\n\t\t\t\tpattern: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t} else {\n\t\t\tthis._oDateFormat = DateFormat.getInstance({\n\t\t\t\tstyle: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t}\n\t\treturn this._oDateFormat;\n\t}\n\n\tget _isPattern() {\n\t\treturn this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n\t}\n\n\t_getVisibleDays(oStartDate, bIncludeBCDates) {\n\t\tlet oCalDate,\n\t\t\tiDaysOldMonth,\n\t\t\tiYear;\n\n\t\tconst _aVisibleDays = [];\n\n\t\t// If date passed generate days for new start date else return the current one\n\t\tif (!oStartDate) {\n\t\t\treturn _aVisibleDays;\n\t\t}\n\n\t\tconst iFirstDayOfWeek = this._getFirstDayOfWeek();\n\n\t\t// determine weekday of first day in month\n\t\tconst oFirstDay = new CalendarDate(oStartDate, this._primaryCalendarType);\n\t\toFirstDay.setDate(1);\n\t\tiDaysOldMonth = oFirstDay.getDay() - iFirstDayOfWeek;\n\t\tif (iDaysOldMonth < 0) {\n\t\t\tiDaysOldMonth = 7 + iDaysOldMonth;\n\t\t}\n\n\t\tif (iDaysOldMonth > 0) {\n\t\t\t// determine first day for display\n\t\t\toFirstDay.setDate(1 - iDaysOldMonth);\n\t\t}\n\n\t\tconst oDay = new CalendarDate(oFirstDay);\n\t\tfor (let i = 0; i < 42; i++) {\n\t\t\tiYear = oDay.getYear();\n\t\t\toCalDate = new CalendarDate(oDay, this._primaryCalendarType);\n\t\t\tif (bIncludeBCDates && iYear < DEFAULT_MIN_YEAR) {\n\t\t\t\t// For dates before 0001-01-01 we should render only empty squares to keep\n\t\t\t\t// the month square matrix correct.\n\t\t\t\toCalDate._bBeforeFirstYear = true;\n\t\t\t\t_aVisibleDays.push(oCalDate);\n\t\t\t} else if (iYear >= DEFAULT_MIN_YEAR && iYear <= DEFAULT_MAX_YEAR) {\n\t\t\t\t// Days before 0001-01-01 or after 9999-12-31 should not be rendered.\n\t\t\t\t_aVisibleDays.push(oCalDate);\n\t\t\t}\n\t\t\toDay.setDate(oDay.getDate() + 1);\n\t\t}\n\n\t\treturn _aVisibleDays;\n\t}\n\n\t_getFirstDayOfWeek() {\n\t\tconst confFirstDayOfWeek = getFirstDayOfWeek();\n\t\treturn Number.isInteger(confFirstDayOfWeek) ? confFirstDayOfWeek : this._oLocaleData.getFirstDayOfWeek();\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\twrapper: {\n\t\t\t\tdisplay: this._hidden ? \"none\" : \"flex\",\n\t\t\t},\n\t\t\tmain: {\n\t\t\t\twidth: \"100%\",\n\t\t\t},\n\t\t};\n\t}\n\n\tstatic async onDefine() {\n\t\tawait Promise.all([\n\t\t\tfetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()),\n\t\t]);\n\t}\n}\n\nDayPicker.define();\n\nexport default DayPicker;\n"]},"metadata":{},"sourceType":"module"}