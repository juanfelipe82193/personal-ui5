{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport LocaleData from \"@ui5/webcomponents-localization/dist/LocaleData.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { isSpace, isEnter } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport ItemNavigationBehavior from \"@ui5/webcomponents-base/dist/types/ItemNavigationBehavior.js\";\nimport MonthPickerTemplate from \"./generated/templates/MonthPickerTemplate.lit.js\"; // Styles\n\nimport styles from \"./generated/themes/MonthPicker.css.js\";\n/**\n * @public\n */\n\nconst metadata = {\n  tag: \"ui5-monthpicker\",\n  properties:\n  /** @lends  sap.ui.webcomponents.main.MonthPicker.prototype */\n  {\n    /**\n     * A UNIX timestamp - seconds since 00:00:00 UTC on Jan 1, 1970.\n     * @type {Integer}\n     * @public\n     */\n    timestamp: {\n      type: Integer\n    },\n\n    /**\n     * Sets a calendar type used for display.\n     * If not set, the calendar type of the global configuration is used.\n     * @type {CalendarType}\n     * @public\n     */\n    primaryCalendarType: {\n      type: CalendarType\n    },\n\n    /**\n     * Determines the Ð¼inimum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    minDate: {\n      type: String\n    },\n\n    /**\n     * Determines the maximum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    maxDate: {\n      type: String\n    },\n    _quarters: {\n      type: Object,\n      multiple: true\n    },\n    _hidden: {\n      type: Boolean,\n      noAttribute: true\n    },\n\n    /**\n     * Determines the format, displayed in the input field.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    formatPattern: {\n      type: String\n    }\n  },\n  events:\n  /** @lends  sap.ui.webcomponents.main.MonthPicker.prototype */\n  {\n    /**\n     * Fired when the user selects a new Date on the Web Component.\n     * @public\n     * @event\n     */\n    selectedMonthChange: {}\n  }\n};\n/**\n * Month picker component.\n *\n * @class\n *\n * Displays months which can be selected.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MonthPicker\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-monthpicker\n * @public\n */\n\nclass MonthPicker extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get template() {\n    return MonthPickerTemplate;\n  }\n\n  static get styles() {\n    return styles;\n  }\n\n  constructor() {\n    super();\n    this._oLocale = getLocale();\n    this._oLocaleData = new LocaleData(this._oLocale);\n    this._itemNav = new ItemNavigation(this, {\n      rowSize: 3,\n      behavior: ItemNavigationBehavior.Cyclic\n    });\n\n    this._itemNav.getItemsCallback = function getItemsCallback() {\n      const focusableMonths = [];\n\n      for (let i = 0; i < this._quarters.length; i++) {\n        const quarter = this._quarters[i].filter(x => !x.disabled);\n\n        focusableMonths.push(quarter);\n      }\n\n      return [].concat(...focusableMonths);\n    }.bind(this);\n\n    this._itemNav.setItemsCallback = function setItemsCallback(items) {\n      this._quarters = items;\n    }.bind(this);\n  }\n\n  onBeforeRendering() {\n    const quarters = [];\n    const oCalDate = CalendarDate.fromTimestamp(new Date().getTime(), this._primaryCalendarType);\n    let timestamp;\n\n    for (let i = 0; i < 12; i++) {\n      oCalDate.setMonth(i);\n      timestamp = oCalDate.valueOf() / 1000;\n      const month = {\n        timestamp: timestamp.toString(),\n        id: `${this._id}-m${i}`,\n        name: this._oLocaleData.getMonths(\"wide\", this._primaryCalendarType)[i],\n        classes: \"ui5-mp-item\"\n      };\n\n      if (this._month === i) {\n        month.classes += \" ui5-mp-item--selected\";\n      }\n\n      if ((this.minDate || this.maxDate) && this._isOutOfSelectableRange(i)) {\n        month.classes += \" ui5-mp-item--disabled\";\n        month.disabled = true;\n      }\n\n      const quarterIndex = parseInt(i / 3);\n\n      if (quarters[quarterIndex]) {\n        quarters[quarterIndex].push(month);\n      } else {\n        quarters[quarterIndex] = [month];\n      }\n    }\n\n    this._quarters = quarters;\n  }\n\n  onAfterRendering() {\n    this._itemNav.focusCurrent();\n  }\n\n  get _timestamp() {\n    return this.timestamp !== undefined ? this.timestamp : Math.floor(new Date().getTime() / 1000);\n  }\n\n  get _localDate() {\n    return new Date(this._timestamp * 1000);\n  }\n\n  get _calendarDate() {\n    return CalendarDate.fromTimestamp(this._localDate.getTime(), this._primaryCalendarType);\n  }\n\n  get _month() {\n    return this._calendarDate.getMonth();\n  }\n\n  get _primaryCalendarType() {\n    return this.primaryCalendarType || getCalendarType() || LocaleData.getInstance(getLocale()).getPreferredCalendarType();\n  }\n\n  get _isPattern() {\n    return this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n  }\n\n  _onclick(event) {\n    if (event.target.className.indexOf(\"ui5-mp-item\") > -1) {\n      const timestamp = this.getTimestampFromDOM(event.target);\n      this.timestamp = timestamp;\n      this._itemNav.current = this._month;\n      this.fireEvent(\"selectedMonthChange\", {\n        timestamp\n      });\n    }\n  }\n\n  _onkeydown(event) {\n    if (isSpace(event) || isEnter(event)) {\n      this._activateMonth(event);\n    }\n  }\n\n  _activateMonth(event) {\n    event.preventDefault();\n\n    if (event.target.className.indexOf(\"ui5-mp-item\") > -1) {\n      const timestamp = this.getTimestampFromDOM(event.target);\n      this.timestamp = timestamp;\n      this.fireEvent(\"selectedMonthChange\", {\n        timestamp\n      });\n    }\n  }\n\n  _isOutOfSelectableRange(monthIndex) {\n    const currentDateYear = this._localDate.getFullYear(),\n          minDate = new Date(this._minDate),\n          maxDate = new Date(this._maxDate),\n          minDateCheck = minDate && (currentDateYear === minDate.getFullYear() && monthIndex < minDate.getMonth() || currentDateYear < minDate.getFullYear()),\n          maxDateCheck = maxDate && (currentDateYear === maxDate.getFullYear() && monthIndex > maxDate.getMonth() || currentDateYear > maxDate.getFullYear());\n\n    return maxDateCheck || minDateCheck;\n  }\n\n  get _maxDate() {\n    if (this.maxDate) {\n      const jsDate = new Date(this.getFormat().parse(this.maxDate).getFullYear(), this.getFormat().parse(this.maxDate).getMonth(), this.getFormat().parse(this.maxDate).getDate());\n      const oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n      return oCalDate.valueOf();\n    }\n\n    return this.maxDate;\n  }\n\n  get _minDate() {\n    if (this.minDate) {\n      const jsDate = new Date(this.getFormat().parse(this.minDate).getFullYear(), this.getFormat().parse(this.minDate).getMonth(), this.getFormat().parse(this.minDate).getDate());\n      const oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n      return oCalDate.valueOf();\n    }\n\n    return this.minDate;\n  }\n\n  getFormat() {\n    if (this._isPattern) {\n      this._oDateFormat = DateFormat.getInstance({\n        pattern: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    } else {\n      this._oDateFormat = DateFormat.getInstance({\n        style: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    }\n\n    return this._oDateFormat;\n  }\n\n  get _formatPattern() {\n    return this.formatPattern || \"medium\"; // get from config\n  }\n\n  getTimestampFromDOM(domNode) {\n    const oMonthDomRef = domNode.getAttribute(\"data-sap-timestamp\");\n    return parseInt(oMonthDomRef);\n  }\n\n  get styles() {\n    return {\n      main: {\n        display: this._hidden ? \"none\" : \"\"\n      }\n    };\n  }\n\n}\n\nMonthPicker.define();\nexport default MonthPicker;","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents/dist/MonthPicker.js"],"names":["UI5Element","litRender","getCalendarType","DateFormat","LocaleData","ItemNavigation","Integer","isSpace","isEnter","CalendarType","getLocale","CalendarDate","ItemNavigationBehavior","MonthPickerTemplate","styles","metadata","tag","properties","timestamp","type","primaryCalendarType","minDate","String","maxDate","_quarters","Object","multiple","_hidden","Boolean","noAttribute","formatPattern","events","selectedMonthChange","MonthPicker","render","template","constructor","_oLocale","_oLocaleData","_itemNav","rowSize","behavior","Cyclic","getItemsCallback","focusableMonths","i","length","quarter","filter","x","disabled","push","concat","bind","setItemsCallback","items","onBeforeRendering","quarters","oCalDate","fromTimestamp","Date","getTime","_primaryCalendarType","setMonth","valueOf","month","toString","id","_id","name","getMonths","classes","_month","_isOutOfSelectableRange","quarterIndex","parseInt","onAfterRendering","focusCurrent","_timestamp","undefined","Math","floor","_localDate","_calendarDate","getMonth","getInstance","getPreferredCalendarType","_isPattern","_formatPattern","_onclick","event","target","className","indexOf","getTimestampFromDOM","current","fireEvent","_onkeydown","_activateMonth","preventDefault","monthIndex","currentDateYear","getFullYear","_minDate","_maxDate","minDateCheck","maxDateCheck","jsDate","getFormat","parse","getDate","_oDateFormat","pattern","calendarType","style","domNode","oMonthDomRef","getAttribute","main","display","define"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,4CAAvB;AACA,OAAOC,SAAP,MAAsB,sDAAtB;AACA,SAASC,eAAT,QAAgC,qDAAhC;AACA,OAAOC,UAAP,MAAuB,oDAAvB;AACA,OAAOC,UAAP,MAAuB,oDAAvB;AACA,OAAOC,cAAP,MAA2B,yDAA3B;AACA,OAAOC,OAAP,MAAoB,+CAApB;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,sCAAjC;AACA,OAAOC,YAAP,MAAyB,oDAAzB;AACA,OAAOC,SAAP,MAAsB,kDAAtB;AACA,OAAOC,YAAP,MAAyB,4DAAzB;AACA,OAAOC,sBAAP,MAAmC,8DAAnC;AACA,OAAOC,mBAAP,MAAgC,kDAAhC,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,uCAAnB;AACA;;;;AAGA,MAAMC,QAAQ,GAAG;AAChBC,EAAAA,GAAG,EAAE,iBADW;AAEhBC,EAAAA,UAAU;AAAE;AAA+D;AAC1E;;;;;AAKAC,IAAAA,SAAS,EAAE;AACVC,MAAAA,IAAI,EAAEb;AADI,KAN+D;;AAU1E;;;;;;AAMAc,IAAAA,mBAAmB,EAAE;AACpBD,MAAAA,IAAI,EAAEV;AADc,KAhBqD;;AAoB1E;;;;;;;;AAQAY,IAAAA,OAAO,EAAE;AACRF,MAAAA,IAAI,EAAEG;AADE,KA5BiE;;AAgC1E;;;;;;;;AAQAC,IAAAA,OAAO,EAAE;AACRJ,MAAAA,IAAI,EAAEG;AADE,KAxCiE;AA4C1EE,IAAAA,SAAS,EAAE;AACVL,MAAAA,IAAI,EAAEM,MADI;AAEVC,MAAAA,QAAQ,EAAE;AAFA,KA5C+D;AAiD1EC,IAAAA,OAAO,EAAE;AACRR,MAAAA,IAAI,EAAES,OADE;AAERC,MAAAA,WAAW,EAAE;AAFL,KAjDiE;;AAqD1E;;;;;;;AAOAC,IAAAA,aAAa,EAAE;AACdX,MAAAA,IAAI,EAAEG;AADQ;AA5D2D,GAF3D;AAkEhBS,EAAAA,MAAM;AAAE;AAA+D;AACtE;;;;;AAKAC,IAAAA,mBAAmB,EAAE;AANiD;AAlEvD,CAAjB;AA4EA;;;;;;;;;;;;;;;AAcA,MAAMC,WAAN,SAA0BjC,UAA1B,CAAqC;AACpC,aAAWe,QAAX,GAAsB;AACrB,WAAOA,QAAP;AACA;;AAED,aAAWmB,MAAX,GAAoB;AACnB,WAAOjC,SAAP;AACA;;AAED,aAAWkC,QAAX,GAAsB;AACrB,WAAOtB,mBAAP;AACA;;AAED,aAAWC,MAAX,GAAoB;AACnB,WAAOA,MAAP;AACA;;AAEDsB,EAAAA,WAAW,GAAG;AACb;AACA,SAAKC,QAAL,GAAgB3B,SAAS,EAAzB;AACA,SAAK4B,YAAL,GAAoB,IAAIlC,UAAJ,CAAe,KAAKiC,QAApB,CAApB;AAEA,SAAKE,QAAL,GAAgB,IAAIlC,cAAJ,CAAmB,IAAnB,EAAyB;AAAEmC,MAAAA,OAAO,EAAE,CAAX;AAAcC,MAAAA,QAAQ,EAAE7B,sBAAsB,CAAC8B;AAA/C,KAAzB,CAAhB;;AACA,SAAKH,QAAL,CAAcI,gBAAd,GAAiC,SAASA,gBAAT,GAA4B;AAC5D,YAAMC,eAAe,GAAG,EAAxB;;AAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKrB,SAAL,CAAesB,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;AAC/C,cAAME,OAAO,GAAG,KAAKvB,SAAL,CAAeqB,CAAf,EAAkBG,MAAlB,CAAyBC,CAAC,IAAI,CAACA,CAAC,CAACC,QAAjC,CAAhB;;AACAN,QAAAA,eAAe,CAACO,IAAhB,CAAqBJ,OAArB;AACA;;AAED,aAAO,GAAGK,MAAH,CAAU,GAAGR,eAAb,CAAP;AACA,KATgC,CAS/BS,IAT+B,CAS1B,IAT0B,CAAjC;;AAUA,SAAKd,QAAL,CAAce,gBAAd,GAAiC,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AACjE,WAAK/B,SAAL,GAAiB+B,KAAjB;AACA,KAFgC,CAE/BF,IAF+B,CAE1B,IAF0B,CAAjC;AAGA;;AAEDG,EAAAA,iBAAiB,GAAG;AACnB,UAAMC,QAAQ,GAAG,EAAjB;AACA,UAAMC,QAAQ,GAAG/C,YAAY,CAACgD,aAAb,CAA2B,IAAIC,IAAJ,GAAWC,OAAX,EAA3B,EAAiD,KAAKC,oBAAtD,CAAjB;AACA,QAAI5C,SAAJ;;AAEA,SAAK,IAAI2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC5Ba,MAAAA,QAAQ,CAACK,QAAT,CAAkBlB,CAAlB;AACA3B,MAAAA,SAAS,GAAGwC,QAAQ,CAACM,OAAT,KAAqB,IAAjC;AAEA,YAAMC,KAAK,GAAG;AACb/C,QAAAA,SAAS,EAAEA,SAAS,CAACgD,QAAV,EADE;AAEbC,QAAAA,EAAE,EAAG,GAAE,KAAKC,GAAI,KAAIvB,CAAE,EAFT;AAGbwB,QAAAA,IAAI,EAAE,KAAK/B,YAAL,CAAkBgC,SAAlB,CAA4B,MAA5B,EAAoC,KAAKR,oBAAzC,EAA+DjB,CAA/D,CAHO;AAIb0B,QAAAA,OAAO,EAAE;AAJI,OAAd;;AAOA,UAAI,KAAKC,MAAL,KAAgB3B,CAApB,EAAuB;AACtBoB,QAAAA,KAAK,CAACM,OAAN,IAAiB,wBAAjB;AACA;;AAED,UAAI,CAAC,KAAKlD,OAAL,IAAgB,KAAKE,OAAtB,KAAkC,KAAKkD,uBAAL,CAA6B5B,CAA7B,CAAtC,EAAuE;AACtEoB,QAAAA,KAAK,CAACM,OAAN,IAAiB,wBAAjB;AACAN,QAAAA,KAAK,CAACf,QAAN,GAAiB,IAAjB;AACA;;AAED,YAAMwB,YAAY,GAAGC,QAAQ,CAAC9B,CAAC,GAAG,CAAL,CAA7B;;AAEA,UAAIY,QAAQ,CAACiB,YAAD,CAAZ,EAA4B;AAC3BjB,QAAAA,QAAQ,CAACiB,YAAD,CAAR,CAAuBvB,IAAvB,CAA4Bc,KAA5B;AACA,OAFD,MAEO;AACNR,QAAAA,QAAQ,CAACiB,YAAD,CAAR,GAAyB,CAACT,KAAD,CAAzB;AACA;AACD;;AAED,SAAKzC,SAAL,GAAiBiC,QAAjB;AACA;;AAEDmB,EAAAA,gBAAgB,GAAG;AAClB,SAAKrC,QAAL,CAAcsC,YAAd;AACA;;AAED,MAAIC,UAAJ,GAAiB;AAChB,WAAO,KAAK5D,SAAL,KAAmB6D,SAAnB,GAA+B,KAAK7D,SAApC,GAAgD8D,IAAI,CAACC,KAAL,CAAW,IAAIrB,IAAJ,GAAWC,OAAX,KAAuB,IAAlC,CAAvD;AACA;;AAED,MAAIqB,UAAJ,GAAiB;AAChB,WAAO,IAAItB,IAAJ,CAAS,KAAKkB,UAAL,GAAkB,IAA3B,CAAP;AACA;;AAED,MAAIK,aAAJ,GAAoB;AACnB,WAAOxE,YAAY,CAACgD,aAAb,CAA2B,KAAKuB,UAAL,CAAgBrB,OAAhB,EAA3B,EAAsD,KAAKC,oBAA3D,CAAP;AACA;;AAED,MAAIU,MAAJ,GAAa;AACZ,WAAO,KAAKW,aAAL,CAAmBC,QAAnB,EAAP;AACA;;AAED,MAAItB,oBAAJ,GAA2B;AAC1B,WAAO,KAAK1C,mBAAL,IAA4BlB,eAAe,EAA3C,IAAiDE,UAAU,CAACiF,WAAX,CAAuB3E,SAAS,EAAhC,EAAoC4E,wBAApC,EAAxD;AACA;;AAED,MAAIC,UAAJ,GAAiB;AAChB,WAAO,KAAKC,cAAL,KAAwB,QAAxB,IAAoC,KAAKA,cAAL,KAAwB,OAA5D,IAAuE,KAAKA,cAAL,KAAwB,MAAtG;AACA;;AAEDC,EAAAA,QAAQ,CAACC,KAAD,EAAQ;AACf,QAAIA,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,OAAvB,CAA+B,aAA/B,IAAgD,CAAC,CAArD,EAAwD;AACvD,YAAM3E,SAAS,GAAG,KAAK4E,mBAAL,CAAyBJ,KAAK,CAACC,MAA/B,CAAlB;AACA,WAAKzE,SAAL,GAAiBA,SAAjB;AACA,WAAKqB,QAAL,CAAcwD,OAAd,GAAwB,KAAKvB,MAA7B;AACA,WAAKwB,SAAL,CAAe,qBAAf,EAAsC;AAAE9E,QAAAA;AAAF,OAAtC;AACA;AACD;;AAED+E,EAAAA,UAAU,CAACP,KAAD,EAAQ;AACjB,QAAInF,OAAO,CAACmF,KAAD,CAAP,IAAkBlF,OAAO,CAACkF,KAAD,CAA7B,EAAsC;AACrC,WAAKQ,cAAL,CAAoBR,KAApB;AACA;AACD;;AAEDQ,EAAAA,cAAc,CAACR,KAAD,EAAQ;AACrBA,IAAAA,KAAK,CAACS,cAAN;;AACA,QAAIT,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,OAAvB,CAA+B,aAA/B,IAAgD,CAAC,CAArD,EAAwD;AACvD,YAAM3E,SAAS,GAAG,KAAK4E,mBAAL,CAAyBJ,KAAK,CAACC,MAA/B,CAAlB;AACA,WAAKzE,SAAL,GAAiBA,SAAjB;AACA,WAAK8E,SAAL,CAAe,qBAAf,EAAsC;AAAE9E,QAAAA;AAAF,OAAtC;AACA;AACD;;AAEDuD,EAAAA,uBAAuB,CAAC2B,UAAD,EAAa;AACnC,UAAMC,eAAe,GAAG,KAAKnB,UAAL,CAAgBoB,WAAhB,EAAxB;AAAA,UACCjF,OAAO,GAAG,IAAIuC,IAAJ,CAAS,KAAK2C,QAAd,CADX;AAAA,UAEChF,OAAO,GAAG,IAAIqC,IAAJ,CAAS,KAAK4C,QAAd,CAFX;AAAA,UAGCC,YAAY,GAAGpF,OAAO,KAAMgF,eAAe,KAAKhF,OAAO,CAACiF,WAAR,EAApB,IAA6CF,UAAU,GAAG/E,OAAO,CAAC+D,QAAR,EAA3D,IAAkFiB,eAAe,GAAGhF,OAAO,CAACiF,WAAR,EAAzG,CAHvB;AAAA,UAICI,YAAY,GAAGnF,OAAO,KAAM8E,eAAe,KAAK9E,OAAO,CAAC+E,WAAR,EAApB,IAA6CF,UAAU,GAAG7E,OAAO,CAAC6D,QAAR,EAA3D,IAAmFiB,eAAe,GAAG9E,OAAO,CAAC+E,WAAR,EAA1G,CAJvB;;AAMA,WAAOI,YAAY,IAAID,YAAvB;AACA;;AAED,MAAID,QAAJ,GAAe;AACd,QAAI,KAAKjF,OAAT,EAAkB;AACjB,YAAMoF,MAAM,GAAG,IAAI/C,IAAJ,CAAS,KAAKgD,SAAL,GAAiBC,KAAjB,CAAuB,KAAKtF,OAA5B,EAAqC+E,WAArC,EAAT,EAA6D,KAAKM,SAAL,GAAiBC,KAAjB,CAAuB,KAAKtF,OAA5B,EAAqC6D,QAArC,EAA7D,EAA8G,KAAKwB,SAAL,GAAiBC,KAAjB,CAAuB,KAAKtF,OAA5B,EAAqCuF,OAArC,EAA9G,CAAf;AACA,YAAMpD,QAAQ,GAAG/C,YAAY,CAACgD,aAAb,CAA2BgD,MAAM,CAAC9C,OAAP,EAA3B,EAA6C,KAAKC,oBAAlD,CAAjB;AACA,aAAOJ,QAAQ,CAACM,OAAT,EAAP;AACA;;AACD,WAAO,KAAKzC,OAAZ;AACA;;AAED,MAAIgF,QAAJ,GAAe;AACd,QAAI,KAAKlF,OAAT,EAAkB;AACjB,YAAMsF,MAAM,GAAG,IAAI/C,IAAJ,CAAS,KAAKgD,SAAL,GAAiBC,KAAjB,CAAuB,KAAKxF,OAA5B,EAAqCiF,WAArC,EAAT,EAA6D,KAAKM,SAAL,GAAiBC,KAAjB,CAAuB,KAAKxF,OAA5B,EAAqC+D,QAArC,EAA7D,EAA8G,KAAKwB,SAAL,GAAiBC,KAAjB,CAAuB,KAAKxF,OAA5B,EAAqCyF,OAArC,EAA9G,CAAf;AACA,YAAMpD,QAAQ,GAAG/C,YAAY,CAACgD,aAAb,CAA2BgD,MAAM,CAAC9C,OAAP,EAA3B,EAA6C,KAAKC,oBAAlD,CAAjB;AACA,aAAOJ,QAAQ,CAACM,OAAT,EAAP;AACA;;AACD,WAAO,KAAK3C,OAAZ;AACA;;AAGDuF,EAAAA,SAAS,GAAG;AACX,QAAI,KAAKrB,UAAT,EAAqB;AACpB,WAAKwB,YAAL,GAAoB5G,UAAU,CAACkF,WAAX,CAAuB;AAC1C2B,QAAAA,OAAO,EAAE,KAAKxB,cAD4B;AAE1CyB,QAAAA,YAAY,EAAE,KAAKnD;AAFuB,OAAvB,CAApB;AAIA,KALD,MAKO;AACN,WAAKiD,YAAL,GAAoB5G,UAAU,CAACkF,WAAX,CAAuB;AAC1C6B,QAAAA,KAAK,EAAE,KAAK1B,cAD8B;AAE1CyB,QAAAA,YAAY,EAAE,KAAKnD;AAFuB,OAAvB,CAApB;AAIA;;AACD,WAAO,KAAKiD,YAAZ;AACA;;AAED,MAAIvB,cAAJ,GAAqB;AACpB,WAAO,KAAK1D,aAAL,IAAsB,QAA7B,CADoB,CACmB;AACvC;;AAEDgE,EAAAA,mBAAmB,CAACqB,OAAD,EAAU;AAC5B,UAAMC,YAAY,GAAGD,OAAO,CAACE,YAAR,CAAqB,oBAArB,CAArB;AACA,WAAO1C,QAAQ,CAACyC,YAAD,CAAf;AACA;;AAED,MAAItG,MAAJ,GAAa;AACZ,WAAO;AACNwG,MAAAA,IAAI,EAAE;AACLC,QAAAA,OAAO,EAAE,KAAK5F,OAAL,GAAe,MAAf,GAAwB;AAD5B;AADA,KAAP;AAKA;;AA1LmC;;AA6LrCM,WAAW,CAACuF,MAAZ;AAEA,eAAevF,WAAf","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport LocaleData from \"@ui5/webcomponents-localization/dist/LocaleData.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { isSpace, isEnter } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport ItemNavigationBehavior from \"@ui5/webcomponents-base/dist/types/ItemNavigationBehavior.js\";\nimport MonthPickerTemplate from \"./generated/templates/MonthPickerTemplate.lit.js\";\n\n// Styles\nimport styles from \"./generated/themes/MonthPicker.css.js\";\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-monthpicker\",\n\tproperties: /** @lends  sap.ui.webcomponents.main.MonthPicker.prototype */ {\n\t\t/**\n\t\t * A UNIX timestamp - seconds since 00:00:00 UTC on Jan 1, 1970.\n\t\t * @type {Integer}\n\t\t * @public\n\t\t */\n\t\ttimestamp: {\n\t\t\ttype: Integer,\n\t\t},\n\n\t\t/**\n\t\t * Sets a calendar type used for display.\n\t\t * If not set, the calendar type of the global configuration is used.\n\t\t * @type {CalendarType}\n\t\t * @public\n\t\t */\n\t\tprimaryCalendarType: {\n\t\t\ttype: CalendarType,\n\t\t},\n\n\t\t/**\n\t\t * Determines the Ð¼inimum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tminDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines the maximum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tmaxDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t_quarters: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t_hidden: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\t\t/**\n\t\t * Determines the format, displayed in the input field.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tformatPattern: {\n\t\t\ttype: String,\n\t\t},\n\t},\n\tevents: /** @lends  sap.ui.webcomponents.main.MonthPicker.prototype */ {\n\t\t/**\n\t\t * Fired when the user selects a new Date on the Web Component.\n\t\t * @public\n\t\t * @event\n\t\t */\n\t\tselectedMonthChange: {},\n\t},\n};\n\n/**\n * Month picker component.\n *\n * @class\n *\n * Displays months which can be selected.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MonthPicker\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-monthpicker\n * @public\n */\nclass MonthPicker extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn MonthPickerTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._oLocale = getLocale();\n\t\tthis._oLocaleData = new LocaleData(this._oLocale);\n\n\t\tthis._itemNav = new ItemNavigation(this, { rowSize: 3, behavior: ItemNavigationBehavior.Cyclic });\n\t\tthis._itemNav.getItemsCallback = function getItemsCallback() {\n\t\t\tconst focusableMonths = [];\n\n\t\t\tfor (let i = 0; i < this._quarters.length; i++) {\n\t\t\t\tconst quarter = this._quarters[i].filter(x => !x.disabled);\n\t\t\t\tfocusableMonths.push(quarter);\n\t\t\t}\n\n\t\t\treturn [].concat(...focusableMonths);\n\t\t}.bind(this);\n\t\tthis._itemNav.setItemsCallback = function setItemsCallback(items) {\n\t\t\tthis._quarters = items;\n\t\t}.bind(this);\n\t}\n\n\tonBeforeRendering() {\n\t\tconst quarters = [];\n\t\tconst oCalDate = CalendarDate.fromTimestamp(new Date().getTime(), this._primaryCalendarType);\n\t\tlet timestamp;\n\n\t\tfor (let i = 0; i < 12; i++) {\n\t\t\toCalDate.setMonth(i);\n\t\t\ttimestamp = oCalDate.valueOf() / 1000;\n\n\t\t\tconst month = {\n\t\t\t\ttimestamp: timestamp.toString(),\n\t\t\t\tid: `${this._id}-m${i}`,\n\t\t\t\tname: this._oLocaleData.getMonths(\"wide\", this._primaryCalendarType)[i],\n\t\t\t\tclasses: \"ui5-mp-item\",\n\t\t\t};\n\n\t\t\tif (this._month === i) {\n\t\t\t\tmonth.classes += \" ui5-mp-item--selected\";\n\t\t\t}\n\n\t\t\tif ((this.minDate || this.maxDate) && this._isOutOfSelectableRange(i)) {\n\t\t\t\tmonth.classes += \" ui5-mp-item--disabled\";\n\t\t\t\tmonth.disabled = true;\n\t\t\t}\n\n\t\t\tconst quarterIndex = parseInt(i / 3);\n\n\t\t\tif (quarters[quarterIndex]) {\n\t\t\t\tquarters[quarterIndex].push(month);\n\t\t\t} else {\n\t\t\t\tquarters[quarterIndex] = [month];\n\t\t\t}\n\t\t}\n\n\t\tthis._quarters = quarters;\n\t}\n\n\tonAfterRendering() {\n\t\tthis._itemNav.focusCurrent();\n\t}\n\n\tget _timestamp() {\n\t\treturn this.timestamp !== undefined ? this.timestamp : Math.floor(new Date().getTime() / 1000);\n\t}\n\n\tget _localDate() {\n\t\treturn new Date(this._timestamp * 1000);\n\t}\n\n\tget _calendarDate() {\n\t\treturn CalendarDate.fromTimestamp(this._localDate.getTime(), this._primaryCalendarType);\n\t}\n\n\tget _month() {\n\t\treturn this._calendarDate.getMonth();\n\t}\n\n\tget _primaryCalendarType() {\n\t\treturn this.primaryCalendarType || getCalendarType() || LocaleData.getInstance(getLocale()).getPreferredCalendarType();\n\t}\n\n\tget _isPattern() {\n\t\treturn this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n\t}\n\n\t_onclick(event) {\n\t\tif (event.target.className.indexOf(\"ui5-mp-item\") > -1) {\n\t\t\tconst timestamp = this.getTimestampFromDOM(event.target);\n\t\t\tthis.timestamp = timestamp;\n\t\t\tthis._itemNav.current = this._month;\n\t\t\tthis.fireEvent(\"selectedMonthChange\", { timestamp });\n\t\t}\n\t}\n\n\t_onkeydown(event) {\n\t\tif (isSpace(event) || isEnter(event)) {\n\t\t\tthis._activateMonth(event);\n\t\t}\n\t}\n\n\t_activateMonth(event) {\n\t\tevent.preventDefault();\n\t\tif (event.target.className.indexOf(\"ui5-mp-item\") > -1) {\n\t\t\tconst timestamp = this.getTimestampFromDOM(event.target);\n\t\t\tthis.timestamp = timestamp;\n\t\t\tthis.fireEvent(\"selectedMonthChange\", { timestamp });\n\t\t}\n\t}\n\n\t_isOutOfSelectableRange(monthIndex) {\n\t\tconst currentDateYear = this._localDate.getFullYear(),\n\t\t\tminDate = new Date(this._minDate),\n\t\t\tmaxDate = new Date(this._maxDate),\n\t\t\tminDateCheck = minDate && ((currentDateYear === minDate.getFullYear() && monthIndex < minDate.getMonth()) || currentDateYear < minDate.getFullYear()),\n\t\t\tmaxDateCheck = maxDate && ((currentDateYear === maxDate.getFullYear() && monthIndex > maxDate.getMonth()) || (currentDateYear > maxDate.getFullYear()));\n\n\t\treturn maxDateCheck || minDateCheck;\n\t}\n\n\tget _maxDate() {\n\t\tif (this.maxDate) {\n\t\t\tconst jsDate = new Date(this.getFormat().parse(this.maxDate).getFullYear(), this.getFormat().parse(this.maxDate).getMonth(), this.getFormat().parse(this.maxDate).getDate());\n\t\t\tconst oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n\t\t\treturn oCalDate.valueOf();\n\t\t}\n\t\treturn this.maxDate;\n\t}\n\n\tget _minDate() {\n\t\tif (this.minDate) {\n\t\t\tconst jsDate = new Date(this.getFormat().parse(this.minDate).getFullYear(), this.getFormat().parse(this.minDate).getMonth(), this.getFormat().parse(this.minDate).getDate());\n\t\t\tconst oCalDate = CalendarDate.fromTimestamp(jsDate.getTime(), this._primaryCalendarType);\n\t\t\treturn oCalDate.valueOf();\n\t\t}\n\t\treturn this.minDate;\n\t}\n\n\n\tgetFormat() {\n\t\tif (this._isPattern) {\n\t\t\tthis._oDateFormat = DateFormat.getInstance({\n\t\t\t\tpattern: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t} else {\n\t\t\tthis._oDateFormat = DateFormat.getInstance({\n\t\t\t\tstyle: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t}\n\t\treturn this._oDateFormat;\n\t}\n\n\tget _formatPattern() {\n\t\treturn this.formatPattern || \"medium\"; // get from config\n\t}\n\n\tgetTimestampFromDOM(domNode) {\n\t\tconst oMonthDomRef = domNode.getAttribute(\"data-sap-timestamp\");\n\t\treturn parseInt(oMonthDomRef);\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\tmain: {\n\t\t\t\tdisplay: this._hidden ? \"none\" : \"\",\n\t\t\t},\n\t\t};\n\t}\n}\n\nMonthPicker.define();\n\nexport default MonthPicker;\n"]},"metadata":{},"sourceType":"module"}