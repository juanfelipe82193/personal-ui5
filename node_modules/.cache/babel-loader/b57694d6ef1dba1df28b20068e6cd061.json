{"ast":null,"code":"import merge from \"./thirdparty/merge.js\";\nimport { getFeature } from \"./FeaturesRegistry.js\";\nimport { DEFAULT_THEME } from \"./generated/AssetParameters.js\";\nvar initialized = false;\nvar initialConfig = {\n  animationMode: \"full\",\n  theme: DEFAULT_THEME,\n  rtl: null,\n  language: null,\n  calendarType: null,\n  noConflict: false,\n  // no URL\n  formatSettings: {}\n};\n/* General settings */\n\nvar getAnimationMode = function getAnimationMode() {\n  initConfiguration();\n  return initialConfig.animationMode;\n};\n\nvar getTheme = function getTheme() {\n  initConfiguration();\n  return initialConfig.theme;\n};\n\nvar getRTL = function getRTL() {\n  initConfiguration();\n  return initialConfig.rtl;\n};\n\nvar getLanguage = function getLanguage() {\n  initConfiguration();\n  return initialConfig.language;\n};\n\nvar getNoConflict = function getNoConflict() {\n  initConfiguration();\n  return initialConfig.noConflict;\n};\n\nvar getCalendarType = function getCalendarType() {\n  initConfiguration();\n  return initialConfig.calendarType;\n};\n\nvar getFormatSettings = function getFormatSettings() {\n  initConfiguration();\n  return initialConfig.formatSettings;\n};\n\nvar booleanMapping = new Map();\nbooleanMapping.set(\"true\", true);\nbooleanMapping.set(\"false\", false);\n\nvar parseConfigurationScript = function parseConfigurationScript() {\n  var configScript = document.querySelector(\"[data-ui5-config]\") || document.querySelector(\"[data-id='sap-ui-config']\"); // for backward compatibility\n\n  var configJSON;\n\n  if (configScript) {\n    try {\n      configJSON = JSON.parse(configScript.innerHTML);\n    } catch (err) {\n      console.warn(\"Incorrect data-sap-ui-config format. Please use JSON\");\n      /* eslint-disable-line */\n    }\n\n    if (configJSON) {\n      initialConfig = merge(initialConfig, configJSON);\n    }\n  }\n};\n\nvar parseURLParameters = function parseURLParameters() {\n  var params = new URLSearchParams(window.location.search);\n  params.forEach(function (value, key) {\n    if (!key.startsWith(\"sap-ui\")) {\n      return;\n    }\n\n    var lowerCaseValue = value.toLowerCase();\n    var param = key.split(\"sap-ui-\")[1];\n\n    if (booleanMapping.has(value)) {\n      value = booleanMapping.get(lowerCaseValue);\n    }\n\n    initialConfig[param] = value;\n  });\n};\n\nvar applyOpenUI5Configuration = function applyOpenUI5Configuration() {\n  var OpenUI5Support = getFeature(\"OpenUI5Support\");\n\n  if (!OpenUI5Support || !OpenUI5Support.isLoaded()) {\n    return;\n  }\n\n  var OpenUI5Config = OpenUI5Support.getConfigurationSettingsObject();\n  initialConfig = merge(initialConfig, OpenUI5Config);\n};\n\nvar initConfiguration = function initConfiguration() {\n  if (initialized) {\n    return;\n  } // 1. Lowest priority - configuration script\n\n\n  parseConfigurationScript(); // 2. URL parameters overwrite configuration script parameters\n\n  parseURLParameters(); // 3. If OpenUI5 is detected, it has the highest priority\n\n  applyOpenUI5Configuration();\n  initialized = true;\n};\n\nexport { getAnimationMode, getTheme, getRTL, getLanguage, getNoConflict, getCalendarType, getFormatSettings };","map":{"version":3,"sources":["/Users/juanzorrilla/Documents/SAPUI5/personal-ui5/node_modules/@ui5/webcomponents-base/dist/InitialConfiguration.js"],"names":["merge","getFeature","DEFAULT_THEME","initialized","initialConfig","animationMode","theme","rtl","language","calendarType","noConflict","formatSettings","getAnimationMode","initConfiguration","getTheme","getRTL","getLanguage","getNoConflict","getCalendarType","getFormatSettings","booleanMapping","Map","set","parseConfigurationScript","configScript","document","querySelector","configJSON","JSON","parse","innerHTML","err","console","warn","parseURLParameters","params","URLSearchParams","window","location","search","forEach","value","key","startsWith","lowerCaseValue","toLowerCase","param","split","has","get","applyOpenUI5Configuration","OpenUI5Support","isLoaded","OpenUI5Config","getConfigurationSettingsObject"],"mappings":"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","sourcesContent":["import merge from \"./thirdparty/merge.js\";\nimport { getFeature } from \"./FeaturesRegistry.js\";\nimport { DEFAULT_THEME } from \"./generated/AssetParameters.js\";\n\nlet initialized = false;\n\nlet initialConfig = {\n\tanimationMode: \"full\",\n\ttheme: DEFAULT_THEME,\n\trtl: null,\n\tlanguage: null,\n\tcalendarType: null,\n\tnoConflict: false, // no URL\n\tformatSettings: {},\n};\n\n/* General settings */\nconst getAnimationMode = () => {\n\tinitConfiguration();\n\treturn initialConfig.animationMode;\n};\n\nconst getTheme = () => {\n\tinitConfiguration();\n\treturn initialConfig.theme;\n};\n\nconst getRTL = () => {\n\tinitConfiguration();\n\treturn initialConfig.rtl;\n};\n\nconst getLanguage = () => {\n\tinitConfiguration();\n\treturn initialConfig.language;\n};\n\nconst getNoConflict = () => {\n\tinitConfiguration();\n\treturn initialConfig.noConflict;\n};\n\nconst getCalendarType = () => {\n\tinitConfiguration();\n\treturn initialConfig.calendarType;\n};\n\nconst getFormatSettings = () => {\n\tinitConfiguration();\n\treturn initialConfig.formatSettings;\n};\n\nconst booleanMapping = new Map();\nbooleanMapping.set(\"true\", true);\nbooleanMapping.set(\"false\", false);\n\nconst parseConfigurationScript = () => {\n\tconst configScript = document.querySelector(\"[data-ui5-config]\") || document.querySelector(\"[data-id='sap-ui-config']\"); // for backward compatibility\n\n\tlet configJSON;\n\n\tif (configScript) {\n\t\ttry {\n\t\t\tconfigJSON = JSON.parse(configScript.innerHTML);\n\t\t} catch (err) {\n\t\t\tconsole.warn(\"Incorrect data-sap-ui-config format. Please use JSON\"); /* eslint-disable-line */\n\t\t}\n\n\t\tif (configJSON) {\n\t\t\tinitialConfig = merge(initialConfig, configJSON);\n\t\t}\n\t}\n};\n\nconst parseURLParameters = () => {\n\tconst params = new URLSearchParams(window.location.search);\n\n\tparams.forEach((value, key) => {\n\t\tif (!key.startsWith(\"sap-ui\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst lowerCaseValue = value.toLowerCase();\n\n\t\tconst param = key.split(\"sap-ui-\")[1];\n\n\t\tif (booleanMapping.has(value)) {\n\t\t\tvalue = booleanMapping.get(lowerCaseValue);\n\t\t}\n\n\t\tinitialConfig[param] = value;\n\t});\n};\n\nconst applyOpenUI5Configuration = () => {\n\tconst OpenUI5Support = getFeature(\"OpenUI5Support\");\n\tif (!OpenUI5Support || !OpenUI5Support.isLoaded()) {\n\t\treturn;\n\t}\n\n\tconst OpenUI5Config = OpenUI5Support.getConfigurationSettingsObject();\n\tinitialConfig = merge(initialConfig, OpenUI5Config);\n};\n\n\nconst initConfiguration = () => {\n\tif (initialized) {\n\t\treturn;\n\t}\n\n\t// 1. Lowest priority - configuration script\n\tparseConfigurationScript();\n\n\t// 2. URL parameters overwrite configuration script parameters\n\tparseURLParameters();\n\n\t// 3. If OpenUI5 is detected, it has the highest priority\n\tapplyOpenUI5Configuration();\n\n\tinitialized = true;\n};\n\nexport {\n\tgetAnimationMode,\n\tgetTheme,\n\tgetRTL,\n\tgetLanguage,\n\tgetNoConflict,\n\tgetCalendarType,\n\tgetFormatSettings,\n};\n"]},"metadata":{},"sourceType":"module"}