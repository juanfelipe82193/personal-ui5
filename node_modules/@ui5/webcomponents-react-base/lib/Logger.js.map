{"version":3,"file":"Logger.js","sources":["../src/utils/Logger.ts"],"sourcesContent":["/* eslint-disable no-console,no-unused-expressions */\n\nconst pad0 = (i: any, w: number) => `000${String(i)}`.slice(-w);\n\nexport enum LOG_LEVEL {\n  FATAL = 0,\n  ERROR = 1,\n  WARNING = 2,\n  INFO = 3,\n  DEBUG = 4,\n  TRACE = 5\n}\n\nclass DeviceLogger {\n  public defaultComponent: string;\n  public sWindowName = window.top === window ? '' : `[${window.location.pathname.split('/').slice(-1)[0]}] `;\n\n  constructor(defaultComponent = 'DEVICE') {\n    this.log(LOG_LEVEL.INFO, 'Device API logging initialized');\n    this.defaultComponent = defaultComponent;\n    return this;\n  }\n\n  public for(defaultComponent: string) {\n    return new DeviceLogger(defaultComponent);\n  }\n\n  public log(iLevel: LOG_LEVEL, sMessage: string, sComponent?: string) {\n    sComponent = sComponent || this.defaultComponent || '';\n    const oNow = new Date();\n    const oLogEntry = {\n      time: `${pad0(oNow.getHours(), 2)}:${pad0(oNow.getMinutes(), 2)}:${pad0(oNow.getSeconds(), 2)}`,\n      date: `${pad0(oNow.getFullYear(), 4)}-${pad0(oNow.getMonth() + 1, 2)}-${pad0(oNow.getDate(), 2)}`,\n      timestamp: oNow.getTime(),\n      level: iLevel,\n      message: sMessage || '',\n      component: sComponent || ''\n    };\n    if (window.console) {\n      const logText = `${oLogEntry.date} ${oLogEntry.time} ${this.sWindowName}${oLogEntry.message} - ${oLogEntry.component}`;\n      switch (iLevel) {\n        case LOG_LEVEL.FATAL:\n        case LOG_LEVEL.ERROR:\n          console.error(logText);\n          break;\n        case LOG_LEVEL.WARNING:\n          console.warn(logText);\n          break;\n        case LOG_LEVEL.INFO:\n          console.info ? console.info(logText) : console.log(logText);\n          break; // info not available in iOS simulator\n        case LOG_LEVEL.DEBUG:\n          console.debug ? console.debug(logText) : console.log(logText);\n          break; // debug not available in IE, fallback to log\n        case LOG_LEVEL.TRACE:\n          console.trace ? console.trace(logText) : console.log(logText);\n          break; // trace not available in IE, fallback to log\n      }\n    }\n    return oLogEntry;\n  }\n\n  //  Public API\n  public fatal(msg: string, component?: string) {\n    return this.log(LOG_LEVEL.FATAL, msg, component);\n  }\n\n  public error(msg: string, component?: string) {\n    return this.log(LOG_LEVEL.ERROR, msg, component);\n  }\n\n  public warning(msg: string, component?: string) {\n    return this.log(LOG_LEVEL.WARNING, msg, component);\n  }\n\n  public info(msg: string, component?: string) {\n    return this.log(LOG_LEVEL.INFO, msg, component);\n  }\n\n  public debug(msg: string, component?: string) {\n    return this.log(LOG_LEVEL.DEBUG, msg, component);\n  }\n\n  public trace(msg: string, component?: string) {\n    return this.log(LOG_LEVEL.TRACE, msg, component);\n  }\n}\n\nexport const Logger = new DeviceLogger();\n"],"names":["pad0","i","w","String","slice","LOG_LEVEL","DeviceLogger","defaultComponent","sWindowName","window","top","location","pathname","split","log","INFO","iLevel","sMessage","sComponent","oNow","Date","oLogEntry","time","getHours","getMinutes","getSeconds","date","getFullYear","getMonth","getDate","timestamp","getTime","level","message","component","console","logText","FATAL","ERROR","error","WARNING","warn","info","DEBUG","debug","TRACE","trace","msg","Logger"],"mappings":"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"}