{"version":3,"file":"Utils.js","sources":["../src/utils/index.ts"],"sourcesContent":["import { UIEvent } from 'react';\n\nexport const deprecationNotice = (component: string, message: string) => {\n  if (process.env.NODE_ENV === 'development') {\n    const value = `*** ui5-webcomponents-react Deprecation Notice - ${component} ***\\n`;\n    // eslint-disable-next-line no-console\n    console.warn(`${value}${message}`);\n  }\n};\n\nexport const getScrollBarWidth = () => {\n  const inner = document.createElement('p');\n  inner.style.width = '100%';\n  inner.style.height = '200px';\n\n  const outer = document.createElement('div');\n  outer.style.position = 'absolute';\n  outer.style.top = '0px';\n  outer.style.left = '0px';\n  outer.style.visibility = 'hidden';\n  outer.style.width = '200px';\n  outer.style.height = '150px';\n  outer.style.overflow = 'hidden';\n  outer.appendChild(inner);\n\n  document.body.appendChild(outer);\n  const w1 = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  let w2 = inner.offsetWidth;\n\n  if (w1 === w2) {\n    w2 = outer.clientWidth;\n  }\n\n  document.body.removeChild(outer);\n  return w1 - w2;\n};\n\nexport const polyfillDeprecatedEventAPI = (event: any) => {\n  event.getOriginalEvent = () => {\n    deprecationNotice(\n      'Event',\n      // eslint-disable-next-line max-len\n      \"'event.getOriginalEvent' is deprecated and will be removed in the next major release. Please use the event object itself instead.\"\n    );\n    return event;\n  };\n  event.getParameters = () => {\n    deprecationNotice(\n      'Event',\n      // eslint-disable-next-line max-len\n      \"'event.getParameters' is deprecated and will be removed in the next major release. Please use 'event.detail' instead.\"\n    );\n    return event.parameters;\n  };\n  event.getParameter = (parameter: keyof typeof event.detail) => {\n    deprecationNotice(\n      'Event',\n      // eslint-disable-next-line max-len\n      \"'event.getParameter' is deprecated and will be removed in the next major release. Please use 'event.detail[parameter]' instead.\"\n    );\n    return event.parameters[parameter];\n  };\n  event.getHtmlSourceElement = () => {\n    deprecationNotice(\n      'Event',\n      // eslint-disable-next-line max-len\n      \"'event.getHtmlSourceElement' is deprecated and will be removed in the next major release. Please use 'event.target' instead.\"\n    );\n    return event.target;\n  };\n\n  event.parameters = new Proxy(\n    {},\n    {\n      get: (obj, prop) => {\n        deprecationNotice(\n          'Event',\n          // eslint-disable-next-line max-len\n          \"'event.parameters' is deprecated and will be removed in the next major release. Please use 'event.detail' instead.\"\n        );\n        if (event.detail && event.detail.hasOwnProperty(prop)) {\n          return event.detail[prop];\n        }\n\n        // really dirty fallback to e.target\n        return event.target[prop];\n      }\n    }\n  );\n\n  return event;\n};\n\nexport const enrichEventWithDetails = <T = {}>(event: UIEvent, payload: T = {} as any) => {\n  if (event.hasOwnProperty('persist')) {\n    // if there is a persist method, it's an SyntheticEvent so we need to persist it\n    event.persist();\n  }\n\n  const shouldCreateNewDetails =\n    event.detail === null || event.detail === undefined || typeof event.detail !== 'object';\n  Object.defineProperty(event, 'detail', {\n    value: shouldCreateNewDetails ? {} : event.detail,\n    writable: true,\n    configurable: true\n  });\n  Object.assign(event.detail, payload);\n  // \"polyfill\" old features\n  polyfillDeprecatedEventAPI(event);\n  return (event as unknown) as CustomEvent<T>;\n};\n"],"names":["deprecationNotice","component","message","process","env","NODE_ENV","value","console","warn","getScrollBarWidth","inner","document","createElement","style","width","height","outer","position","top","left","visibility","overflow","appendChild","body","w1","offsetWidth","w2","clientWidth","removeChild","polyfillDeprecatedEventAPI","event","getOriginalEvent","getParameters","parameters","getParameter","parameter","getHtmlSourceElement","target","Proxy","get","obj","prop","detail","hasOwnProperty","enrichEventWithDetails","payload","persist","shouldCreateNewDetails","undefined","Object","defineProperty","writable","configurable","assign"],"mappings":"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"}