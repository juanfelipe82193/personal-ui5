{"version":3,"file":"Optional.js","sources":["../src/utils/Optional.ts"],"sourcesContent":["import { deprecationNotice } from '@ui5/webcomponents-react-base/lib/Utils';\n\n/* eslint-disable id-blacklist */\n/**\n * Optionals for Javascript Objects\n * Inspired by Java Optionals\n */\nclass Optional {\n  private readonly object: object;\n  private path: string;\n\n  /**\n   * Creates a new Optional\n   * @param {Object} object The Object to validate\n   * @param {String} path Path to search for in object. Separated by dots.\n   *                      Example: 'foo.bar'\n   * @constructor\n   */\n  constructor(object: object, path: string) {\n    this.object = object;\n    this.path = path;\n\n    deprecationNotice(\n      'Optional',\n      \"'@ui5/webcomponents-react-base/lib/Optional' is deprecated and will be removed in the next major release.\\n. Please use the Optional-Chaining-Operator instead.\"\n    );\n  }\n\n  /**\n   * Creates a new Optional\n   * @param {Object} object The Object to validate\n   * @param {String} path Path to search for in object. Separated by dots.\n   *                      Example: 'foo.bar'\n   * @constructor\n   */\n  static of(object: object, path: string) {\n    return new Optional(object, path);\n  }\n\n  /**\n   * Get The Value of the Optional.\n   * Do not use the this method directly!\n   * @return {any} Resolved Value\n   * @private\n   */\n  get() {\n    return this.path.split('.').reduce((acc, val) => {\n      if (acc === undefined || acc === null) {\n        return acc;\n      }\n      if (acc.hasOwnProperty(val)) {\n        const newVal = acc[val];\n        if (newVal !== undefined && newVal !== null) {\n          return newVal;\n        }\n        return newVal;\n      }\n      return undefined;\n    }, this.object);\n  }\n\n  /**\n   * Return true if there is a value present, otherwise false.\n   * @returns {Boolean} true if there is a value present, otherwise false\n   */\n  isPresent() {\n    let obj: any = this.object;\n    return this.path.split('.').every((x) => {\n      if (typeof obj !== 'object' || obj === null || obj === undefined || !(x in obj)) return false;\n      obj = obj[x];\n      return true;\n    });\n  }\n\n  /**\n   * If a value is present, invoke the specified consumer with the value, otherwise do nothing.\n   * @param {Function} fn block to be executed if a value is present\n   * @returns {any} value The executed fn if present, else null\n   */\n  ifPresent(fn: (value: any) => void) {\n    if (this.isPresent()) {\n      return fn(this.get());\n    }\n    return null;\n  }\n\n  /**\n   * Return the value if present, otherwise return other.\n   * @param val {any} the value to be returned if there is no value present, may be null\n   * @returns {any} value the value, if present, otherwise other\n   */\n  orElse(val: any) {\n    return this.isPresent() ? this.get() : val;\n  }\n\n  /**\n   * Return the contained value, if present, otherwise throw an exception to be created by the provided supplier.\n   * @param {ExceptionSupplier} exceptionSupplier The supplier which will return the exception to be thrown\n   * @returns {any} the present value\n   * @throws {Exception} ex - if there is no value present\n   *\n   */\n  orElseThrow(exceptionSupplier: () => Error) {\n    if (!this.isPresent()) {\n      throw exceptionSupplier();\n    }\n    return this.get();\n  }\n}\n\nexport { Optional };\n"],"names":["Optional","object","path","deprecationNotice","split","reduce","acc","val","undefined","hasOwnProperty","newVal","obj","every","x","fn","isPresent","get","exceptionSupplier"],"mappings":";;;;AAEA;;AACA;;;;;IAIMA;AAIJ;;;;;;;AAOA,oBAAYC,MAAZ,EAA4BC,IAA5B,EAA0C;AAAA;;AAAA,SAVzBD,MAUyB;AAAA,SATlCC,IASkC;AACxC,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,IAAL,GAAYA,IAAZ;AAEAC,IAAAA,iBAAiB,CACf,UADe,EAEf,iKAFe,CAAjB;AAID;AAED;;;;;;;;;;;;AAWA;;;;;;0BAMM;AACJ,aAAO,KAAKD,IAAL,CAAUE,KAAV,CAAgB,GAAhB,EAAqBC,MAArB,CAA4B,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC/C,YAAID,GAAG,KAAKE,SAAR,IAAqBF,GAAG,KAAK,IAAjC,EAAuC;AACrC,iBAAOA,GAAP;AACD;;AACD,YAAIA,GAAG,CAACG,cAAJ,CAAmBF,GAAnB,CAAJ,EAA6B;AAC3B,cAAMG,MAAM,GAAGJ,GAAG,CAACC,GAAD,CAAlB;;AACA,cAAIG,MAAM,KAAKF,SAAX,IAAwBE,MAAM,KAAK,IAAvC,EAA6C;AAC3C,mBAAOA,MAAP;AACD;;AACD,iBAAOA,MAAP;AACD;;AACD,eAAOF,SAAP;AACD,OAZM,EAYJ,KAAKP,MAZD,CAAP;AAaD;AAED;;;;;;;gCAIY;AACV,UAAIU,GAAQ,GAAG,KAAKV,MAApB;AACA,aAAO,KAAKC,IAAL,CAAUE,KAAV,CAAgB,GAAhB,EAAqBQ,KAArB,CAA2B,UAACC,CAAD,EAAO;AACvC,YAAI,OAAOF,GAAP,KAAe,QAAf,IAA2BA,GAAG,KAAK,IAAnC,IAA2CA,GAAG,KAAKH,SAAnD,IAAgE,EAAEK,CAAC,IAAIF,GAAP,CAApE,EAAiF,OAAO,KAAP;AACjFA,QAAAA,GAAG,GAAGA,GAAG,CAACE,CAAD,CAAT;AACA,eAAO,IAAP;AACD,OAJM,CAAP;AAKD;AAED;;;;;;;;8BAKUC,IAA0B;AAClC,UAAI,KAAKC,SAAL,EAAJ,EAAsB;AACpB,eAAOD,EAAE,CAAC,KAAKE,GAAL,EAAD,CAAT;AACD;;AACD,aAAO,IAAP;AACD;AAED;;;;;;;;2BAKOT,KAAU;AACf,aAAO,KAAKQ,SAAL,KAAmB,KAAKC,GAAL,EAAnB,GAAgCT,GAAvC;AACD;AAED;;;;;;;;;;gCAOYU,mBAAgC;AAC1C,UAAI,CAAC,KAAKF,SAAL,EAAL,EAAuB;AACrB,cAAME,iBAAiB,EAAvB;AACD;;AACD,aAAO,KAAKD,GAAL,EAAP;AACD;;;uBAxESf,QAAgBC,MAAc;AACtC,aAAO,IAAIF,QAAJ,CAAaC,MAAb,EAAqBC,IAArB,CAAP;AACD;;;;;;;;"}