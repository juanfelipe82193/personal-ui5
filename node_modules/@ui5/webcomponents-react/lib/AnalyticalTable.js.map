{"version":3,"file":"AnalyticalTable.js","sources":["../src/components/AnalyticalTable/AnayticalTable.jss.ts","../src/components/AnalyticalTable/ColumnHeader/ColumnHeaderModal.tsx","../src/components/AnalyticalTable/ColumnHeader/index.tsx","../src/components/AnalyticalTable/defaults/FilterComponent/index.tsx","../src/components/AnalyticalTable/defaults/Column/Cell.tsx","../src/components/AnalyticalTable/defaults/Column/Expandable.tsx","../src/components/AnalyticalTable/defaults/Column/Grouped.tsx","../src/components/AnalyticalTable/defaults/Column/RepeatedValue.tsx","../src/components/AnalyticalTable/defaults/Column/index.tsx","../src/components/AnalyticalTable/defaults/LoadingComponent/index.tsx","../src/components/AnalyticalTable/defaults/LoadingComponent/TablePlaceholder.tsx","../src/components/AnalyticalTable/defaults/NoDataComponent/index.tsx","../src/components/AnalyticalTable/hooks/useDragAndDrop.ts","../src/components/AnalyticalTable/hooks/useDynamicColumnWidths.ts","../src/components/AnalyticalTable/hooks/useRowHighlight.tsx","../src/components/AnalyticalTable/hooks/useRowSelectionColumn.tsx","../src/components/AnalyticalTable/hooks/useSingleRowStateSelection.ts","../src/components/AnalyticalTable/hooks/useStyling.ts","../src/components/AnalyticalTable/hooks/useTableScrollHandles.ts","../src/components/AnalyticalTable/hooks/useToggleRowExpand.ts","../src/components/AnalyticalTable/util/deepCompare.ts","../src/components/AnalyticalTable/tableReducer/stateReducer.ts","../src/components/AnalyticalTable/TitleBar/index.tsx","../src/components/AnalyticalTable/util/index.ts","../src/components/AnalyticalTable/virtualization/VirtualTableBody.tsx","../src/components/AnalyticalTable/index.tsx"],"sourcesContent":["import { CssSizeVariables } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\n\nconst styles = {\n  table: {\n    position: 'relative',\n    width: '100%',\n    maxWidth: '100%',\n    overflowY: 'hidden',\n    overflowX: 'auto',\n    height: '100%',\n    minHeight: '3rem',\n    fontFamily: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    fontWeight: 'normal'\n  },\n  tableHeaderRow: {\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    position: 'relative',\n    display: 'inline-flex'\n  },\n  th: {\n    backgroundColor: ThemingParameters.sapList_HeaderBackground,\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    color: ThemingParameters.sapList_HeaderTextColor,\n    borderTop: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    padding: `0 0.5rem`,\n    textAlign: 'start',\n    boxSizing: 'border-box',\n    '&:first-child': {\n      borderLeft: `1px solid ${ThemingParameters.sapList_BorderColor}`\n    },\n    '&:last-child': {\n      '& [data-resizer]': {\n        transform: 'translateX(0px)'\n      }\n    }\n  },\n  tbody: {\n    position: 'relative',\n    backgroundColor: ThemingParameters.sapList_Background,\n    overflowX: 'hidden',\n    overflowY: 'auto'\n  },\n  alternateRowColor: {\n    backgroundColor: ThemingParameters.sapList_AlternatingBackground\n  },\n  tr: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    color: ThemingParameters.sapList_TextColor,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    boxSizing: 'border-box',\n    display: 'flex',\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    '&:hover': {\n      backgroundColor: ThemingParameters.sapList_Hover_Background\n    },\n    '&[data-is-selected]': {\n      borderBottom: `1px solid ${ThemingParameters.sapList_SelectionBorderColor}`,\n      backgroundColor: ThemingParameters.sapList_SelectionBackgroundColor\n    },\n    '&[data-is-selected]:hover': {\n      backgroundColor: ThemingParameters.sapList_Hover_SelectionBackground\n    }\n  },\n  trActive: {\n    '&:hover': {\n      cursor: 'pointer'\n    },\n    '&:active': {\n      backgroundColor: ThemingParameters.sapList_Active_Background,\n      '& $tableCell': {\n        borderRight: `1px solid ${ThemingParameters.sapList_Active_Background}`,\n        color: `${ThemingParameters.sapList_Active_TextColor}`,\n        '--sapTextColor': ThemingParameters.sapList_Active_TextColor\n      }\n    }\n  },\n  tableGroupHeader: {\n    '&$tr': {\n      backgroundColor: `${ThemingParameters.sapList_TableGroupHeaderBackground}`,\n      border: `1px solid ${ThemingParameters.sapList_TableGroupHeaderBorderColor}`,\n      color: ThemingParameters.sapList_TextColor,\n      '& $tableCell': {\n        borderRight: 'none'\n      }\n    }\n  },\n  tableCell: {\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    boxSizing: 'border-box',\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    display: 'inline-flex',\n    padding: '0 0.5rem',\n    '&:first-child': {\n      borderLeft: `1px solid ${ThemingParameters.sapList_BorderColor}`\n    },\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    alignItems: 'center',\n    position: 'relative',\n    '&:focus': {\n      outlineOffset: '-2px',\n      outline: `1px dotted ${ThemingParameters.sapContent_FocusColor}`\n    }\n  },\n  noDataContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    backgroundColor: ThemingParameters.sapList_Background,\n    width: '100%',\n    boxSizing: 'border-box',\n    color: ThemingParameters.sapList_TextColor,\n    fontFamily: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    fontWeight: 'normal',\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n  }\n};\n\nexport default styles;\n","import '@ui5/webcomponents-icons/dist/icons/decline';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport {\n  CLEAR_SORTING,\n  GROUP,\n  SORT_ASCENDING,\n  SORT_DESCENDING,\n  UNGROUP\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { FlexBox } from '@ui5/webcomponents-react/lib/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/lib/FlexBoxAlignItems';\nimport { Icon } from '@ui5/webcomponents-react/lib/Icon';\nimport { List } from '@ui5/webcomponents-react/lib/List';\nimport { ListItemTypes } from '@ui5/webcomponents-react/lib/ListItemTypes';\nimport { PlacementType } from '@ui5/webcomponents-react/lib/PlacementType';\nimport { Popover } from '@ui5/webcomponents-react/lib/Popover';\nimport { PopoverHorizontalAlign } from '@ui5/webcomponents-react/lib/PopoverHorizontalAlign';\nimport { StandardListItem } from '@ui5/webcomponents-react/lib/StandardListItem';\nimport React, { CSSProperties, forwardRef, RefObject, useCallback } from 'react';\nimport { Ui5PopoverDomRef } from '../../../interfaces/Ui5PopoverDomRef';\nimport { ColumnType } from '../types/ColumnType';\n\nexport interface ColumnHeaderModalProperties {\n  column: ColumnType;\n  onSort?: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  onGroupBy?: (e: CustomEvent<{ column: unknown; isGrouped: boolean }>) => void;\n}\n\nconst staticStyle = { fontWeight: 'normal' };\n\nexport const ColumnHeaderModal = forwardRef((props: ColumnHeaderModalProperties, ref: RefObject<Ui5PopoverDomRef>) => {\n  const { column, onSort, onGroupBy } = props;\n  const showFilter = column.canFilter;\n  const showGroup = column.canGroupBy;\n  const showSort = column.canSort;\n\n  const { Filter } = column;\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const handleSort = useCallback(\n    (e) => {\n      const sortType = e.detail.item.getAttribute('data-sort');\n\n      switch (sortType) {\n        case 'asc':\n          column.toggleSortBy(false);\n          if (typeof onSort === 'function') {\n            onSort(\n              enrichEventWithDetails(e, {\n                column,\n                sortDirection: sortType\n              })\n            );\n          }\n          break;\n        case 'desc':\n          column.toggleSortBy(true);\n          if (typeof onSort === 'function') {\n            onSort(\n              enrichEventWithDetails(e, {\n                column,\n                sortDirection: sortType\n              })\n            );\n          }\n          break;\n        case 'clear':\n          column.clearSortBy();\n          if (typeof onSort === 'function') {\n            onSort(\n              enrichEventWithDetails(e, {\n                column,\n                sortDirection: sortType\n              })\n            );\n          }\n          break;\n        case 'group':\n          const willGroup = !column.isGrouped;\n          column.toggleGroupBy(willGroup);\n          if (typeof onGroupBy === 'function') {\n            onGroupBy(\n              enrichEventWithDetails(e, {\n                column,\n                isGrouped: willGroup\n              })\n            );\n          }\n          break;\n      }\n      if (ref.current) {\n        ref.current.close();\n      }\n    },\n    [column, ref, onGroupBy, onSort]\n  );\n\n  const isSortedAscending = column.isSorted && column.isSortedDesc === false;\n  const isSortedDescending = column.isSorted && column.isSortedDesc === true;\n\n  return (\n    <Popover\n      noArrow\n      horizontalAlign={PopoverHorizontalAlign.Left}\n      placementType={PlacementType.Bottom}\n      ref={ref}\n      style={staticStyle as CSSProperties}\n    >\n      <List onItemClick={handleSort}>\n        {isSortedAscending && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"decline\" data-sort=\"clear\">\n            {i18nBundle.getText(CLEAR_SORTING)}\n          </StandardListItem>\n        )}\n        {showSort && !isSortedAscending && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"sort-ascending\" data-sort=\"asc\">\n            {i18nBundle.getText(SORT_ASCENDING)}\n          </StandardListItem>\n        )}\n        {showSort && !isSortedDescending && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"sort-descending\" data-sort=\"desc\">\n            {i18nBundle.getText(SORT_DESCENDING)}\n          </StandardListItem>\n        )}\n        {isSortedDescending && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"decline\" data-sort=\"clear\">\n            {i18nBundle.getText(CLEAR_SORTING)}\n          </StandardListItem>\n        )}\n        {showFilter && !column.isGrouped && (\n          <FlexBox\n            alignItems={FlexBoxAlignItems.Center}\n            style={{\n              padding: '0px 1rem',\n              height: 'var(--_ui5_custom_list_item_height)',\n              borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n            }}\n          >\n            <Icon name=\"filter\" style={{ paddingRight: '0.5rem', minWidth: '1rem', minHeight: '1rem' }} />\n            <Filter column={column} popoverRef={ref} />\n          </FlexBox>\n        )}\n        {showGroup && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"group-2\" data-sort={'group'}>\n            {i18nBundle.getText(column.isGrouped ? UNGROUP : GROUP)}\n          </StandardListItem>\n        )}\n      </List>\n    </Popover>\n  );\n});\nColumnHeaderModal.displayName = 'ColumnHeaderModal';\n","import { getRTL } from '@ui5/webcomponents-base/dist/config/RTL';\nimport '@ui5/webcomponents-icons/dist/icons/filter';\nimport '@ui5/webcomponents-icons/dist/icons/group-2';\nimport '@ui5/webcomponents-icons/dist/icons/sort-ascending';\nimport '@ui5/webcomponents-icons/dist/icons/sort-descending';\nimport { createComponentStyles } from '@ui5/webcomponents-react-base/lib/createComponentStyles';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { Icon } from '@ui5/webcomponents-react/lib/Icon';\nimport { Text } from '@ui5/webcomponents-react/lib/Text';\nimport React, {\n  CSSProperties,\n  DragEventHandler,\n  FC,\n  ReactNode,\n  ReactNodeArray,\n  useCallback,\n  useMemo,\n  useRef\n} from 'react';\nimport { Ui5PopoverDomRef } from '../../../interfaces/Ui5PopoverDomRef';\nimport { ColumnType } from '../types/ColumnType';\nimport { ColumnHeaderModal } from './ColumnHeaderModal';\n\nexport interface ColumnHeaderProps {\n  id: string;\n  defaultSortDesc: boolean;\n  children: ReactNode | ReactNodeArray;\n  grouping: string;\n  className: string;\n  column: ColumnType;\n  style: CSSProperties;\n  onSort?: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  onGroupBy?: (e: CustomEvent<{ column: unknown; isGrouped: boolean }>) => void;\n  onDragStart: DragEventHandler<HTMLDivElement>;\n  onDragOver: DragEventHandler<HTMLDivElement>;\n  onDrop: DragEventHandler<HTMLDivElement>;\n  onDragEnter: DragEventHandler<HTMLDivElement>;\n  onDragEnd: DragEventHandler<HTMLDivElement>;\n  dragOver: boolean;\n  isResizing: boolean;\n  isDraggable: boolean;\n  role: string;\n}\n\nconst styles = {\n  header: {\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'begin',\n    alignItems: 'center',\n    textAlign: 'left',\n    fontFamily: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    fontWeight: 'normal',\n    color: ThemingParameters.sapList_TextColor,\n    background: ThemingParameters.sapList_HeaderBackground,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    maxWidth: '100%',\n    position: 'relative',\n    width: '100%',\n    overflowX: 'hidden',\n    overflowY: 'hidden',\n    boxSizing: 'border-box',\n    '&[data-h-align=\"End\"]': {\n      '& $text': {\n        textAlign: 'end'\n      }\n    }\n  },\n  text: {\n    width: '100%',\n    textAlign: 'start'\n  },\n  iconContainer: {\n    display: 'inline-block',\n    position: 'absolute',\n    color: ThemingParameters.sapContent_IconColor,\n    right: getRTL() === false ? '0.5rem' : undefined,\n    left: getRTL() === true ? '0.5rem' : undefined\n  },\n  resizer: {\n    display: 'inline-block',\n    width: '16px',\n    height: '100%',\n    position: 'absolute',\n    right: 0,\n    top: 0,\n    transform: 'translateX(50%)',\n    zIndex: 1\n  }\n};\n\nconst useStyles = createComponentStyles(styles, { name: 'TableColumnHeader' });\n\n/**\n * <code>import { ColumnHeader } from '@ui5/webcomponents-react/lib/ColumnHeader';</code>\n */\nexport const ColumnHeader: FC<ColumnHeaderProps> = (props: ColumnHeaderProps) => {\n  const classes = useStyles(props);\n\n  const {\n    id,\n    children,\n    column,\n    className,\n    style,\n    onSort,\n    onGroupBy,\n    onDragEnter,\n    onDragOver,\n    onDragStart,\n    onDrop,\n    onDragEnd,\n    isDraggable,\n    dragOver,\n    role\n  } = props;\n\n  const isFiltered = column.filterValue && column.filterValue.length > 0;\n  const sortingIcon = column.isSorted ? (\n    <Icon name={column.isSortedDesc ? 'sort-descending' : 'sort-ascending'} />\n  ) : null;\n  const filterIcon = isFiltered ? <Icon name=\"filter\" /> : null;\n  const groupingIcon = column.isGrouped ? <Icon name=\"group-2\" /> : null;\n\n  const textStyle = useMemo(() => {\n    let margin = 0;\n\n    if (column.isSorted) margin++;\n    if (column.isGrouped) margin++;\n    if (isFiltered) margin++;\n\n    if (margin === 0) {\n      return {};\n    }\n\n    if (margin > 0) margin += 0.5;\n\n    if (getRTL()) {\n      return {\n        marginLeft: `${margin}rem`\n      };\n    }\n    return {\n      marginRight: `${margin}rem`\n    };\n  }, [column.isSorted, column.isGrouped, isFiltered]);\n\n  const hasPopover = column.canGroupBy || column.canSort || column.canFilter;\n  const innerStyle: CSSProperties = useMemo(() => {\n    const modifiedStyles: CSSProperties = {\n      cursor: hasPopover ? 'pointer' : 'auto'\n    };\n    if (dragOver) {\n      modifiedStyles.borderLeft = `3px solid ${ThemingParameters.sapSelectedColor}`;\n    }\n    return modifiedStyles;\n  }, [dragOver, hasPopover]);\n\n  const popoverRef = useRef<Ui5PopoverDomRef>(null);\n\n  const onOpenPopover = useCallback(\n    (e) => {\n      if (popoverRef.current && hasPopover) {\n        popoverRef.current.openBy(e.target);\n      }\n    },\n    [popoverRef, hasPopover]\n  );\n\n  if (!column) return null;\n\n  return (\n    <div\n      id={id}\n      className={className}\n      style={style}\n      role={role}\n      draggable={isDraggable}\n      onDragEnter={onDragEnter}\n      onDragOver={onDragOver}\n      onDragStart={onDragStart}\n      onDrop={onDrop}\n      onDragEnd={onDragEnd}\n      data-column-id={id}\n    >\n      <div style={innerStyle} onClick={onOpenPopover} className={classes.header} data-h-align={column.hAlign}>\n        <Text\n          tooltip={typeof children === 'string' ? children : null}\n          wrapping={false}\n          style={textStyle}\n          className={classes.text}\n        >\n          {children}\n        </Text>\n        <div className={classes.iconContainer}>\n          {filterIcon}\n          {sortingIcon}\n          {groupingIcon}\n        </div>\n      </div>\n      {hasPopover && <ColumnHeaderModal column={column} onSort={onSort} onGroupBy={onGroupBy} ref={popoverRef} />}\n      {column.canResize && column.getResizerProps && (\n        <div {...column.getResizerProps()} data-resizer className={`${classes.resizer}`} />\n      )}\n    </div>\n  );\n};\n","import { Input } from '@ui5/webcomponents-react/lib/Input';\nimport React, { FC, useCallback } from 'react';\n\nexport /**\n * <code>import { DefaultFilterComponent } from '@ui5/webcomponents-react/lib/DefaultFilterComponent';</code>\n */\nconst DefaultFilterComponent: FC<any> = ({ column }) => {\n  const handleChange = useCallback(\n    (e) => {\n      column.setFilter(e.target.value || undefined);\n    },\n    [column.setFilter]\n  );\n  return <Input onInput={handleChange}>{column.filterValue}</Input>;\n};\n","import { Text } from '@ui5/webcomponents-react/lib/Text';\nimport React from 'react';\n\nexport const Cell = ({ cell: { value = '', isGrouped }, row }) => {\n  let cellContent = `${value ?? ''}`;\n  if (isGrouped) {\n    cellContent += ` (${row.subRows.length})`;\n  }\n  return (\n    <Text wrapping={false} tooltip={cellContent}>\n      {cellContent}\n    </Text>\n  );\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { Icon } from '@ui5/webcomponents-react/lib/Icon';\nimport React, { CSSProperties } from 'react';\n\nconst tableGroupExpandCollapseIcon = {\n  color: 'var(--sapContent_IconColor)',\n  height: '0.75rem',\n  width: '0.75rem',\n  padding: '0.625rem',\n  display: 'block'\n};\n\nconst getPadding = (level) => {\n  switch (level) {\n    case 0:\n      return 0;\n    case 1:\n      return CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel1;\n    case 2:\n      return CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel2;\n    case 3:\n      return CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel3;\n    default:\n      return `calc(${CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel3} + ${level - 3}rem * 0.5)`;\n  }\n};\n\nexport const Expandable = (props) => {\n  const { cell, row, column, columns } = props;\n\n  const tableColumns = columns.filter(\n    ({ id }) => id !== '__ui5wcr__internal_selection_column' && id !== '__ui5wcr__internal_highlight_column'\n  );\n\n  const columnIndex = tableColumns.findIndex((col) => col.id === column.id);\n\n  let paddingLeft;\n  if (row.canExpand) {\n    paddingLeft = columnIndex === 0 ? getPadding(row.depth) : 0;\n  } else {\n    paddingLeft = columnIndex === 0 ? `calc(${getPadding(row.depth)} + 2rem)` : 0;\n  }\n  const style: CSSProperties = {\n    paddingLeft\n  };\n\n  return (\n    <>\n      {columnIndex === 0 && row.canExpand ? (\n        <span {...row.getToggleRowExpandedProps({ style })}>\n          <Icon\n            name={`${row.isExpanded ? 'navigation-down-arrow' : 'navigation-right-arrow'}`}\n            style={tableGroupExpandCollapseIcon}\n          />\n        </span>\n      ) : (\n        <span style={style} />\n      )}\n      {cell.render('Cell')}\n    </>\n  );\n};\n","import { Icon } from '@ui5/webcomponents-react/lib/Icon';\nimport { TextAlign } from '@ui5/webcomponents-react/lib/TextAlign';\nimport React, { CSSProperties } from 'react';\n\nconst tableGroupExpandCollapseIcon = {\n  color: 'var(--sapContent_IconColor)',\n  height: '0.75rem',\n  width: '0.75rem',\n  padding: '0.625rem',\n  display: 'block'\n};\n\nexport const Grouped = (props) => {\n  const { cell, row } = props;\n\n  const style: CSSProperties = {};\n  if (cell.column.hAlign && (cell.column.hAlign !== TextAlign.Left || cell.column.hAlign !== TextAlign.Begin)) {\n    style.marginRight = 'auto';\n  }\n  return (\n    <>\n      <span {...row.getToggleRowExpandedProps({ style })}>\n        <Icon\n          name={`${row.isExpanded ? 'navigation-down-arrow' : 'navigation-right-arrow'}`}\n          style={tableGroupExpandCollapseIcon}\n        />\n      </span>\n      {cell.render('Cell')}\n    </>\n  );\n};\n","export const RepeatedValue = () => null;\n","import { VerticalAlign } from '@ui5/webcomponents-react/lib/VerticalAlign';\nimport { DefaultFilterComponent } from '../FilterComponent';\nimport { Cell } from './Cell';\nimport { Expandable } from './Expandable';\nimport { Grouped } from './Grouped';\nimport { RepeatedValue } from './RepeatedValue';\n\nexport const DEFAULT_COLUMN_WIDTH = 60;\n\nconst defaultFilterMethod = (filter, row) => {\n  return new RegExp(filter.value, 'gi').test(String(row[filter.id]));\n};\n\nexport const DefaultColumn = {\n  Filter: DefaultFilterComponent,\n  canResize: true,\n  canReorder: true,\n  minWidth: DEFAULT_COLUMN_WIDTH,\n  vAlign: VerticalAlign.Middle,\n  defaultFilter: defaultFilterMethod,\n  Grouped: Grouped,\n  Cell: Cell,\n  Expandable: Expandable,\n  RepeatedValue: RepeatedValue\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { Loader } from '@ui5/webcomponents-react/lib/Loader';\nimport React, { CSSProperties } from 'react';\n\nconst styles: CSSProperties = {\n  position: 'absolute',\n  top: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n  left: 0,\n  right: 0,\n  zIndex: 1\n};\n\nconst DefaultLoadingComponent = ({ style }) => {\n  return <Loader delay={500} style={{ ...styles, ...style }} />;\n};\n\nDefaultLoadingComponent.displayName = 'DefaultLoadingComponent';\n\nexport { DefaultLoadingComponent };\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport React, { CSSProperties, FC, useMemo } from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst getArrayOfLength = (len) => Array.from(Array(len).keys());\n\ntype RowProps = { columns: any[]; y: number; row: number };\nconst TableRow: FC<RowProps> = ({ columns, y, row }: RowProps) => {\n  let columnOffset = 0;\n  return (\n    <>\n      {columns.map((column, i) => {\n        const el = (\n          <rect\n            key={`column-${i}-row-${row}`}\n            x={columnOffset + 2}\n            y={y}\n            rx=\"2\"\n            ry=\"8\"\n            width={column.totalWidth - 4}\n            height=\"16\"\n          />\n        );\n        columnOffset += column.totalWidth;\n        return el;\n      })}\n    </>\n  );\n};\n\ntype Props = { columns: any[]; rows: number; style: CSSProperties; rowHeight: number; tableWidth: number };\nexport const TablePlaceholder: FC<Props> = (props: Props) => {\n  const { columns, rows = 5, style, rowHeight, tableWidth } = props;\n\n  const height = rows * rowHeight;\n\n  const innerStyles = useMemo(() => {\n    return {\n      backgroundColor: ThemingParameters.sapList_Background,\n      ...style\n    };\n  }, [style, ThemingParameters.sapList_Background]);\n\n  return (\n    <ContentLoader\n      style={innerStyles}\n      height={height}\n      width={tableWidth}\n      speed={2}\n      backgroundColor={ThemingParameters.sapContent_ImagePlaceholderBackground}\n      foregroundColor={ThemingParameters.sapContent_ImagePlaceholderForegroundColor}\n      backgroundOpacity={ThemingParameters.sapContent_DisabledOpacity as any}\n    >\n      {getArrayOfLength(rows).map((_, index) => (\n        <TableRow key={index} columns={columns} y={rowHeight * index + rowHeight / 2} row={index} />\n      ))}\n    </ContentLoader>\n  );\n};\n","import React from 'react';\n\nexport const DefaultNoDataComponent = ({ noDataText, className, style }) => {\n  return (\n    <div className={className} style={style}>\n      {noDataText}\n    </div>\n  );\n};\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { useCallback, useState } from 'react';\n\nconst getColumnId = (column) => {\n  return typeof column.accessor === 'string' ? column.accessor : column.id;\n};\n\nexport const useDragAndDrop = (props, setColumnOrder, columnOrder, resizeInfo, columns: any[]) => {\n  const { onColumnsReordered } = props;\n\n  const [dragOver, setDragOver] = useState('');\n\n  const handleDragStart = useCallback(\n    (e) => {\n      if (resizeInfo.isResizingColumn) {\n        e.preventDefault();\n        return;\n      }\n      e.dataTransfer.setData('colId', e.currentTarget.dataset.columnId);\n    },\n    [resizeInfo.isResizingColumn]\n  );\n\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n  }, []);\n\n  const handleDragEnter = useCallback((e) => {\n    setDragOver(e.currentTarget.dataset.columnId);\n  }, []);\n\n  const handleOnDrop = useCallback(\n    (e) => {\n      setDragOver('');\n\n      const droppedColId = e.currentTarget.dataset.columnId;\n      const draggedColId = e.dataTransfer.getData('colId');\n      if (droppedColId === draggedColId) return;\n\n      const internalColumnOrder = columnOrder.length > 0 ? columnOrder : columns.map((col) => getColumnId(col));\n      const droppedColIdx = internalColumnOrder.findIndex((col) => col === droppedColId);\n      const draggedColIdx = internalColumnOrder.findIndex((col) => col === draggedColId);\n\n      const tempCols = [...internalColumnOrder];\n      tempCols.splice(droppedColIdx, 0, tempCols.splice(draggedColIdx, 1)[0]);\n      setColumnOrder(tempCols);\n\n      const columnsNewOrder = tempCols.map((tempColId) => columns.find((col) => getColumnId(col) === tempColId));\n      onColumnsReordered(\n        enrichEventWithDetails(e, {\n          columnsNewOrder,\n          column: columns[draggedColIdx]\n        })\n      );\n    },\n    [columnOrder, onColumnsReordered]\n  );\n\n  const handleOnDragEnd = useCallback(() => {\n    setDragOver('');\n  }, [dragOver]);\n\n  return [dragOver, handleDragEnter, handleDragStart, handleDragOver, handleOnDrop, handleOnDragEnd];\n};\n","import { TableScaleWidthMode } from '@ui5/webcomponents-react/lib/TableScaleWidthMode';\nimport { DEFAULT_COLUMN_WIDTH } from '../defaults/Column';\n\nconst ROW_SAMPLE_SIZE = 20;\nconst DEFAULT_HEADER_NUM_CHAR = 10;\nconst MAX_WIDTH = 700;\n\n// a function, which approximates header px sizes given a character length\nconst approximateHeaderPxFromCharLength = (charLength) =>\n  charLength < 15 ? Math.sqrt(charLength * 1500) : 8 * charLength;\nconst approximateContentPxFromCharLength = (charLength) => 8 * charLength;\n\nconst columnsDeps = (deps, { instance: { state, webComponentsReactProperties } }) => [\n  ...deps,\n  state.tableClientWidth,\n  webComponentsReactProperties.scaleWidthMode,\n  webComponentsReactProperties.loading\n];\n\nconst columns = (columns, { instance }) => {\n  if (!instance.state || !instance.rows) {\n    return columns;\n  }\n\n  const { rows, state } = instance;\n\n  const { hiddenColumns, tableClientWidth: totalWidth } = state;\n  const { scaleWidthMode, loading } = instance.webComponentsReactProperties;\n\n  if (columns.length === 0 || !totalWidth) return columns;\n\n  const visibleColumns = columns.filter(Boolean).filter((item) => {\n    return (item.isVisible ?? true) && !hiddenColumns.includes(item.accessor);\n  });\n\n  const calculateDefaultTableWidth = () => {\n    const columnsWithFixedWidth = visibleColumns.filter(({ width }) => width ?? false).map(({ width }) => width);\n    const fixedWidth = columnsWithFixedWidth.reduce((acc, val) => acc + val, 0);\n\n    const defaultColumnsCount = visibleColumns.length - columnsWithFixedWidth.length;\n\n    // check if columns are visible and table has width\n    if (visibleColumns.length > 0 && totalWidth > 0) {\n      // set fixedWidth as defaultWidth if visible columns have fixed value\n      if (visibleColumns.length === columnsWithFixedWidth.length) {\n        return fixedWidth / visibleColumns.length;\n      }\n      // spread default columns\n      if (totalWidth >= fixedWidth + defaultColumnsCount * DEFAULT_COLUMN_WIDTH) {\n        return (totalWidth - fixedWidth) / defaultColumnsCount;\n      }\n    }\n    return DEFAULT_COLUMN_WIDTH;\n  };\n\n  const hasData = rows.some((row) => !row.original?.emptyRow);\n\n  if (scaleWidthMode === TableScaleWidthMode.Default || (!hasData && loading)) {\n    const defaultWidth = calculateDefaultTableWidth();\n    return columns.map((column) => ({ ...column, width: column.width ?? defaultWidth }));\n  }\n\n  const rowSample = rows.slice(0, ROW_SAMPLE_SIZE);\n\n  const columnMeta = visibleColumns.reduce((acc, column) => {\n    if (column.id === '__ui5wcr__internal_selection_column' || column.id === '__ui5wcr__internal_highlight_column') {\n      acc[column.accessor] = {\n        minHeaderWidth: column.width,\n        fullWidth: column.width,\n        contentCharAvg: 0\n      };\n      return acc;\n    }\n\n    const headerLength = typeof column.Header === 'string' ? column.Header.length : DEFAULT_HEADER_NUM_CHAR;\n\n    // max character length\n    const contentMaxCharLength = Math.max(\n      headerLength,\n      ...rowSample.map((row) => {\n        const dataPoint = row.values?.[column.accessor];\n        if (dataPoint) {\n          if (typeof dataPoint === 'string') return dataPoint.length;\n          if (typeof dataPoint === 'number') return (dataPoint + '').length;\n        }\n        return 0;\n      })\n    );\n\n    // avg character length\n    const contentCharAvg =\n      rowSample.reduce((acc, item) => {\n        const dataPoint = item.values?.[column.accessor];\n        let val = 0;\n        if (dataPoint) {\n          if (typeof dataPoint === 'string') val = dataPoint.length;\n          if (typeof dataPoint === 'number') val = (dataPoint + '').length;\n        }\n        return acc + val;\n      }, 0) / rowSample.length;\n\n    const minHeaderWidth = approximateHeaderPxFromCharLength(headerLength);\n\n    acc[column.accessor] = {\n      minHeaderWidth,\n      fullWidth: Math.max(minHeaderWidth, approximateContentPxFromCharLength(contentMaxCharLength)),\n      contentCharAvg\n    };\n    return acc;\n  }, {});\n\n  const totalCharNum = Object.values(columnMeta).reduce(\n    (acc: number, item: any) => acc + item.contentCharAvg,\n    0\n  ) as number;\n\n  let reservedWidth = visibleColumns.reduce((acc, column) => {\n    const { minHeaderWidth, fullWidth } = columnMeta[column.accessor];\n    return (\n      acc +\n        Math.max(\n          column.minWidth || 0,\n          column.width || 0,\n          minHeaderWidth || 0,\n          scaleWidthMode === TableScaleWidthMode.Grow ? fullWidth : 0\n        ) || 0\n    );\n  }, 0);\n\n  let availableWidth = totalWidth - reservedWidth;\n\n  if (scaleWidthMode === TableScaleWidthMode.Smart || availableWidth > 0) {\n    if (scaleWidthMode === TableScaleWidthMode.Grow) {\n      reservedWidth = visibleColumns.reduce((acc, column) => {\n        const { minHeaderWidth } = columnMeta[column.accessor];\n        return acc + Math.max(column.minWidth || 0, column.width || 0, minHeaderWidth || 0) || 0;\n      }, 0);\n      availableWidth = totalWidth - reservedWidth;\n    }\n\n    return columns.map((column) => {\n      const isColumnVisible = (column.isVisible ?? true) && !hiddenColumns.includes(column.accessor);\n      if (isColumnVisible) {\n        const { minHeaderWidth, contentCharAvg } = columnMeta[column.accessor];\n        const additionalSpaceFactor = totalCharNum > 0 ? contentCharAvg / totalCharNum : 1 / visibleColumns.length;\n\n        const targetWidth = additionalSpaceFactor * availableWidth + minHeaderWidth;\n\n        return {\n          ...column,\n          width: column.width ?? targetWidth,\n          minWidth: column.minWidth ?? minHeaderWidth\n        };\n      }\n\n      return column;\n    });\n  }\n\n  // TableScaleWidthMode Grow\n  return columns.map((column) => {\n    const isColumnVisible = (column.isVisible ?? true) && !hiddenColumns.includes(column.accessor);\n    if (isColumnVisible) {\n      const { fullWidth } = columnMeta[column.accessor];\n      return {\n        ...column,\n        width: column.width ?? fullWidth,\n        maxWidth: MAX_WIDTH\n      };\n    }\n    return column;\n  });\n};\n\nexport const useDynamicColumnWidths = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnsDeps);\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { ValueState } from '@ui5/webcomponents-react/lib/ValueState';\nimport React from 'react';\n\nconst baseStyles = {\n  width: '100%',\n  height: '100%'\n};\n\nconst StyleMap = new Map();\nStyleMap.set(ValueState.None, baseStyles);\nStyleMap.set(ValueState.Success, { ...baseStyles, backgroundColor: ThemingParameters.sapSuccessColor });\nStyleMap.set(ValueState.Warning, { ...baseStyles, backgroundColor: ThemingParameters.sapWarningColor });\nStyleMap.set(ValueState.Error, { ...baseStyles, backgroundColor: ThemingParameters.sapErrorColor });\nStyleMap.set(ValueState.Information, { ...baseStyles, backgroundColor: ThemingParameters.sapInformationColor });\n\n/*\n * COMPONENTS\n */\nconst Header = () => <div style={{ width: '6px' }} />;\n\nconst Cell = ({ cell: { value } }) => {\n  return <div style={StyleMap.get(value)} />;\n};\n\n/*\n * TABLE HOOKS\n */\nconst columnsDeps = (deps, { instance: { webComponentsReactProperties } }) => {\n  return [...deps, webComponentsReactProperties.withRowHighlight, webComponentsReactProperties.highlightField];\n};\nconst visibleColumnsDeps = (deps, { instance }) => [...deps, instance.webComponentsReactProperties.withRowHighlight];\nconst visibleColumns = (currentVisibleColumns, { instance: { webComponentsReactProperties } }) => {\n  if (!webComponentsReactProperties.withRowHighlight) {\n    return currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_highlight_column');\n  }\n\n  const highlightColumn = currentVisibleColumns.find(({ id }) => id === '__ui5wcr__internal_highlight_column');\n  return [highlightColumn, ...currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_highlight_column')];\n};\n\nconst columns = (currentColumns, { instance }) => {\n  const { withRowHighlight, highlightField } = instance.webComponentsReactProperties;\n\n  if (!withRowHighlight) {\n    return currentColumns;\n  }\n  return [\n    {\n      id: '__ui5wcr__internal_highlight_column',\n      accessor: highlightField,\n      disableFilters: true,\n      disableSortBy: true,\n      disableGroupBy: true,\n      disableResizing: true,\n      canReorder: false,\n      width: 6,\n      minWidth: 6,\n      maxWidth: 6,\n      Header,\n      Cell\n    },\n    ...currentColumns\n  ];\n};\n\nexport const useRowHighlight = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnsDeps);\n  hooks.visibleColumnsDeps.push(visibleColumnsDeps);\n  hooks.visibleColumns.push(visibleColumns);\n};\n\nuseRowHighlight.pluginName = 'useRowHighlight';\n","import { CssSizeVariablesNames } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { CheckBox } from '@ui5/webcomponents-react/lib/CheckBox';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/lib/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport React, { useCallback } from 'react';\n\nconst divStyle = { width: '100%', height: '100%', cursor: 'pointer' };\nconst customCheckBoxStyling = {\n  cursor: 'pointer',\n  verticalAlign: 'middle'\n};\n\n/*\n * COMPONENTS\n */\n\nconst Header = ({\n  getToggleAllRowsSelectedProps,\n  flatRows,\n  webComponentsReactProperties: { onRowSelected, selectionMode },\n  toggleAllRowsSelected\n}) => {\n  const onChange = useCallback(\n    (e) => {\n      const allRowsSelected = e.target.checked;\n      toggleAllRowsSelected(allRowsSelected);\n      if (typeof onRowSelected === 'function') {\n        onRowSelected(\n          // cannot use instance.selectedFlatRows here as it only returns all rows on the first level\n          enrichEventWithDetails(e, { allRowsSelected, selectedFlatRows: allRowsSelected ? flatRows : [] })\n        );\n      }\n    },\n    [toggleAllRowsSelected, flatRows]\n  );\n\n  if (selectionMode === TableSelectionMode.SINGLE_SELECT) {\n    return null;\n  }\n  return <CheckBox {...getToggleAllRowsSelectedProps()} style={customCheckBoxStyling} onChange={onChange} />;\n};\n\nconst Cell = ({ row, webComponentsReactProperties: { selectionBehavior, selectionMode } }) => {\n  const handleCellClick = useCallback(\n    (e) => {\n      if (TableSelectionBehavior.ROW_SELECTOR === selectionBehavior) {\n        row.getRowProps().onClick(e, true);\n      }\n    },\n    [selectionMode, row]\n  );\n  if (row.isGrouped && selectionMode === TableSelectionMode.SINGLE_SELECT) {\n    return null;\n  }\n  if (selectionMode === TableSelectionMode.SINGLE_SELECT) {\n    return <div style={divStyle} onClick={handleCellClick} />;\n  }\n  return (\n    <CheckBox\n      {...row.getToggleRowSelectedProps()}\n      onChange={handleCellClick}\n      style={customCheckBoxStyling}\n      data-name=\"internal_selection_column\"\n    />\n  );\n};\n\n/*\n * TABLE HOOKS\n */\n\nconst columnDeps = (deps, { instance: { webComponentsReactProperties } }) => {\n  return [...deps, webComponentsReactProperties.selectionMode, webComponentsReactProperties.selectionBehavior];\n};\n\nconst visibleColumnsDeps = (deps, { instance }) => [\n  ...deps,\n  instance.webComponentsReactProperties.selectionMode,\n  instance.webComponentsReactProperties.selectionBehavior\n];\n\nconst visibleColumns = (currentVisibleColumns, { instance: { webComponentsReactProperties } }) => {\n  if (\n    webComponentsReactProperties.selectionMode === TableSelectionMode.NONE ||\n    webComponentsReactProperties.selectionBehavior === TableSelectionBehavior.ROW_ONLY\n  ) {\n    return currentVisibleColumns;\n  }\n\n  const selectionColumn = currentVisibleColumns.find(({ id }) => id === '__ui5wcr__internal_selection_column');\n  return [selectionColumn, ...currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_selection_column')];\n};\nconst columns = (currentColumns, { instance }) => {\n  const { webComponentsReactProperties } = instance;\n  const { selectionMode, selectionBehavior, tableRef } = webComponentsReactProperties;\n\n  if (selectionMode === TableSelectionMode.NONE || selectionBehavior === TableSelectionBehavior.ROW_ONLY) {\n    return currentColumns;\n  }\n\n  const selectionColumnWidth = tableRef.current\n    ? parseInt(\n        getComputedStyle(tableRef.current).getPropertyValue(\n          `--${CssSizeVariablesNames.sapWcrAnalyticalTableSelectionColumnWidth}`\n        ),\n        10\n      )\n    : 47;\n  return [\n    {\n      id: '__ui5wcr__internal_selection_column',\n      accessor: '__ui5wcr__internal_selection_column',\n      disableFilters: true,\n      disableSortBy: true,\n      disableGroupBy: true,\n      disableResizing: true,\n      canReorder: false,\n      width: selectionColumnWidth,\n      minWidth: selectionColumnWidth,\n      maxWidth: selectionColumnWidth,\n      Header,\n      Cell\n    },\n    ...currentColumns\n  ];\n};\n\nexport const useRowSelectionColumn = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnDeps);\n  hooks.visibleColumnsDeps.push(visibleColumnsDeps);\n  hooks.visibleColumns.push(visibleColumns);\n};\nuseRowSelectionColumn.pluginName = 'useRowSelectionColumn';\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/lib/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport { useCallback } from 'react';\n\nconst prepareRow = (row, { instance }) => {\n  row.selectSingleRow = (event, selectionCellClick = false) => {\n    instance.selectSingleRow(row, event, selectionCellClick);\n  };\n};\n\nconst getRowProps = (rowProps, { row }) => {\n  return [\n    rowProps,\n    {\n      onClick: row.selectSingleRow\n    }\n  ];\n};\n\nconst tagNamesWhichShouldNotSelectARow = new Set([\n  'UI5-INPUT',\n  'UI5-LINK',\n  'UI5-BUTTON',\n  'UI5-CHECKBOX',\n  'UI5-COMBOBOX',\n  'UI5-DATEPICKER',\n  'UI5-MULTI-COMBOBOX',\n  'UI5-SELECT',\n  'UI5-RADIOBUTTON',\n  'UI5-SEGMENTEDBUTTON',\n  'UI5-SWITCH',\n  'UI5-TOGGLEBUTTON'\n]);\n\nconst useInstance = (instance) => {\n  const { webComponentsReactProperties, dispatch, toggleRowSelected, selectedFlatRows } = instance;\n  const { isTreeTable, selectionMode, onRowSelected, selectionBehavior } = webComponentsReactProperties;\n\n  const selectSingleRow = useCallback(\n    (row, e, selectionCellClick = false) => {\n      if (\n        e.target?.dataset?.name !== 'internal_selection_column' &&\n        !(e.markerAllowTableRowSelection === true || e.nativeEvent?.markerAllowTableRowSelection === true) &&\n        tagNamesWhichShouldNotSelectARow.has(e.target.tagName)\n      ) {\n        return;\n      }\n\n      const isEmptyRow = row.original?.emptyRow;\n      if ([TableSelectionMode.SINGLE_SELECT, TableSelectionMode.MULTI_SELECT].includes(selectionMode) && !isEmptyRow) {\n        if (row.isGrouped || (TableSelectionBehavior.ROW_SELECTOR === selectionBehavior && !selectionCellClick)) {\n          return;\n        }\n        if (isTreeTable) {\n          if (selectionMode === TableSelectionMode.MULTI_SELECT) {\n            dispatch({\n              type: 'SET_SELECTED_ROWS',\n              selectedIds: Object.assign({}, ...selectedFlatRows.map((item) => ({ [item.id]: true })), {\n                [row.id]: !row.isSelected\n              })\n            });\n          } else {\n            dispatch({ type: 'SET_SELECTED_ROWS', selectedIds: { [row.id]: !row.isSelected } });\n          }\n        } else {\n          row.toggleRowSelected();\n        }\n        if (typeof onRowSelected === 'function') {\n          const payload = {\n            row,\n            isSelected: !row.isSelected\n          };\n          const payloadWithFlatRows = {\n            ...payload,\n            selectedFlatRows: !row.isSelected\n              ? [...selectedFlatRows, row]\n              : selectedFlatRows.filter((prevRow) => prevRow.id !== row.id)\n          };\n          onRowSelected(\n            enrichEventWithDetails(e, TableSelectionMode.MULTI_SELECT === selectionMode ? payloadWithFlatRows : payload)\n          );\n        }\n        if (selectionMode === TableSelectionMode.SINGLE_SELECT && !isTreeTable) {\n          selectedFlatRows.forEach(({ id }) => {\n            toggleRowSelected(id, false);\n          });\n        }\n      }\n    },\n    [selectionMode, isTreeTable, dispatch, selectedFlatRows, onRowSelected, toggleRowSelected]\n  );\n\n  Object.assign(instance, { selectSingleRow });\n};\n\nexport const useSingleRowStateSelection = (hooks) => {\n  hooks.useInstance.push(useInstance);\n  hooks.prepareRow.push(prepareRow);\n  hooks.getRowProps.push(getRowProps);\n};\nuseSingleRowStateSelection.pluginName = 'useSingleRowStateSelection';\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/lib/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport { TextAlign } from '@ui5/webcomponents-react/lib/TextAlign';\nimport { VerticalAlign } from '@ui5/webcomponents-react/lib/VerticalAlign';\nimport { getRTL } from '@ui5/webcomponents-base/dist/config/RTL';\nimport { CSSProperties } from 'react';\n\nconst getTableProps = (tableProps, { instance }) => {\n  const { classes } = instance.webComponentsReactProperties;\n  return [\n    tableProps,\n    {\n      className: classes.table\n    }\n  ];\n};\n\nconst getHeaderGroupProps = (headerGroupProps, { instance }) => {\n  const { classes } = instance.webComponentsReactProperties;\n  return [\n    headerGroupProps,\n    {\n      className: classes.tableHeaderRow\n    }\n  ];\n};\n\nconst getHeaderProps = (columnProps, { instance, column }) => {\n  const { classes } = instance.webComponentsReactProperties;\n  const isRTL = getRTL();\n  const lastColumnId = instance.visibleColumns[instance.visibleColumns.length - 1].id;\n  const isLastColumn = column.id === lastColumnId;\n  const style: CSSProperties = {\n    width: column.totalWidth\n  };\n\n  if (instance.state.isScrollable && isLastColumn) {\n    style[isRTL ? 'paddingLeft' : 'paddingRight'] = ThemingParameters.sapScrollBar_Dimension;\n  }\n\n  if (column.id === '__ui5wcr__internal_highlight_column' || column.id === '__ui5wcr__internal_selection_column') {\n    style.padding = 0;\n  }\n\n  return [\n    columnProps,\n    {\n      className: classes.th,\n      column,\n      style: style,\n      id: column.id\n    }\n  ];\n};\n\nconst ROW_SELECTION_ATTRIBUTE = 'data-is-selected';\n\nconst getRowProps = (rowProps, { instance, row }) => {\n  const { webComponentsReactProperties } = instance;\n  const { classes, selectionBehavior, selectionMode, alternateRowColor } = webComponentsReactProperties;\n  const isEmptyRow = row.original?.emptyRow;\n  let className = classes.tr;\n  const rowCanBeSelected =\n    [TableSelectionMode.SINGLE_SELECT, TableSelectionMode.MULTI_SELECT].includes(selectionMode) && !isEmptyRow;\n\n  if (row.isGrouped) {\n    className += ` ${classes.tableGroupHeader}`;\n  }\n\n  if (alternateRowColor && row.index % 2 !== 0) {\n    className += ` ${classes.alternateRowColor}`;\n  }\n\n  const newRowProps = {\n    className,\n    role: 'row',\n    'aria-rowindex': row.index\n  };\n\n  if (rowCanBeSelected) {\n    if (TableSelectionBehavior.ROW_SELECTOR !== selectionBehavior) {\n      newRowProps.className += ` ${classes.trActive}`;\n    }\n    if (row.isSelected) {\n      newRowProps[ROW_SELECTION_ATTRIBUTE] = '';\n    }\n  }\n\n  return [rowProps, newRowProps];\n};\n\nconst getCellProps = (cellProps, { cell: { column }, instance }) => {\n  const columnIndex = instance.visibleColumns.findIndex(({ id }) => id === column.id);\n  const isLastColumn = instance.visibleColumns.length === columnIndex + 1;\n  const { classes } = instance.webComponentsReactProperties;\n  const style: CSSProperties = {};\n\n  switch (column.hAlign) {\n    case TextAlign.Begin:\n      style.justifyContent = 'flex-start';\n      style.textAlign = 'start';\n      break;\n    case TextAlign.Center:\n      style.justifyContent = 'center';\n      style.textAlign = 'center';\n      break;\n    case TextAlign.End:\n      style.justifyContent = 'flex-end';\n      style.textAlign = 'end';\n      break;\n    case TextAlign.Left:\n      style.justifyContent = 'left';\n      style.textAlign = 'left';\n      break;\n    case TextAlign.Right:\n      style.justifyContent = 'right';\n      style.textAlign = 'right';\n      break;\n  }\n  switch (column.vAlign) {\n    case VerticalAlign.Bottom:\n      style.alignItems = 'flex-end';\n      break;\n    case VerticalAlign.Middle:\n      style.alignItems = 'center';\n      break;\n    case VerticalAlign.Top:\n      style.alignItems = 'flex-start';\n      break;\n  }\n\n  let className = classes.tableCell;\n  if (column.className) {\n    className += ` ${column.className}`;\n  }\n\n  if (column.id === '__ui5wcr__internal_highlight_column' || column.id === '__ui5wcr__internal_selection_column') {\n    style.padding = 0;\n  }\n\n  if (isLastColumn && instance.state.isScrollable) {\n    style.width = `calc(${column.totalWidth}px - ${ThemingParameters.sapScrollBar_Dimension})`;\n  } else {\n    style.width = `${column.totalWidth}px`;\n  }\n\n  return [\n    cellProps,\n    {\n      className,\n      style,\n      tabIndex: -1,\n      'aria-colindex': columnIndex + 1 // aria index is 1 based, not 0\n    }\n  ];\n};\n\nexport const useStyling = (hooks) => {\n  hooks.getTableProps.push(getTableProps);\n  hooks.getHeaderGroupProps.push(getHeaderGroupProps);\n  hooks.getHeaderProps.push(getHeaderProps);\n  hooks.getRowProps.push(getRowProps);\n  hooks.getCellProps.push(getCellProps);\n};\nuseStyling.pluginName = 'useStyling';\n","import { useConsolidatedRef } from '@ui5/webcomponents-react-base/lib/useConsolidatedRef';\nimport { RefObject, useEffect, useRef } from 'react';\nimport { AnalyticalTableDomRef } from '../../../interfaces/AnalyticalTableDomRef';\n\nexport const useTableScrollHandles = (ref) => {\n  const analyticalTableRef: RefObject<AnalyticalTableDomRef> = useConsolidatedRef(ref);\n  const reactWindowRef = useRef<any>({});\n\n  useEffect(() => {\n    if (analyticalTableRef.current) {\n      Object.assign(analyticalTableRef.current, {\n        scrollTo: (offset, align) => {\n          if (typeof reactWindowRef.current?.scrollToOffset === 'function') {\n            reactWindowRef.current.scrollToOffset(offset, { align });\n          }\n        },\n        scrollToItem: (index, align) => {\n          if (typeof reactWindowRef.current?.scrollToIndex === 'function') {\n            reactWindowRef.current.scrollToIndex(index, { align });\n          }\n        }\n      });\n    }\n  }, [analyticalTableRef.current, reactWindowRef.current.scrollToIndex, reactWindowRef.current.scrollToOffset]);\n\n  return [analyticalTableRef, reactWindowRef];\n};\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { useCallback } from 'react';\n\nconst getToggleRowExpandedProps = (rowProps, { row, instance }) => {\n  const { onRowExpandChange, isTreeTable } = instance.webComponentsReactProperties;\n  const onClick = useCallback(\n    (e) => {\n      e.stopPropagation();\n      e.persist();\n      row.toggleRowExpanded();\n      let column = null;\n      if (!isTreeTable) {\n        column = row.cells.find((cell) => cell.column.id === row.groupByID).column;\n      }\n\n      onRowExpandChange(enrichEventWithDetails(e, { row, column }));\n    },\n    [row, isTreeTable, onRowExpandChange]\n  );\n  return [\n    rowProps,\n    {\n      onClick\n    }\n  ];\n};\n\nexport const useToggleRowExpand = (hooks) => {\n  hooks.getToggleRowExpandedProps.push(getToggleRowExpandedProps);\n};\nuseToggleRowExpand.pluginName = 'useToggleRowExpand';\n","export function deepCompare(obj1, obj2) {\n  //Loop through properties in object 1\n  if ((!obj1 && obj2) || (obj1 && !obj2)) {\n    return false;\n  }\n  for (let p in obj1) {\n    //Check property exists on both objects\n    if (obj1.hasOwnProperty(p) !== obj2.hasOwnProperty(p)) return false;\n\n    switch (typeof obj1[p]) {\n      //Deep compare objects\n      case 'object':\n        if (!deepCompare(obj1[p], obj2[p])) return false;\n        break;\n      //Compare function code\n      case 'function':\n        if (typeof obj2[p] == 'undefined' || (p != 'compare' && obj1[p].toString() != obj2[p].toString())) return false;\n        break;\n      //Compare values\n      default:\n        if (obj1[p] != obj2[p]) return false;\n    }\n  }\n\n  //Check object 2 for any extra properties\n  for (let p in obj2) {\n    if (typeof obj2[p] !== 'undefined' && typeof obj1[p] === 'undefined') {\n      return false;\n    }\n    // if (typeof (obj1[p]) == 'undefined') return false;\n  }\n  return true;\n}\n","import { deepCompare } from '../util/deepCompare';\n\nexport const stateReducer = (newState, action) => {\n  const { payload } = action;\n  switch (action.type) {\n    case 'SET_GROUP_BY':\n      if (deepCompare(newState.groupBy, payload)) {\n        return newState;\n      }\n      return { ...newState, groupBy: payload };\n    case 'SET_SELECTED_ROWS':\n      if (deepCompare(newState.selectedRowIds, action.selectedIds)) {\n        return newState;\n      }\n      return { ...newState, selectedRowIds: action.selectedIds };\n    case 'TABLE_RESIZE':\n      return { ...newState, tableClientWidth: payload.tableClientWidth };\n    case 'TABLE_SCROLLING_ENABLED':\n      return { ...newState, isScrollable: payload.isScrollable };\n    default:\n      return newState;\n  }\n};\n","import { Title } from '@ui5/webcomponents-react/lib/Title';\nimport React, { FC, isValidElement, ReactNode, ReactText } from 'react';\n\nconst styles = {\n  minHeight: '1.5rem',\n  display: 'flex',\n  alignItems: 'center'\n};\n\nexport interface TitleBarProps {\n  children: ReactText | ReactNode;\n}\n\nexport /**\n * <code>import { TitleBar } from '@ui5/webcomponents-react/lib/TitleBar';</code>\n */\nconst TitleBar: FC<TitleBarProps> = (props) => {\n  const { children } = props;\n  return (\n    <div style={styles}>\n      {typeof children === 'string' && <Title>{children}</Title>}\n      {isValidElement(children) && children}\n    </div>\n  );\n};\n","import { defaultOrderByFn } from 'react-table';\n\nexport const orderByFn = (rows, functions, directions) => {\n  const wrapSortFn = (sortFn, index) => {\n    const desc = directions[index] === false || directions[index] === 'desc';\n\n    return (rowA, rowB) => {\n      if (rowA.original?.emptyRow && !rowB.original?.emptyRow) {\n        return desc ? -1 : 1;\n      }\n      if (!rowA.original?.emptyRow && rowB.original?.emptyRow) {\n        return desc ? 1 : -1;\n      }\n      if (rowA.original?.emptyRow && rowB.original?.emptyRow) {\n        return 0;\n      }\n      return sortFn(rowA, rowB);\n    };\n  };\n\n  const wrappedSortfunctions = functions.map(wrapSortFn);\n\n  return defaultOrderByFn(rows, wrappedSortfunctions, directions);\n};\n","import '@ui5/webcomponents-icons/dist/icons/navigation-down-arrow';\nimport '@ui5/webcomponents-icons/dist/icons/navigation-right-arrow';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/lib/GlobalStyleClasses';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport { Text } from '@ui5/webcomponents-react/lib/Text';\nimport React, { MutableRefObject, useCallback, useRef } from 'react';\nimport { useVirtual } from 'react-virtual';\n\ninterface VirtualTableBodyProps {\n  classes: Record<string, string>;\n  prepareRow: (row: unknown) => void;\n  rows: any[];\n  minRows: number;\n  selectionMode: TableSelectionMode;\n  reactWindowRef: MutableRefObject<any>;\n  isTreeTable: boolean;\n  internalRowHeight: number;\n  tableBodyHeight: number;\n  visibleRows: number;\n  alternateRowColor: boolean;\n  overscanCount: number;\n  totalColumnsWidth: number;\n  infiniteScroll: boolean;\n  infiniteScrollThreshold: number;\n  onLoadMore?: (e?: { detail: { rowCount: number } }) => void;\n}\n\nexport const VirtualTableBody = (props: VirtualTableBodyProps) => {\n  const {\n    classes,\n    prepareRow,\n    rows,\n    minRows,\n    selectionMode,\n    reactWindowRef,\n    isTreeTable,\n    internalRowHeight,\n    tableBodyHeight,\n    visibleRows,\n    overscanCount,\n    totalColumnsWidth,\n    infiniteScroll,\n    infiniteScrollThreshold,\n    onLoadMore\n  } = props;\n\n  const firedInfiniteLoadEvents = useRef(new Set());\n\n  const itemCount = Math.max(minRows, rows.length);\n  const overscan = overscanCount ? overscanCount : Math.floor(visibleRows / 2);\n\n  const parentRef = useRef();\n\n  const rowVirtualizer = useVirtual({\n    size: itemCount,\n    parentRef,\n    estimateSize: React.useCallback(() => internalRowHeight, [internalRowHeight]),\n    overscan\n  });\n\n  reactWindowRef.current = {\n    scrollToOffset: rowVirtualizer.scrollToOffset,\n    scrollToIndex: rowVirtualizer.scrollToIndex\n  };\n\n  const classNames = StyleClassHelper.of(classes.tbody, GlobalStyleClasses.sapScrollBar);\n\n  const lastScrollTop = useRef(0);\n\n  const onScroll = useCallback(\n    (event) => {\n      const scrollOffset = event.target.scrollTop;\n      const isScrollingDown = lastScrollTop.current < scrollOffset;\n      if (isScrollingDown && infiniteScroll) {\n        lastScrollTop.current = scrollOffset;\n        const currentTopRow = Math.floor(scrollOffset / internalRowHeight);\n        if (rows.length - currentTopRow < infiniteScrollThreshold) {\n          if (!firedInfiniteLoadEvents.current.has(rows.length)) {\n            onLoadMore({\n              detail: {\n                rowCount: rows.length\n              }\n            });\n          }\n          firedInfiniteLoadEvents.current.add(rows.length);\n        }\n      }\n    },\n    [\n      infiniteScroll,\n      infiniteScrollThreshold,\n      onLoadMore,\n      rows.length,\n      internalRowHeight,\n      firedInfiniteLoadEvents,\n      lastScrollTop\n    ]\n  );\n\n  const currentlyFocusedCell = useRef<HTMLDivElement>(null);\n  const onTableFocus = useCallback(\n    (e) => {\n      const firstCell: HTMLDivElement = e.target.querySelector(\n        'div[role=\"row\"]:first-child div[role=\"cell\"]:first-child'\n      );\n      if (firstCell) {\n        firstCell.tabIndex = 0;\n        firstCell.focus();\n        currentlyFocusedCell.current = firstCell;\n      }\n    },\n    [currentlyFocusedCell]\n  );\n\n  const onKeyboardNavigation = useCallback(\n    (e) => {\n      if (currentlyFocusedCell.current) {\n        switch (e.key) {\n          case 'ArrowRight': {\n            const newElement = currentlyFocusedCell.current.nextElementSibling as HTMLDivElement;\n            if (newElement) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              newElement.tabIndex = 0;\n              newElement.focus();\n              currentlyFocusedCell.current = newElement;\n            }\n            break;\n          }\n          case 'ArrowLeft': {\n            const newElement = currentlyFocusedCell.current.previousElementSibling as HTMLDivElement;\n            if (newElement) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              newElement.tabIndex = 0;\n              newElement.focus();\n              currentlyFocusedCell.current = newElement;\n            }\n            break;\n          }\n          case 'ArrowDown': {\n            const nextRow = currentlyFocusedCell.current.parentElement.nextElementSibling as HTMLDivElement;\n            if (nextRow) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              const currentColumnIndex = currentlyFocusedCell.current.getAttribute('aria-colindex');\n              const newElement: HTMLDivElement = nextRow.querySelector(`div[aria-colindex=\"${currentColumnIndex}\"]`);\n              newElement.tabIndex = 0;\n              newElement.focus();\n              currentlyFocusedCell.current = newElement;\n            }\n            break;\n          }\n          case 'ArrowUp': {\n            const previousRow = currentlyFocusedCell.current.parentElement.previousElementSibling as HTMLDivElement;\n            if (previousRow) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              const currentColumnIndex = currentlyFocusedCell.current.getAttribute('aria-colindex');\n              const newElement: HTMLDivElement = previousRow.querySelector(\n                `div[aria-colindex=\"${currentColumnIndex}\"]`\n              );\n              newElement.tabIndex = 0;\n              newElement.focus();\n              currentlyFocusedCell.current = newElement;\n            }\n            break;\n          }\n        }\n      }\n    },\n    [currentlyFocusedCell]\n  );\n\n  return (\n    <div\n      className={classNames.valueOf()}\n      ref={parentRef}\n      onScroll={onScroll}\n      style={{\n        height: `${tableBodyHeight}px`,\n        width: `${totalColumnsWidth}px`\n      }}\n    >\n      <div\n        tabIndex={0}\n        onFocus={onTableFocus}\n        onKeyDown={onKeyboardNavigation}\n        style={{\n          height: `${rowVirtualizer.totalSize}px`,\n          width: `${totalColumnsWidth}px`,\n          position: 'relative'\n        }}\n      >\n        {rowVirtualizer.virtualItems.map((virtualRow) => {\n          const row = rows[virtualRow.index];\n          if (!row) {\n            return (\n              <div\n                key={`empty_row_${virtualRow.index}`}\n                className={classes.tr}\n                style={{\n                  height: `${virtualRow.size}px`,\n                  transform: `translateY(${virtualRow.start}px)`\n                }}\n              />\n            );\n          }\n          prepareRow(row);\n          const rowProps = row.getRowProps();\n\n          return (\n            <div\n              {...rowProps}\n              style={{\n                height: `${virtualRow.size}px`,\n                transform: `translateY(${virtualRow.start}px)`\n              }}\n            >\n              {row.cells.map((cell) => {\n                const cellProps = cell.getCellProps();\n                if (row.original?.emptyRow) {\n                  return <div {...cellProps} />;\n                }\n\n                let contentToRender;\n                if (\n                  cell.column.id == '__ui5wcr__internal_highlight_column' ||\n                  cell.column.id === '__ui5wcr__internal_selection_column'\n                ) {\n                  contentToRender = 'Cell';\n                } else if (isTreeTable) {\n                  contentToRender = 'Expandable';\n                } else if (cell.isGrouped) {\n                  contentToRender = 'Grouped';\n                } else if (cell.isAggregated) {\n                  contentToRender = 'Aggregated';\n                } else if (cell.isPlaceholder) {\n                  contentToRender = 'RepeatedValue';\n                } else {\n                  contentToRender = 'Cell';\n                }\n\n                // eslint-disable-next-line react/jsx-key\n                return <div {...cellProps}>{cell.render(contentToRender)}</div>;\n              })}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n","import { createComponentStyles } from '@ui5/webcomponents-react-base/lib/createComponentStyles';\nimport { useDeprecateRenderMethods } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/lib/usePassThroughHtmlProps';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { TableScaleWidthMode } from '@ui5/webcomponents-react/lib/TableScaleWidthMode';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/lib/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport debounce from 'lodash.debounce';\nimport React, {\n  ComponentType,\n  CSSProperties,\n  FC,\n  forwardRef,\n  ReactNode,\n  ReactText,\n  Ref,\n  RefObject,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef\n} from 'react';\nimport {\n  PluginHook,\n  useColumnOrder,\n  useExpanded,\n  useFilters,\n  useGroupBy,\n  useResizeColumns,\n  useRowSelect,\n  useSortBy,\n  useTable\n} from 'react-table';\nimport { AnalyticalTableColumnDefinition } from '../../interfaces/AnalyticalTableColumnDefinition';\nimport { CommonProps } from '../../interfaces/CommonProps';\nimport styles from './AnayticalTable.jss';\nimport { ColumnHeader } from './ColumnHeader';\nimport { DefaultColumn } from './defaults/Column';\nimport { DefaultLoadingComponent } from './defaults/LoadingComponent';\nimport { TablePlaceholder } from './defaults/LoadingComponent/TablePlaceholder';\nimport { DefaultNoDataComponent } from './defaults/NoDataComponent';\nimport { useDragAndDrop } from './hooks/useDragAndDrop';\nimport { useDynamicColumnWidths } from './hooks/useDynamicColumnWidths';\nimport { useRowHighlight } from './hooks/useRowHighlight';\nimport { useRowSelectionColumn } from './hooks/useRowSelectionColumn';\nimport { useSingleRowStateSelection } from './hooks/useSingleRowStateSelection';\nimport { useStyling } from './hooks/useStyling';\nimport { useTableScrollHandles } from './hooks/useTableScrollHandles';\nimport { useToggleRowExpand } from './hooks/useToggleRowExpand';\nimport { stateReducer } from './tableReducer/stateReducer';\nimport { TitleBar } from './TitleBar';\nimport { orderByFn } from './util';\nimport { VirtualTableBody } from './virtualization/VirtualTableBody';\n\nexport interface TableProps extends CommonProps {\n  /**\n   * Please look at the [AnalyticalTableColumnDefinition interface](https://github.com/SAP/ui5-webcomponents-react/blob/master/packages/main/src/interfaces/AnalyticalTableColumnDefinition.ts) for a full list of options.\n   */\n  columns: AnalyticalTableColumnDefinition[];\n  data: object[];\n\n  /**\n   * Component or text of title section of the Table (if not set it will be hidden)\n   */\n  title?: ReactText | ReactNode;\n  /**\n   * Extension section of the Table. If not set, no extension area will be rendered\n   */\n  renderExtension?: () => ReactNode;\n  extension?: ReactNode;\n\n  // appearance\n\n  minRows?: number;\n  visibleRows?: number;\n  loading?: boolean;\n  busyIndicatorEnabled?: boolean;\n  noDataText?: string;\n  rowHeight?: number;\n  alternateRowColor?: boolean;\n  withRowHighlight?: boolean;\n  highlightField?: string;\n\n  // features\n  filterable?: boolean;\n  sortable?: boolean;\n  groupable?: boolean;\n  groupBy?: string[];\n  selectionBehavior?: TableSelectionBehavior;\n  selectionMode?: TableSelectionMode;\n  scaleWidthMode?: TableScaleWidthMode;\n  columnOrder?: object[];\n  infiniteScroll?: boolean;\n  infiniteScrollThreshold?: number;\n\n  // events\n\n  onSort?: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  onGroup?: (e: CustomEvent<{ column: unknown; groupedColumns: string[] }>) => void;\n  onRowSelected?: (e?: CustomEvent<{ allRowsSelected?: boolean; row?: unknown; isSelected?: boolean }>) => any;\n  onRowExpandChange?: (e?: CustomEvent<{ row: unknown; column: unknown }>) => any;\n  onColumnsReordered?: (e?: CustomEvent<{ columnsNewOrder: string[]; column: unknown }>) => void;\n  onLoadMore?: (e?: { detail: { rowCount: number } }) => void;\n  /**\n   * additional options which will be passed to [react-table´s useTable hook](https://github.com/tannerlinsley/react-table/blob/master/docs/api/useTable.md#table-options)\n   */\n  reactTableOptions?: object;\n  tableHooks?: PluginHook<any>[];\n  subRowsKey?: string;\n  selectedRowIds?: { [key: string]: boolean };\n  isTreeTable?: boolean;\n  overscanCount?: number;\n\n  // default components\n  NoDataComponent?: ComponentType<any>;\n  LoadingComponent?: ComponentType<any>;\n}\n\nconst useStyles = createComponentStyles(styles, { name: 'AnalyticalTable' });\n\n/**\n * <code>import { AnalyticalTable } from '@ui5/webcomponents-react/lib/AnalyticalTable';</code><br />\n * <br />\n * ### Usage Notes\n * By default, the `AnalyticalTable` will not select any rows after clicking on active elements like a `Button`, `Link`,\n * etc. <br />\n * In case you want to select the row anyways, you can \"mark\" the event to allow such a behaviour. <br />\n * Example: `<Link onClick={(e) => {e.markerAllowTableRowSelection = true;}>My Link Text</Link>`\n */\nconst AnalyticalTable: FC<TableProps> = forwardRef((props: TableProps, ref: Ref<HTMLDivElement>) => {\n  const {\n    columns,\n    className,\n    style,\n    tooltip,\n    title,\n    loading,\n    groupBy,\n    selectionMode,\n    selectionBehavior,\n    onRowSelected,\n    onSort,\n    reactTableOptions,\n    tableHooks,\n    busyIndicatorEnabled,\n    subRowsKey,\n    onGroup,\n    rowHeight,\n    selectedRowIds,\n    LoadingComponent,\n    onRowExpandChange,\n    noDataText,\n    NoDataComponent,\n    visibleRows,\n    minRows,\n    isTreeTable,\n    alternateRowColor,\n    overscanCount,\n    scaleWidthMode,\n    withRowHighlight,\n    highlightField = 'status',\n    groupable,\n    sortable,\n    filterable,\n    infiniteScroll,\n    infiniteScrollThreshold = 20,\n    onLoadMore\n  } = props;\n\n  const classes = useStyles();\n\n  const [analyticalTableRef, reactWindowRef] = useTableScrollHandles(ref);\n  const tableRef: RefObject<HTMLDivElement> = useRef();\n  const extension = useDeprecateRenderMethods(props, 'renderExtension', 'extension');\n\n  const getSubRows = useCallback((row) => row[subRowsKey] || [], [subRowsKey]);\n\n  const data = useMemo(() => {\n    if (minRows > props.data.length) {\n      const missingRows: number = minRows - props.data.length;\n      const emptyRows = Array.from({ length: missingRows }, (v, i) => i).map(() => ({ emptyRow: true }));\n\n      return [...props.data, ...emptyRows];\n    }\n    return props.data;\n  }, [props.data, minRows]);\n\n  const {\n    getTableProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    state: tableState,\n    columns: tableInternalColumns,\n    setColumnOrder,\n    dispatch,\n    totalColumnsWidth,\n    selectedFlatRows\n  } = useTable(\n    {\n      columns,\n      data,\n      defaultColumn: DefaultColumn,\n      orderByFn,\n      getSubRows,\n      stateReducer,\n      disableFilters: !filterable,\n      disableSortBy: !sortable,\n      disableGroupBy: !groupable,\n      webComponentsReactProperties: {\n        tableRef,\n        selectionMode,\n        selectionBehavior,\n        classes,\n        onRowSelected,\n        onRowExpandChange,\n        isTreeTable,\n        alternateRowColor,\n        scaleWidthMode,\n        loading,\n        withRowHighlight,\n        highlightField\n      },\n      ...reactTableOptions\n    },\n    useFilters,\n    useGroupBy,\n    useColumnOrder,\n    useSortBy,\n    useExpanded,\n    useRowSelect,\n    useResizeColumns,\n    useRowSelectionColumn,\n    useSingleRowStateSelection,\n    useRowHighlight,\n    useDynamicColumnWidths,\n    useStyling,\n    useToggleRowExpand,\n    ...tableHooks\n  );\n  // scroll bar detection\n  useEffect(() => {\n    const visibleRowCount = rows.length < visibleRows ? Math.max(rows.length, minRows) : visibleRows;\n    dispatch({ type: 'TABLE_SCROLLING_ENABLED', payload: { isScrollable: rows.length > visibleRowCount } });\n  }, [rows.length, minRows, visibleRows]);\n\n  const updateTableClientWidth = useCallback(() => {\n    if (tableRef.current) {\n      dispatch({ type: 'TABLE_RESIZE', payload: { tableClientWidth: tableRef.current.clientWidth } });\n    }\n  }, []);\n\n  useEffect(() => {\n    // @ts-ignore\n    const tableWidthObserver = new ResizeObserver(debounce(updateTableClientWidth, 500));\n    tableWidthObserver.observe(tableRef.current);\n    return () => {\n      tableWidthObserver.disconnect();\n    };\n  }, [updateTableClientWidth]);\n\n  useEffect(() => {\n    updateTableClientWidth();\n  }, [updateTableClientWidth]);\n\n  useEffect(() => {\n    dispatch({ type: 'SET_GROUP_BY', payload: groupBy });\n  }, [groupBy, dispatch]);\n\n  useEffect(() => {\n    dispatch({ type: 'SET_SELECTED_ROWS', selectedIds: selectedRowIds });\n  }, [selectedRowIds, dispatch]);\n\n  const calcRowHeight = parseInt(\n    getComputedStyle(tableRef.current ?? document.body).getPropertyValue('--sapWcrAnalyticalTableRowHeight') || '44'\n  );\n\n  const internalRowHeight = rowHeight ?? calcRowHeight;\n\n  const tableBodyHeight = useMemo(() => {\n    const rowNum = rows.length < visibleRows ? Math.max(rows.length, minRows) : visibleRows;\n    return internalRowHeight * rowNum;\n  }, [internalRowHeight, rows.length, visibleRows, minRows]);\n\n  const noDataStyles = useMemo(() => {\n    return {\n      height: `${tableBodyHeight}px`,\n      width: `${totalColumnsWidth}px`\n    };\n  }, [tableBodyHeight, totalColumnsWidth]);\n\n  const onGroupByChanged = useCallback(\n    (e) => {\n      const { column, isGrouped } = e.detail;\n      let groupedColumns = [];\n      if (isGrouped) {\n        groupedColumns = [...tableState.groupBy, column.id];\n      } else {\n        groupedColumns = tableState.groupBy.filter((group) => group !== column.id);\n      }\n      dispatch({ type: 'SET_GROUP_BY', payload: groupedColumns });\n      onGroup(\n        enrichEventWithDetails(e, {\n          column,\n          groupedColumns\n        })\n      );\n    },\n    [tableState.groupBy, onGroup, dispatch]\n  );\n\n  const [dragOver, handleDragEnter, handleDragStart, handleDragOver, handleOnDrop, handleOnDragEnd] = useDragAndDrop(\n    props,\n    setColumnOrder,\n    tableState.columnOrder,\n    tableState.columnResizing,\n    tableInternalColumns\n  );\n\n  const passThroughProps = usePassThroughHtmlProps(props, [\n    'onSort',\n    'onGroup',\n    'onRowSelected',\n    'onRowExpandChange',\n    'onColumnsReordered',\n    'onLoadMore'\n  ]);\n\n  const inlineStyle = useMemo(() => {\n    const tableStyles = {\n      maxWidth: '100%',\n      overflowX: 'auto'\n    };\n    if (!!rowHeight) {\n      tableStyles['--sapWcrAnalyticalTableRowHeight'] = `${rowHeight}px`;\n    }\n\n    if (tableState.tableClientWidth > 0) {\n      return {\n        ...tableStyles,\n        ...style\n      } as CSSProperties;\n    }\n    return {\n      ...tableStyles,\n      ...style,\n      visibility: 'hidden'\n    } as CSSProperties;\n  }, [tableState.tableClientWidth, style, rowHeight]);\n\n  return (\n    <div className={className} style={inlineStyle} title={tooltip} ref={analyticalTableRef} {...passThroughProps}>\n      {title && <TitleBar>{title}</TitleBar>}\n      {extension && <div>{extension}</div>}\n      <div\n        {...getTableProps()}\n        role=\"grid\"\n        aria-rowcount={rows.length}\n        aria-colcount={tableInternalColumns.length}\n        data-per-page={visibleRows}\n        ref={tableRef}\n      >\n        {headerGroups.map((headerGroup) => {\n          let headerProps = {};\n          if (headerGroup.getHeaderGroupProps) {\n            headerProps = headerGroup.getHeaderGroupProps();\n          }\n          return (\n            // eslint-disable-next-line react/jsx-key\n            <header {...headerProps} role=\"rowgroup\">\n              {headerGroup.headers.map((column) => (\n                // eslint-disable-next-line react/jsx-key\n                <ColumnHeader\n                  {...column.getHeaderProps()}\n                  onSort={onSort}\n                  onGroupBy={onGroupByChanged}\n                  onDragStart={handleDragStart}\n                  onDragOver={handleDragOver}\n                  onDrop={handleOnDrop}\n                  onDragEnter={handleDragEnter}\n                  onDragEnd={handleOnDragEnd}\n                  dragOver={column.id === dragOver}\n                  isDraggable={!isTreeTable && column.canReorder}\n                >\n                  {column.render('Header')}\n                </ColumnHeader>\n              ))}\n            </header>\n          );\n        })}\n        {loading && busyIndicatorEnabled && props.data?.length > 0 && (\n          <LoadingComponent style={{ width: `${totalColumnsWidth}px` }} />\n        )}\n        {loading && props.data?.length === 0 && (\n          <TablePlaceholder\n            columns={tableInternalColumns.filter(\n              (col) => (col.isVisible ?? true) && !tableState.hiddenColumns.includes(col.accessor)\n            )}\n            rows={props.minRows}\n            style={noDataStyles}\n            rowHeight={internalRowHeight}\n            tableWidth={totalColumnsWidth}\n          />\n        )}\n        {!loading && props.data?.length === 0 && (\n          <NoDataComponent noDataText={noDataText} className={classes.noDataContainer} style={noDataStyles} />\n        )}\n        {props.data?.length > 0 && (\n          <VirtualTableBody\n            classes={classes}\n            prepareRow={prepareRow}\n            rows={rows}\n            minRows={minRows}\n            selectionMode={selectionMode}\n            reactWindowRef={reactWindowRef}\n            isTreeTable={isTreeTable}\n            internalRowHeight={internalRowHeight}\n            tableBodyHeight={tableBodyHeight}\n            visibleRows={visibleRows}\n            alternateRowColor={alternateRowColor}\n            overscanCount={overscanCount}\n            totalColumnsWidth={totalColumnsWidth}\n            infiniteScroll={infiniteScroll}\n            infiniteScrollThreshold={infiniteScrollThreshold}\n            onLoadMore={onLoadMore}\n          />\n        )}\n      </div>\n    </div>\n  );\n});\n\nAnalyticalTable.displayName = 'AnalyticalTable';\nAnalyticalTable.defaultProps = {\n  loading: false,\n  busyIndicatorEnabled: true,\n  sortable: true,\n  filterable: false,\n  groupable: false,\n  selectionMode: TableSelectionMode.NONE,\n  selectionBehavior: TableSelectionBehavior.ROW,\n  scaleWidthMode: TableScaleWidthMode.Default,\n  data: [],\n  columns: [],\n  title: null,\n  minRows: 5,\n  groupBy: [],\n  NoDataComponent: DefaultNoDataComponent,\n  LoadingComponent: DefaultLoadingComponent,\n  noDataText: 'No Data',\n  reactTableOptions: {},\n  tableHooks: [],\n  visibleRows: 15,\n  subRowsKey: 'subRows',\n  selectedRowIds: {},\n  onGroup: () => {},\n  onRowExpandChange: () => {},\n  onColumnsReordered: () => {},\n  isTreeTable: false,\n  alternateRowColor: false\n};\n\nexport { AnalyticalTable };\n"],"names":["styles","table","position","width","maxWidth","overflowY","overflowX","height","minHeight","fontFamily","ThemingParameters","sapFontFamily","fontSize","sapFontSize","fontWeight","tableHeaderRow","CssSizeVariables","sapWcrAnalyticalTableRowHeight","display","th","backgroundColor","sapList_HeaderBackground","color","sapList_HeaderTextColor","borderTop","sapList_BorderColor","borderBottom","borderRight","padding","textAlign","boxSizing","borderLeft","transform","tbody","sapList_Background","alternateRowColor","sapList_AlternatingBackground","tr","top","left","sapList_TextColor","sapList_Hover_Background","sapList_SelectionBorderColor","sapList_SelectionBackgroundColor","sapList_Hover_SelectionBackground","trActive","cursor","sapList_Active_Background","sapList_Active_TextColor","tableGroupHeader","sapList_TableGroupHeaderBackground","border","sapList_TableGroupHeaderBorderColor","tableCell","overflow","textOverflow","whiteSpace","alignItems","outlineOffset","outline","sapContent_FocusColor","noDataContainer","justifyContent","staticStyle","ColumnHeaderModal","forwardRef","props","ref","column","onSort","onGroupBy","showFilter","canFilter","showGroup","canGroupBy","showSort","canSort","Filter","i18nBundle","useI18nBundle","handleSort","useCallback","e","sortType","detail","item","getAttribute","toggleSortBy","enrichEventWithDetails","sortDirection","clearSortBy","willGroup","isGrouped","toggleGroupBy","current","close","isSortedAscending","isSorted","isSortedDesc","isSortedDescending","PopoverHorizontalAlign","Left","PlacementType","Bottom","ListItemTypes","Active","getText","CLEAR_SORTING","SORT_ASCENDING","SORT_DESCENDING","FlexBoxAlignItems","Center","paddingRight","minWidth","UNGROUP","GROUP","displayName","header","background","text","iconContainer","sapContent_IconColor","right","getRTL","undefined","resizer","zIndex","useStyles","createComponentStyles","name","ColumnHeader","classes","id","children","className","style","onDragEnter","onDragOver","onDragStart","onDrop","onDragEnd","isDraggable","dragOver","role","isFiltered","filterValue","length","sortingIcon","filterIcon","groupingIcon","textStyle","useMemo","margin","marginLeft","marginRight","hasPopover","innerStyle","modifiedStyles","sapSelectedColor","popoverRef","useRef","onOpenPopover","openBy","target","hAlign","canResize","getResizerProps","DefaultFilterComponent","handleChange","setFilter","value","Cell","cell","row","cellContent","subRows","tableGroupExpandCollapseIcon","getPadding","level","sapWcrAnalyticalTableTreePaddingLevel1","sapWcrAnalyticalTableTreePaddingLevel2","sapWcrAnalyticalTableTreePaddingLevel3","Expandable","columns","tableColumns","filter","columnIndex","findIndex","col","paddingLeft","canExpand","depth","getToggleRowExpandedProps","isExpanded","render","Grouped","TextAlign","Begin","RepeatedValue","DEFAULT_COLUMN_WIDTH","defaultFilterMethod","RegExp","test","String","DefaultColumn","canReorder","vAlign","VerticalAlign","Middle","defaultFilter","DefaultLoadingComponent","getArrayOfLength","len","Array","from","keys","TableRow","y","columnOffset","map","i","el","totalWidth","TablePlaceholder","rows","rowHeight","tableWidth","innerStyles","sapContent_ImagePlaceholderBackground","sapContent_ImagePlaceholderForegroundColor","sapContent_DisabledOpacity","_","index","DefaultNoDataComponent","noDataText","getColumnId","accessor","useDragAndDrop","setColumnOrder","columnOrder","resizeInfo","onColumnsReordered","useState","setDragOver","handleDragStart","isResizingColumn","preventDefault","dataTransfer","setData","currentTarget","dataset","columnId","handleDragOver","handleDragEnter","handleOnDrop","droppedColId","draggedColId","getData","internalColumnOrder","droppedColIdx","draggedColIdx","tempCols","splice","columnsNewOrder","tempColId","find","handleOnDragEnd","ROW_SAMPLE_SIZE","DEFAULT_HEADER_NUM_CHAR","MAX_WIDTH","approximateHeaderPxFromCharLength","charLength","Math","sqrt","approximateContentPxFromCharLength","columnsDeps","deps","instance","state","webComponentsReactProperties","tableClientWidth","scaleWidthMode","loading","hiddenColumns","visibleColumns","Boolean","isVisible","includes","calculateDefaultTableWidth","columnsWithFixedWidth","fixedWidth","reduce","acc","val","defaultColumnsCount","hasData","some","original","emptyRow","TableScaleWidthMode","Default","defaultWidth","rowSample","slice","columnMeta","minHeaderWidth","fullWidth","contentCharAvg","headerLength","Header","contentMaxCharLength","max","dataPoint","values","totalCharNum","Object","reservedWidth","Grow","availableWidth","Smart","isColumnVisible","additionalSpaceFactor","targetWidth","useDynamicColumnWidths","hooks","push","baseStyles","StyleMap","Map","set","ValueState","None","Success","sapSuccessColor","Warning","sapWarningColor","Error","sapErrorColor","Information","sapInformationColor","get","withRowHighlight","highlightField","visibleColumnsDeps","currentVisibleColumns","highlightColumn","currentColumns","disableFilters","disableSortBy","disableGroupBy","disableResizing","useRowHighlight","pluginName","divStyle","customCheckBoxStyling","verticalAlign","getToggleAllRowsSelectedProps","flatRows","onRowSelected","selectionMode","toggleAllRowsSelected","onChange","allRowsSelected","checked","selectedFlatRows","TableSelectionMode","SINGLE_SELECT","selectionBehavior","handleCellClick","TableSelectionBehavior","ROW_SELECTOR","getRowProps","onClick","getToggleRowSelectedProps","columnDeps","NONE","ROW_ONLY","selectionColumn","tableRef","selectionColumnWidth","parseInt","getComputedStyle","getPropertyValue","CssSizeVariablesNames","sapWcrAnalyticalTableSelectionColumnWidth","useRowSelectionColumn","prepareRow","selectSingleRow","event","selectionCellClick","rowProps","tagNamesWhichShouldNotSelectARow","Set","useInstance","dispatch","toggleRowSelected","isTreeTable","markerAllowTableRowSelection","nativeEvent","has","tagName","isEmptyRow","MULTI_SELECT","type","selectedIds","assign","isSelected","payload","payloadWithFlatRows","prevRow","forEach","useSingleRowStateSelection","getTableProps","tableProps","getHeaderGroupProps","headerGroupProps","getHeaderProps","columnProps","isRTL","lastColumnId","isLastColumn","isScrollable","sapScrollBar_Dimension","ROW_SELECTION_ATTRIBUTE","rowCanBeSelected","newRowProps","getCellProps","cellProps","End","Right","Top","tabIndex","useStyling","useTableScrollHandles","analyticalTableRef","useConsolidatedRef","reactWindowRef","useEffect","scrollTo","offset","align","scrollToOffset","scrollToItem","scrollToIndex","onRowExpandChange","stopPropagation","persist","toggleRowExpanded","cells","groupByID","useToggleRowExpand","deepCompare","obj1","obj2","p","hasOwnProperty","toString","stateReducer","newState","action","groupBy","selectedRowIds","TitleBar","isValidElement","orderByFn","functions","directions","wrapSortFn","sortFn","desc","rowA","rowB","wrappedSortfunctions","defaultOrderByFn","VirtualTableBody","minRows","internalRowHeight","tableBodyHeight","visibleRows","overscanCount","totalColumnsWidth","infiniteScroll","infiniteScrollThreshold","onLoadMore","firedInfiniteLoadEvents","itemCount","overscan","floor","parentRef","rowVirtualizer","useVirtual","size","estimateSize","React","classNames","StyleClassHelper","of","GlobalStyleClasses","sapScrollBar","lastScrollTop","onScroll","scrollOffset","scrollTop","isScrollingDown","currentTopRow","rowCount","add","currentlyFocusedCell","onTableFocus","firstCell","querySelector","focus","onKeyboardNavigation","key","newElement","nextElementSibling","previousElementSibling","nextRow","parentElement","currentColumnIndex","previousRow","valueOf","totalSize","virtualItems","virtualRow","start","contentToRender","isAggregated","isPlaceholder","AnalyticalTable","tooltip","title","reactTableOptions","tableHooks","busyIndicatorEnabled","subRowsKey","onGroup","LoadingComponent","NoDataComponent","groupable","sortable","filterable","extension","useDeprecateRenderMethods","getSubRows","data","missingRows","emptyRows","v","useTable","defaultColumn","useFilters","useGroupBy","useColumnOrder","useSortBy","useExpanded","useRowSelect","useResizeColumns","headerGroups","tableState","tableInternalColumns","visibleRowCount","updateTableClientWidth","clientWidth","tableWidthObserver","ResizeObserver","debounce","observe","disconnect","calcRowHeight","document","body","rowNum","noDataStyles","onGroupByChanged","groupedColumns","group","columnResizing","passThroughProps","usePassThroughHtmlProps","inlineStyle","tableStyles","visibility","headerGroup","headerProps","headers","defaultProps","ROW"],"mappings":"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"}