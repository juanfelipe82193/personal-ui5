{"version":3,"file":"SideNavigationListItem.js","sources":["../src/components/SideNavigationListItem/SideNavigationListItem.jss.ts","../src/components/SideNavigationListItem/index.tsx"],"sourcesContent":["import { CssSizeVariables } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\n\nexport const sideNavigationListItemStyles = {\n  listItem: {\n    '&:active': {\n      '--sapTextColor': ThemingParameters.sapList_Active_TextColor,\n      '& $icon, & $expandArrow': {\n        '--sapContent_NonInteractiveIconColor': ThemingParameters.sapList_Active_TextColor\n      }\n    }\n  },\n\n  noIcons: {\n    '& $text': {\n      paddingLeft: '1rem'\n    },\n    '&[data-is-child] $text': {\n      paddingLeft: '2rem'\n    },\n    boxSizing: 'border-box'\n  },\n\n  icon: {\n    '--sapContent_NonInteractiveIconColor': ThemingParameters.sapContent_IconColor,\n    width: CssSizeVariables.sapWcrSideNavigationItemIconSize,\n    height: CssSizeVariables.sapWcrSideNavigationItemIconSize,\n    padding: CssSizeVariables.sapWcrSideNavigationItemIconPadding,\n    pointerEvents: 'none'\n  },\n\n  text: {},\n\n  expandArrow: {\n    '--sapContent_NonInteractiveIconColor': ThemingParameters.sapContent_IconColor,\n    width: '0.875rem',\n    height: '0.875rem',\n    padding: CssSizeVariables.sapWcrSideNavigationItemExpandedArrowPadding,\n    marginLeft: 'auto'\n  },\n\n  expanded: {\n    '--ui5-listitem-border-bottom': 'none'\n  },\n\n  condensedExpandTriangle: {\n    width: '0',\n    height: '0',\n    borderStyle: 'solid',\n    borderWidth: '0 0 6px 6px',\n    borderColor: `transparent transparent ${ThemingParameters.sapContent_IconColor} transparent`,\n    position: 'absolute',\n    right: '0.125rem',\n    bottom: '0.1875rem'\n  }\n};\n","import '@ui5/webcomponents-icons/dist/icons/navigation-down-arrow.js';\nimport '@ui5/webcomponents-icons/dist/icons/navigation-right-arrow.js';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/lib/usePassThroughHtmlProps';\nimport { CustomListItem } from '@ui5/webcomponents-react/lib/CustomListItem';\nimport { Icon } from '@ui5/webcomponents-react/lib/Icon';\nimport { List } from '@ui5/webcomponents-react/lib/List';\nimport { Popover } from '@ui5/webcomponents-react/lib/Popover';\nimport { PopoverVerticalAlign } from '@ui5/webcomponents-react/lib/PopoverVerticalAlign';\nimport { SideNavigationOpenState } from '@ui5/webcomponents-react/lib/SideNavigationOpenState';\nimport { StandardListItem } from '@ui5/webcomponents-react/lib/StandardListItem';\nimport { Text } from '@ui5/webcomponents-react/lib/Text';\nimport React, {\n  Children,\n  cloneElement,\n  FC,\n  forwardRef,\n  ReactNode,\n  ReactNodeArray,\n  Ref,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\nimport { createPortal } from 'react-dom';\nimport { createComponentStyles } from '@ui5/webcomponents-react-base/lib/createComponentStyles';\nimport { CommonProps } from '../../interfaces/CommonProps';\nimport { sideNavigationListItemStyles } from './SideNavigationListItem.jss';\n\nexport interface SideNavigationListItemProps extends CommonProps {\n  icon?: string;\n  text: string;\n  id: number | string;\n  children?: ReactNode | ReactNodeArray;\n}\n\nconst useStyles = createComponentStyles(sideNavigationListItemStyles, {\n  name: 'SideNavigationListItem'\n});\n/**\n * <code>import { SideNavigationListItem } from '@ui5/webcomponents-react/lib/SideNavigationListItem';</code>\n */\nconst SideNavigationListItem: FC<SideNavigationListItemProps> = forwardRef(\n  (props: SideNavigationListItemProps, ref: Ref<HTMLDivElement>) => {\n    const { icon, text, id, children, tooltip, slot, className, style } = props;\n\n    const [isExpanded, setExpanded] = useState(false);\n\n    const handleToggleExpand = useCallback(() => {\n      setExpanded(!isExpanded);\n    }, [isExpanded, setExpanded]);\n\n    const classes = useStyles();\n\n    const listItemClasses = StyleClassHelper.of(classes.listItem);\n\n    if (className) {\n      listItemClasses.put(className);\n    }\n\n    if (isExpanded) {\n      listItemClasses.put(classes.expanded);\n    }\n\n    const noIcons = props['noIcons'];\n    if (noIcons) {\n      listItemClasses.put(classes.noIcons);\n    }\n\n    const childCount = Children.count(children);\n    const validChildren = Children.toArray(children).filter(Boolean);\n\n    const isOpenStateExpanded = props['openState'] === SideNavigationOpenState.Expanded;\n\n    useEffect(() => {\n      if (validChildren.length) {\n        const selectedElement = validChildren.find((child: any) => child.props.id === props['selectedId']);\n        if (selectedElement) {\n          setExpanded(isOpenStateExpanded);\n        }\n      }\n    }, [props['selectedId'], id, children, setExpanded, isOpenStateExpanded]);\n\n    const isSelfSelected = props['selectedId'] === id;\n    const hasSelectedChild =\n      !isOpenStateExpanded &&\n      childCount > 0 &&\n      !!validChildren.find((child: any) => child.props.id === props['selectedId']);\n\n    const passThroughProps = usePassThroughHtmlProps(props);\n\n    const customListItemCommonProps = {\n      ref,\n      className: listItemClasses.valueOf(),\n      tooltip,\n      slot,\n      style,\n      'data-id': id,\n      'data-has-children': childCount > 0,\n      'data-is-child': props['isChild'],\n      ...passThroughProps\n    };\n\n    const popoverRef = useRef();\n\n    const displayedIcon = useMemo(() => {\n      return <Icon name={icon} className={classes.icon} />;\n    }, [classes.icon, icon]);\n\n    const handleOpenPopover = useCallback(\n      (e) => {\n        // @ts-ignore\n        popoverRef.current.openBy(e.target);\n      },\n      [popoverRef.current]\n    );\n\n    if (isOpenStateExpanded) {\n      return (\n        <>\n          <CustomListItem selected={isSelfSelected} {...customListItemCommonProps}>\n            {icon && !noIcons && displayedIcon}\n            {!icon && !noIcons && <span className={classes.icon} />}\n            <Text className={classes.text}>{text}</Text>\n            {childCount > 0 && (\n              <span onClick={handleToggleExpand} className={classes.expandArrow}>\n                <Icon name={isExpanded ? 'navigation-down-arrow' : 'navigation-right-arrow'} />\n              </span>\n            )}\n          </CustomListItem>\n          {isExpanded &&\n            validChildren.map((child: any, index: number) => {\n              const style = child.props.style || {};\n              if (index !== childCount - 1) {\n                style['--ui5-listitem-border-bottom'] = 'none';\n              }\n\n              return cloneElement(child, {\n                icon: null,\n                style,\n                openState: props['openState'],\n                selectedId: props['selectedId'],\n                noIcons,\n                isChild: true\n              });\n            })}\n        </>\n      );\n    }\n\n    return (\n      <>\n        <CustomListItem selected={isSelfSelected || hasSelectedChild} {...customListItemCommonProps}>\n          {childCount > 0 ? (\n            <span onClick={handleOpenPopover}>\n              {displayedIcon}\n              <div className={classes.condensedExpandTriangle} />\n              {createPortal(\n                <Popover ref={popoverRef} verticalAlign={PopoverVerticalAlign.Top}>\n                  <List onItemClick={props['onListItemSelected']}>\n                    <StandardListItem selected={isSelfSelected} data-id={id} tooltip={tooltip}>\n                      {text}\n                    </StandardListItem>\n                    {validChildren.map((child: any, index) => (\n                      <StandardListItem\n                        selected={props['selectedId'] === child.props.id}\n                        key={index}\n                        data-id={child.props.id}\n                        data-parent-id={id}\n                        tooltip={child.props.tooltip || child.props.text}\n                      >\n                        {child.props.text}\n                      </StandardListItem>\n                    ))}\n                  </List>\n                </Popover>,\n                document.body\n              )}\n            </span>\n          ) : (\n            displayedIcon\n          )}\n        </CustomListItem>\n      </>\n    );\n  }\n);\n\nSideNavigationListItem.displayName = 'SideNavigationListItem';\n\nSideNavigationListItem.defaultProps = {};\n\nexport { SideNavigationListItem };\n"],"names":["sideNavigationListItemStyles","listItem","ThemingParameters","sapList_Active_TextColor","noIcons","paddingLeft","boxSizing","icon","sapContent_IconColor","width","CssSizeVariables","sapWcrSideNavigationItemIconSize","height","padding","sapWcrSideNavigationItemIconPadding","pointerEvents","text","expandArrow","sapWcrSideNavigationItemExpandedArrowPadding","marginLeft","expanded","condensedExpandTriangle","borderStyle","borderWidth","borderColor","position","right","bottom","useStyles","createComponentStyles","name","SideNavigationListItem","forwardRef","props","ref","id","children","tooltip","slot","className","style","useState","isExpanded","setExpanded","handleToggleExpand","useCallback","classes","listItemClasses","StyleClassHelper","of","put","childCount","Children","count","validChildren","toArray","filter","Boolean","isOpenStateExpanded","SideNavigationOpenState","Expanded","useEffect","length","selectedElement","find","child","isSelfSelected","hasSelectedChild","passThroughProps","usePassThroughHtmlProps","customListItemCommonProps","valueOf","popoverRef","useRef","displayedIcon","useMemo","handleOpenPopover","e","current","openBy","target","map","index","cloneElement","openState","selectedId","isChild","createPortal","PopoverVerticalAlign","Top","document","body","displayName","defaultProps"],"mappings":"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"}