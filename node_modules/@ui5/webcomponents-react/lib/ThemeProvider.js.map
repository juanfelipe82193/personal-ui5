{"version":3,"file":"ThemeProvider.js","sources":["../src/components/ThemeProvider/GlobalStyleClasses.jss.ts","../src/components/ThemeProvider/index.tsx"],"sourcesContent":["import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/lib/GlobalStyleClasses';\n\nexport const GlobalStyleClassesStyles = {\n  '@global': {\n    [`.${GlobalStyleClasses.sapScrollBar}`]: {\n      '&::-webkit-scrollbar': {\n        backgroundColor: ThemingParameters.sapScrollBar_TrackColor,\n        width: ThemingParameters.sapScrollBar_Dimension\n      },\n      '&::-webkit-scrollbar-thumb': {\n        backgroundColor: ThemingParameters.sapScrollBar_FaceColor,\n        width: ThemingParameters.sapScrollBar_Dimension,\n        borderRadius: '0.25rem',\n        '&:hover': {\n          backgroundColor: ThemingParameters.sapScrollBar_Hover_FaceColor\n        }\n      },\n      '&::-webkit-scrollbar-corner': {\n        backgroundColor: ThemingParameters.sapScrollBar_TrackColor\n      }\n    }\n  }\n};\n","import { getRTL } from '@ui5/webcomponents-base/dist/config/RTL';\nimport { getTheme } from '@ui5/webcomponents-base/dist/config/Theme';\nimport { createComponentStyles } from '@ui5/webcomponents-react-base/lib/createComponentStyles';\nimport { cssVariablesStyles } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { ContentDensity } from '@ui5/webcomponents-react/lib/ContentDensity';\nimport React, { FC, ReactNode, useEffect, useMemo } from 'react';\nimport { ThemeProvider as ReactJssThemeProvider } from 'react-jss';\nimport { JSSTheme } from '../../interfaces/JSSTheme';\nimport { GlobalStyleClassesStyles } from './GlobalStyleClasses.jss';\n\nconst useStyles = createComponentStyles(GlobalStyleClassesStyles);\n\ndeclare global {\n  interface Window {\n    CSSVarsPonyfill: {\n      cssVars: (options: any) => void;\n    };\n  }\n}\n\nconst cssVarsPonyfillNeeded = () => !!window.CSSVarsPonyfill;\n\nexport interface ThemeProviderProps {\n  children: ReactNode;\n}\n\n// inject the size variables first before the ThemeProvider Component is mounted, otherwise there will be some flickering\nif (!document.querySelector('style[data-ui5-webcomponents-react-sizes]')) {\n  const variables = document.createElement('style');\n  variables.setAttribute('data-ui5-webcomponents-react-sizes', '');\n  variables.innerHTML = cssVariablesStyles;\n  document.head.appendChild(variables);\n}\n\n/**\n * <code>import { ThemeProvider } from '@ui5/webcomponents-react/lib/ThemeProvider';</code>\n */\nconst ThemeProvider: FC<ThemeProviderProps> = (props: ThemeProviderProps) => {\n  const { children } = props;\n  const isCompactSize = document.body.classList.contains('ui5-content-density-compact');\n  useStyles();\n  useI18nBundle('@ui5/webcomponents-react');\n\n  const theme = getTheme();\n\n  const themeContext: JSSTheme = useMemo(() => {\n    return {\n      theme,\n      contentDensity: isCompactSize ? ContentDensity.Compact : ContentDensity.Cozy,\n      parameters: ThemingParameters,\n      rtl: getRTL()\n    };\n  }, [theme, isCompactSize]);\n\n  useEffect(() => {\n    if (cssVarsPonyfillNeeded()) {\n      window.CSSVarsPonyfill.cssVars({\n        rootElement: document.head,\n        include: 'style[data-ui5-webcomponents-react-sizes],style[data-jss]',\n        watch: true,\n        silent: true\n      });\n    }\n    if (getRTL()) {\n      document.dir = 'rtl';\n    }\n  }, []);\n\n  return <ReactJssThemeProvider theme={themeContext}>{children}</ReactJssThemeProvider>;\n};\n\nThemeProvider.displayName = 'ThemeProvider';\n\nexport { ThemeProvider };\n"],"names":["GlobalStyleClassesStyles","GlobalStyleClasses","sapScrollBar","backgroundColor","ThemingParameters","sapScrollBar_TrackColor","width","sapScrollBar_Dimension","sapScrollBar_FaceColor","borderRadius","sapScrollBar_Hover_FaceColor","useStyles","createComponentStyles","cssVarsPonyfillNeeded","window","CSSVarsPonyfill","document","querySelector","variables","createElement","setAttribute","innerHTML","cssVariablesStyles","head","appendChild","ThemeProvider","props","children","isCompactSize","body","classList","contains","useI18nBundle","theme","getTheme","themeContext","useMemo","contentDensity","ContentDensity","Compact","Cozy","parameters","rtl","getRTL","useEffect","cssVars","rootElement","include","watch","silent","dir","ReactJssThemeProvider","displayName"],"mappings":";;;;;;;;;;;;AAGO,IAAMA,wBAAwB,GAAG;AACtC,4CACOC,kBAAkB,CAACC,YAD1B,GAC2C;AACvC,4BAAwB;AACtBC,MAAAA,eAAe,EAAEC,iBAAiB,CAACC,uBADb;AAEtBC,MAAAA,KAAK,EAAEF,iBAAiB,CAACG;AAFH,KADe;AAKvC,kCAA8B;AAC5BJ,MAAAA,eAAe,EAAEC,iBAAiB,CAACI,sBADP;AAE5BF,MAAAA,KAAK,EAAEF,iBAAiB,CAACG,sBAFG;AAG5BE,MAAAA,YAAY,EAAE,SAHc;AAI5B,iBAAW;AACTN,QAAAA,eAAe,EAAEC,iBAAiB,CAACM;AAD1B;AAJiB,KALS;AAavC,mCAA+B;AAC7BP,MAAAA,eAAe,EAAEC,iBAAiB,CAACC;AADN;AAbQ,GAD3C;AADsC,CAAjC;;ACSP,IAAMM,SAAS,GAAGC,qBAAqB,CAACZ,wBAAD,CAAvC;;AAUA,IAAMa,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA,SAAM,CAAC,CAACC,MAAM,CAACC,eAAf;AAAA,CAA9B;;AAMA;AACA,IAAI,CAACC,QAAQ,CAACC,aAAT,CAAuB,2CAAvB,CAAL,EAA0E;AACxE,MAAMC,SAAS,GAAGF,QAAQ,CAACG,aAAT,CAAuB,OAAvB,CAAlB;AACAD,EAAAA,SAAS,CAACE,YAAV,CAAuB,oCAAvB,EAA6D,EAA7D;AACAF,EAAAA,SAAS,CAACG,SAAV,GAAsBC,kBAAtB;AACAN,EAAAA,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BN,SAA1B;AACD;AAED;;;;;IAGMO,aAAqC,GAAG,SAAxCA,aAAwC,CAACC,KAAD,EAA+B;AAAA,MACnEC,QADmE,GACtDD,KADsD,CACnEC,QADmE;AAE3E,MAAMC,aAAa,GAAGZ,QAAQ,CAACa,IAAT,CAAcC,SAAd,CAAwBC,QAAxB,CAAiC,6BAAjC,CAAtB;AACApB,EAAAA,SAAS;AACTqB,EAAAA,aAAa,CAAC,0BAAD,CAAb;AAEA,MAAMC,KAAK,GAAGC,QAAQ,EAAtB;AAEA,MAAMC,YAAsB,GAAGC,OAAO,CAAC,YAAM;AAC3C,WAAO;AACLH,MAAAA,KAAK,EAALA,KADK;AAELI,MAAAA,cAAc,EAAET,aAAa,GAAGU,cAAc,CAACC,OAAlB,GAA4BD,cAAc,CAACE,IAFnE;AAGLC,MAAAA,UAAU,EAAErC,iBAHP;AAILsC,MAAAA,GAAG,EAAEC,MAAM;AAJN,KAAP;AAMD,GAPqC,EAOnC,CAACV,KAAD,EAAQL,aAAR,CAPmC,CAAtC;AASAgB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI/B,qBAAqB,EAAzB,EAA6B;AAC3BC,MAAAA,MAAM,CAACC,eAAP,CAAuB8B,OAAvB,CAA+B;AAC7BC,QAAAA,WAAW,EAAE9B,QAAQ,CAACO,IADO;AAE7BwB,QAAAA,OAAO,EAAE,2DAFoB;AAG7BC,QAAAA,KAAK,EAAE,IAHsB;AAI7BC,QAAAA,MAAM,EAAE;AAJqB,OAA/B;AAMD;;AACD,QAAIN,MAAM,EAAV,EAAc;AACZ3B,MAAAA,QAAQ,CAACkC,GAAT,GAAe,KAAf;AACD;AACF,GAZQ,EAYN,EAZM,CAAT;AAcA,sBAAO,oBAACC,eAAD;AAAuB,IAAA,KAAK,EAAEhB;AAA9B,KAA6CR,QAA7C,CAAP;AACD;;AAEDF,aAAa,CAAC2B,WAAd,GAA4B,eAA5B;;;;"}