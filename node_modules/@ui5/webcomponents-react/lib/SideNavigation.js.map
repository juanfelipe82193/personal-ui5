{"version":3,"file":"SideNavigation.js","sources":["../src/components/SideNavigation/SideNavigation.jss.ts","../src/components/SideNavigation/index.tsx"],"sourcesContent":["import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\n\nexport const sideNavigationStyles = {\n  sideNavigation: {\n    height: '100%',\n    borderRight: `0.0625rem solid ${ThemingParameters.sapGroup_ContentBorderColor}`,\n    backgroundColor: ThemingParameters.sapList_Background,\n    display: 'flex',\n    flexDirection: 'column',\n    transition: 'width 500ms'\n  },\n\n  expanded: {\n    width: '15rem'\n  },\n\n  condensed: {\n    width: '3rem',\n    '& $footerItemsSeparator': {\n      marginLeft: '0.5rem',\n      marginRight: '0.5rem'\n    }\n  },\n\n  collapsed: {\n    width: '15rem',\n    marginLeft: '-15.0625rem'\n  },\n\n  footerItemsSeparator: {\n    margin: '0.25rem 0.875rem',\n    height: '0.125rem',\n    backgroundColor: ThemingParameters.sapList_BorderColor\n  }\n};\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/lib/usePassThroughHtmlProps';\nimport { List } from '@ui5/webcomponents-react/lib/List';\nimport { SideNavigationOpenState } from '@ui5/webcomponents-react/lib/SideNavigationOpenState';\nimport React, { Children, cloneElement, FC, forwardRef, ReactNode, Ref, useCallback, useEffect, useState } from 'react';\nimport { createComponentStyles } from '@ui5/webcomponents-react-base/lib/createComponentStyles';\nimport { CommonProps } from '../../interfaces/CommonProps';\nimport { sideNavigationStyles } from './SideNavigation.jss';\n\nexport interface SideNavigationProps extends CommonProps {\n  openState?: SideNavigationOpenState;\n  children?: ReactNode;\n  footerItems?: ReactNode[];\n  selectedId?: string | number;\n  onItemSelect?: (event: CustomEvent<{ selectedItem: HTMLElement; selectedId: string | number }>) => void;\n  onItemClick?: (event: CustomEvent<{ selectedItem: HTMLElement; selectedId: string | number }>) => void;\n  /*\n   * Flag whether to show icons or not. Will only take effect in <code>openState: Expanded</code>\n   */\n  noIcons?: boolean;\n}\n\nlet lastFiredSelection = '';\n\nconst useStyles = createComponentStyles(sideNavigationStyles, {\n  name: 'SideNavigation'\n});\n\n/**\n * <code>import { SideNavigation } from '@ui5/webcomponents-react/lib/SideNavigation';</code>\n */\nconst SideNavigation: FC<SideNavigationProps> = forwardRef((props: SideNavigationProps, ref: Ref<HTMLDivElement>) => {\n  const {\n    children,\n    openState,\n    footerItems,\n    selectedId,\n    onItemSelect,\n    onItemClick,\n    noIcons,\n    style,\n    className,\n    tooltip\n  } = props;\n\n  const classes = useStyles();\n\n  const [internalSelectedId, setInternalSelectedId] = useState(selectedId);\n\n  useEffect(() => {\n    setInternalSelectedId(selectedId);\n  }, [selectedId, setInternalSelectedId]);\n\n  const sideNavigationClasses = StyleClassHelper.of(classes.sideNavigation);\n\n  switch (openState) {\n    case SideNavigationOpenState.Expanded: {\n      sideNavigationClasses.put(classes.expanded);\n      break;\n    }\n    case SideNavigationOpenState.Condensed: {\n      sideNavigationClasses.put(classes.condensed);\n      break;\n    }\n    case SideNavigationOpenState.Collapsed: {\n      sideNavigationClasses.put(classes.collapsed);\n      break;\n    }\n  }\n\n  if (className) {\n    sideNavigationClasses.put(className);\n  }\n\n  const onListItemSelected = useCallback(\n    (e) => {\n      const listItem = e.detail.item;\n      onItemClick(enrichEventWithDetails(e, { selectedItem: listItem, selectedId: listItem.dataset.id }));\n\n      if (lastFiredSelection === listItem.dataset.id) {\n        return;\n      }\n      setInternalSelectedId(listItem.dataset.id);\n\n      onItemSelect(\n        enrichEventWithDetails(e, {\n          selectedItem: listItem,\n          selectedId: listItem.dataset.id\n        })\n      );\n      lastFiredSelection = listItem.dataset.id;\n    },\n    [onItemSelect, onItemClick, setInternalSelectedId]\n  );\n\n  const passThroughProps = usePassThroughHtmlProps(props, ['onItemSelect', 'onItemClick']);\n\n  return (\n    <div ref={ref} className={sideNavigationClasses.valueOf()} style={style} title={tooltip} {...passThroughProps}>\n      <List onItemClick={onListItemSelected}>\n        {Children.map(children, (child: any) =>\n          cloneElement(child, {\n            openState: openState,\n            selectedId: internalSelectedId,\n            noIcons,\n            onListItemSelected\n          })\n        )}\n      </List>\n      <span style={{ flexGrow: 1 }} />\n      {footerItems.length > 0 && <span className={classes.footerItemsSeparator} />}\n      {footerItems && (\n        <List onItemClick={onListItemSelected}>\n          {footerItems.map((item: any, index) =>\n            cloneElement(item, {\n              openState: openState,\n              key: index,\n              selectedId: internalSelectedId,\n              noIcons,\n              onListItemSelected\n            })\n          )}\n        </List>\n      )}\n    </div>\n  );\n});\n\nSideNavigation.displayName = 'SideNavigation';\n\nSideNavigation.defaultProps = {\n  openState: SideNavigationOpenState.Expanded,\n  footerItems: [],\n  selectedId: null,\n  onItemClick: () => {},\n  onItemSelect: () => {}\n};\n\nexport { SideNavigation };\n"],"names":["sideNavigationStyles","sideNavigation","height","borderRight","ThemingParameters","sapGroup_ContentBorderColor","backgroundColor","sapList_Background","display","flexDirection","transition","expanded","width","condensed","marginLeft","marginRight","collapsed","footerItemsSeparator","margin","sapList_BorderColor","lastFiredSelection","useStyles","createComponentStyles","name","SideNavigation","forwardRef","props","ref","children","openState","footerItems","selectedId","onItemSelect","onItemClick","noIcons","style","className","tooltip","classes","useState","internalSelectedId","setInternalSelectedId","useEffect","sideNavigationClasses","StyleClassHelper","of","SideNavigationOpenState","Expanded","put","Condensed","Collapsed","onListItemSelected","useCallback","e","listItem","detail","item","enrichEventWithDetails","selectedItem","dataset","id","passThroughProps","usePassThroughHtmlProps","valueOf","Children","map","child","cloneElement","flexGrow","length","index","key","displayName","defaultProps"],"mappings":"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"}