{"version":3,"file":"FilterItem.js","sources":["../src/components/FilterItem/FilterItem.jss.ts","../src/components/FilterItem/index.tsx"],"sourcesContent":["const styles = {\n  filterItem: {\n    minWidth: '10rem',\n    height: 'fit-content',\n    marginRight: '1rem',\n    marginBottom: '1rem'\n  },\n  innerFilterItemContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'start'\n  },\n  loadingContainer: {\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'center'\n  }\n};\n\nexport default styles;\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/lib/usePassThroughHtmlProps';\nimport { BusyIndicator } from '@ui5/webcomponents-react/lib/BusyIndicator';\nimport { BusyIndicatorSize } from '@ui5/webcomponents-react/lib/BusyIndicatorSize';\nimport { FilterType } from '@ui5/webcomponents-react/lib/FilterType';\nimport { Input } from '@ui5/webcomponents-react/lib/Input';\nimport { Label } from '@ui5/webcomponents-react/lib/Label';\nimport { MultiComboBox } from '@ui5/webcomponents-react/lib/MultiComboBox';\nimport { Option } from '@ui5/webcomponents-react/lib/Option';\nimport { Select } from '@ui5/webcomponents-react/lib/Select';\nimport { StandardListItem } from '@ui5/webcomponents-react/lib/StandardListItem';\nimport React, { FC, forwardRef, ReactNode, RefObject, useMemo } from 'react';\nimport { createComponentStyles } from '@ui5/webcomponents-react-base/lib/createComponentStyles';\nimport { CommonProps } from '../../interfaces/CommonProps';\nimport styles from './FilterItem.jss';\n\nexport interface FilterItemPropTypes extends CommonProps {\n  placeholder?: string;\n  renderText?: (item?: any) => JSX.Element;\n  type?: FilterType;\n  label?: string;\n  filterItems?: any[];\n  onChange?: (event: CustomEvent<{ selectedItem?: unknown; selectedItems?: unknown }>) => void;\n  loading?: boolean;\n  children?: ReactNode;\n  valueParamName?: string;\n  changeEventName?: string;\n}\n\nconst useStyles = createComponentStyles(styles, { name: 'FilterItem' });\n\n/**\n * <code>import { FilterItem } from '@ui5/webcomponents-react/lib/FilterItem';</code>\n */\nconst FilterItem: FC<FilterItemPropTypes> = forwardRef((props: FilterItemPropTypes, ref: RefObject<HTMLDivElement>) => {\n  const {\n    filterItems,\n    onChange,\n    type,\n    placeholder,\n    children,\n    loading,\n    changeEventName,\n    valueParamName,\n    label,\n    style,\n    tooltip\n  } = props as FilterItemPropTypes;\n  const classes = useStyles();\n\n  function getItemByKey(key) {\n    return filterItems.filter((item) => item.key === key)[0];\n  }\n\n  function onSelect(e) {\n    const selectedKey = e.detail.selectedOption.getAttribute('data-key');\n    const item = getItemByKey(selectedKey) || filterItems[0];\n    onChange(enrichEventWithDetails(e, { selectedItem: item }));\n  }\n\n  function onMultiCbChange(e) {\n    const selectedItems = e.detail.items;\n    onChange(\n      enrichEventWithDetails(e, {\n        selectedItems: selectedItems.map((item) => {\n          return getItemByKey(item.getAttribute('data-key'));\n        })\n      })\n    );\n  }\n\n  const filterComponent = useMemo(() => {\n    if (loading) {\n      return (\n        <div className={classes.loadingContainer}>\n          <BusyIndicator\n            active\n            size={BusyIndicatorSize.Medium}\n            style={{ backgroundColor: 'transparent', width: '80px' }}\n          />\n        </div>\n      );\n    }\n\n    switch (type) {\n      case FilterType.Default:\n        return <Input placeholder={placeholder} onChange={onSelect} style={{ width: '100%' }} />;\n      case FilterType.MultiSelect:\n        return (\n          <MultiComboBox onSelectionChange={onMultiCbChange}>\n            {filterItems.map((item) => (\n              <StandardListItem data-key={item.key} key={item.key}>\n                {item.text}\n              </StandardListItem>\n            ))}\n          </MultiComboBox>\n        );\n      case FilterType.Select:\n        return (\n          <Select onChange={onSelect} style={{ width: '100%' }}>\n            {filterItems.map((item) => (\n              <Option key={item.key} data-key={item.key}>\n                {item.text}\n              </Option>\n            ))}\n          </Select>\n        );\n      case FilterType.Custom:\n        return (\n          <div>\n            {React.Children.map(children, (child) => {\n              return React.cloneElement(child as React.ReactElement<any>, {\n                // [changeEventName]: (event) => {\n                //   onSelect(event);\n                //   // @ts-ignore\n                //   if (child.props.hasOwnProperty(changeEventName)) {\n                //     // @ts-ignore\n                //     child.props[changeEventName](event);\n                //   }\n                // },\n                style: { width: '100%' }\n              });\n            })}\n          </div>\n        );\n    }\n  }, [valueParamName, changeEventName, filterItems, loading, type, children]);\n\n  const filterItemClasses = StyleClassHelper.of(classes.filterItem);\n\n  const passThroughProps = usePassThroughHtmlProps(props, ['onChange']);\n\n  return (\n    <div ref={ref} className={filterItemClasses.toString()} style={style} title={tooltip} {...passThroughProps}>\n      <div className={classes.innerFilterItemContainer}>\n        <Label>{label}</Label>\n        {filterComponent}\n      </div>\n    </div>\n  );\n});\n\nFilterItem.defaultProps = {\n  placeholder: '',\n  renderText: (item) => (item && item.text) || '',\n  type: FilterType.Default,\n  filterItems: [],\n  label: '',\n  onChange: () => null,\n  loading: false\n};\n\nFilterItem.displayName = 'FilterItem';\n\nexport { FilterItem };\n"],"names":["styles","filterItem","minWidth","height","marginRight","marginBottom","innerFilterItemContainer","display","flexDirection","justifyContent","loadingContainer","width","useStyles","createComponentStyles","name","FilterItem","forwardRef","props","ref","filterItems","onChange","type","placeholder","children","loading","changeEventName","valueParamName","label","style","tooltip","classes","getItemByKey","key","filter","item","onSelect","e","selectedKey","detail","selectedOption","getAttribute","enrichEventWithDetails","selectedItem","onMultiCbChange","selectedItems","items","map","filterComponent","useMemo","BusyIndicatorSize","Medium","backgroundColor","FilterType","Default","MultiSelect","text","Select","Custom","React","Children","child","cloneElement","filterItemClasses","StyleClassHelper","of","passThroughProps","usePassThroughHtmlProps","toString","defaultProps","renderText","displayName"],"mappings":"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"}