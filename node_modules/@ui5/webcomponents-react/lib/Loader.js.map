{"version":3,"file":"Loader.js","sources":["../src/components/Loader/Loader.jss.ts","../src/components/Loader/index.tsx"],"sourcesContent":["import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\n\n//todo use theme colors when available\nexport const styles = {\n  '@keyframes scroll': {\n    '0%': { backgroundPosition: '-100% 0' },\n    '100%': { backgroundPosition: '200% 0' }\n  },\n  loader: {\n    height: '0.25rem',\n    width: '100%',\n    '&$loaderDeterminate': {\n      background: `linear-gradient(to right, ${ThemingParameters.sapContent_IconColor}, ${ThemingParameters.sapContent_IconColor})`,\n      backgroundColor: 'rgba(8, 84, 160, 0.15)',\n      backgroundRepeat: 'repeat-y'\n    },\n    '&$loaderIndeterminate': {\n      background: `linear-gradient(\n      to right,\n      rgba(8, 84, 160, 0) 0px,\n      rgba(8, 84, 160, 1) calc(50% - 2rem),\n      ${ThemingParameters.sapContent_IconColor} calc(50% - 2rem),\n      ${ThemingParameters.sapContent_IconColor} calc(50% + 2rem),\n      rgba(8, 84, 160, 1) calc(50% + 2rem),\n      rgba(8, 84, 160, 0) 100%\n    )`,\n      backgroundColor: 'rgba(8, 84, 160, 0.15)',\n      backgroundSize: '40%',\n      backgroundRepeat: 'repeat-y',\n      animation: '$scroll 1.2s linear infinite'\n    }\n  },\n  loaderDeterminate: {},\n  loaderIndeterminate: {}\n};\n","import { createComponentStyles } from '@ui5/webcomponents-react-base/lib/createComponentStyles';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/lib/usePassThroughHtmlProps';\nimport { PLEASE_WAIT } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { LoaderType } from '@ui5/webcomponents-react/lib/LoaderType';\nimport React, { CSSProperties, FC, forwardRef, RefObject, useEffect, useMemo, useState } from 'react';\nimport { CommonProps } from '../../interfaces/CommonProps';\nimport { styles } from './Loader.jss';\n\nexport interface LoaderProps extends CommonProps {\n  /*\n   * Delay in ms until the Loader will be displayed\n   */\n  delay?: number;\n  type?: LoaderType;\n  progress?: CSSProperties['width'];\n}\n\nconst useStyles = createComponentStyles(styles, { name: 'Loader' });\n\n/**\n * <code>import { Loader } from '@ui5/webcomponents-react/lib/Loader';</code>\n */\nconst Loader: FC<LoaderProps> = forwardRef((props: LoaderProps, ref: RefObject<HTMLDivElement>) => {\n  const { className, type, progress, tooltip, slot, style, delay } = props;\n  const classes = useStyles(props);\n  const [isVisible, setIsVisible] = useState(delay === 0);\n\n  const loaderClasses = StyleClassHelper.of(classes.loader);\n  if (className) {\n    loaderClasses.put(className);\n  }\n  loaderClasses.put(classes[`loader${type}`]);\n\n  const inlineStyles = useMemo(() => {\n    const backgroundSize = type !== LoaderType.Determinate ? '40%' : progress;\n    return {\n      ...style,\n      backgroundSize\n    };\n  }, [progress, style, type]);\n\n  useEffect(() => {\n    let timeout;\n    if (delay > 0) {\n      timeout = setTimeout(() => {\n        setIsVisible(true);\n      }, delay);\n    }\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  const passThroughProps = usePassThroughHtmlProps(props);\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return (\n    <div\n      ref={ref}\n      className={loaderClasses.valueOf()}\n      data-component-name=\"Loader\"\n      aria-busy=\"true\"\n      role=\"progressbar\"\n      title={tooltip || i18nBundle.getText(PLEASE_WAIT)}\n      slot={slot}\n      style={inlineStyles}\n      {...passThroughProps}\n    />\n  );\n});\n\nLoader.defaultProps = {\n  type: LoaderType.Indeterminate,\n  progress: '0px',\n  delay: 0\n};\n\nLoader.displayName = 'Loader';\n\nexport { Loader };\n"],"names":["styles","backgroundPosition","loader","height","width","background","ThemingParameters","sapContent_IconColor","backgroundColor","backgroundRepeat","backgroundSize","animation","loaderDeterminate","loaderIndeterminate","useStyles","createComponentStyles","name","Loader","forwardRef","props","ref","className","type","progress","tooltip","slot","style","delay","classes","useState","isVisible","setIsVisible","loaderClasses","StyleClassHelper","of","put","inlineStyles","useMemo","LoaderType","Determinate","useEffect","timeout","setTimeout","clearTimeout","passThroughProps","usePassThroughHtmlProps","i18nBundle","useI18nBundle","valueOf","getText","PLEASE_WAIT","defaultProps","Indeterminate","displayName"],"mappings":"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"}