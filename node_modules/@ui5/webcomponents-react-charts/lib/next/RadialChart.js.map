{"version":3,"file":"RadialChart.js","sources":["../../src/components/RadialChart/RadialChart.tsx"],"sourcesContent":["import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { ChartContainer } from '@ui5/webcomponents-react-charts/lib/next/ChartContainer';\nimport { PieChartPlaceholder } from '@ui5/webcomponents-react-charts/lib/PieChartPlaceholder';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport React, { CSSProperties, FC, forwardRef, Ref, useCallback, useMemo } from 'react';\nimport { PolarAngleAxis, RadialBar, RadialBarChart } from 'recharts';\n\nexport interface RadialChartProps extends CommonProps {\n  value?: number;\n  maxValue?: number;\n  displayValue?: number | string;\n  color?: CSSProperties['color'];\n  onDataPointClick?: (event: CustomEvent<{ value: unknown; payload: unknown; dataIndex: number }>) => void;\n}\n\nconst radialChartMargin = { right: 30, left: 30, top: 30, bottom: 30 };\nconst radialBarBackground = { fill: ThemingParameters.sapContent_ImagePlaceholderBackground };\nconst radialBarLabelStyle = { fontSize: ThemingParameters.sapFontHeader3Size, fill: ThemingParameters.sapTextColor };\n\n/**\n * <code>import { RadialChart } from '@ui5/webcomponents-react-charts/lib/next/RadialChart';</code>\n */\nconst RadialChart: FC<RadialChartProps> = forwardRef((props: RadialChartProps, ref: Ref<any>) => {\n  const { maxValue = 100, value, displayValue, onDataPointClick, color, style, className, tooltip, slot } = props;\n\n  const range = useMemo(() => {\n    return [0, maxValue];\n  }, [maxValue]);\n\n  const dataset = useMemo(() => [{ value }], [value]);\n\n  const onDataPointClickInternal = useCallback(\n    (payload, i, event) => {\n      if (payload && onDataPointClick) {\n        onDataPointClick(\n          enrichEventWithDetails(event, {\n            value: payload.value,\n            payload: payload.payload,\n            dataIndex: i\n          })\n        );\n      }\n    },\n    [onDataPointClick]\n  );\n\n  return (\n    <ChartContainer\n      dataset={dataset}\n      ref={ref}\n      Placeholder={PieChartPlaceholder}\n      style={style}\n      className={className}\n      tooltip={tooltip}\n      slot={slot}\n      resizeDebounce={250}\n    >\n      <RadialBarChart\n        margin={radialChartMargin}\n        innerRadius=\"90%\"\n        outerRadius=\"100%\"\n        barSize={10}\n        data={dataset}\n        cx=\"50%\"\n        cy=\"50%\"\n        startAngle={90}\n        endAngle={-270}\n      >\n        <PolarAngleAxis type=\"number\" domain={range} tick={false} />\n        <RadialBar\n          background={radialBarBackground}\n          dataKey=\"value\"\n          cornerRadius=\"50%\"\n          fill={color ?? ThemingParameters.sapChart_OrderedColor_1}\n          onClick={onDataPointClickInternal}\n        />\n        <text\n          x=\"50%\"\n          y=\"50%\"\n          textAnchor=\"middle\"\n          dominantBaseline=\"middle\"\n          className=\"progress-label\"\n          style={radialBarLabelStyle}\n        >\n          {displayValue}\n        </text>\n      </RadialBarChart>\n    </ChartContainer>\n  );\n});\n\nRadialChart.displayName = 'RadialChart';\n\nexport { RadialChart };\n"],"names":["radialChartMargin","right","left","top","bottom","radialBarBackground","fill","ThemingParameters","sapContent_ImagePlaceholderBackground","radialBarLabelStyle","fontSize","sapFontHeader3Size","sapTextColor","RadialChart","forwardRef","props","ref","maxValue","value","displayValue","onDataPointClick","color","style","className","tooltip","slot","range","useMemo","dataset","onDataPointClickInternal","useCallback","payload","i","event","enrichEventWithDetails","dataIndex","PieChartPlaceholder","sapChart_OrderedColor_1","displayName"],"mappings":"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"}