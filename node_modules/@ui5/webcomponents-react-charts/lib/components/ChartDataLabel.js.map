{"version":3,"file":"ChartDataLabel.js","sources":["../../src/internal/ChartDataLabel.tsx"],"sourcesContent":["import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { getTextWidth } from '@ui5/webcomponents-react-charts/lib/Utils';\nimport React, { FC, createElement } from 'react';\nimport { IChartMeasure } from '../interfaces/IChartMeasure';\nimport { Label } from 'recharts';\n\ninterface CustomDataLabelProps {\n  config: IChartMeasure;\n  viewBox?: any;\n  chartType: 'bar' | 'column' | 'line' | 'radar' | 'pie' | 'area';\n  position?: string;\n  value?: any;\n  children?: any;\n}\n\nexport const ChartDataLabel: FC<CustomDataLabelProps> = (props: CustomDataLabelProps) => {\n  const { config, chartType, viewBox } = props;\n\n  if (config.hideDataLabel) {\n    return null;\n  }\n\n  if (config.DataLabel) {\n    return createElement(config.DataLabel, props);\n  }\n\n  const formattedLabel = config.formatter(props.value ?? props.children);\n  if (chartType === 'bar' || chartType === 'column') {\n    if (viewBox.width < getTextWidth(formattedLabel)) {\n      return null;\n    }\n    if (viewBox.height < 12) {\n      return null;\n    }\n  }\n\n  let fill = ThemingParameters.sapContent_ContrastTextColor;\n  if (['area', 'line', 'radar'].includes(chartType)) {\n    fill = ThemingParameters.sapTextColor; // label is displayed outside of the colored element\n  }\n\n  return <Label fill={fill} viewBox={viewBox} {...(props as any)} content={undefined} value={formattedLabel} />;\n};\n"],"names":["ChartDataLabel","props","config","chartType","viewBox","hideDataLabel","DataLabel","createElement","formattedLabel","formatter","value","children","width","getTextWidth","height","fill","ThemingParameters","sapContent_ContrastTextColor","includes","sapTextColor","undefined"],"mappings":";;;;;;IAeaA,cAAwC,GAAG,SAA3CA,cAA2C,CAACC,KAAD,EAAiC;AAAA;;AAAA,MAC/EC,MAD+E,GAChDD,KADgD,CAC/EC,MAD+E;AAAA,MACvEC,SADuE,GAChDF,KADgD,CACvEE,SADuE;AAAA,MAC5DC,OAD4D,GAChDH,KADgD,CAC5DG,OAD4D;;AAGvF,MAAIF,MAAM,CAACG,aAAX,EAA0B;AACxB,WAAO,IAAP;AACD;;AAED,MAAIH,MAAM,CAACI,SAAX,EAAsB;AACpB,WAAOC,aAAa,CAACL,MAAM,CAACI,SAAR,EAAmBL,KAAnB,CAApB;AACD;;AAED,MAAMO,cAAc,GAAGN,MAAM,CAACO,SAAP,iBAAiBR,KAAK,CAACS,KAAvB,uDAAgCT,KAAK,CAACU,QAAtC,CAAvB;;AACA,MAAIR,SAAS,KAAK,KAAd,IAAuBA,SAAS,KAAK,QAAzC,EAAmD;AACjD,QAAIC,OAAO,CAACQ,KAAR,GAAgBC,YAAY,CAACL,cAAD,CAAhC,EAAkD;AAChD,aAAO,IAAP;AACD;;AACD,QAAIJ,OAAO,CAACU,MAAR,GAAiB,EAArB,EAAyB;AACvB,aAAO,IAAP;AACD;AACF;;AAED,MAAIC,IAAI,GAAGC,iBAAiB,CAACC,4BAA7B;;AACA,MAAI,CAAC,MAAD,EAAS,MAAT,EAAiB,OAAjB,EAA0BC,QAA1B,CAAmCf,SAAnC,CAAJ,EAAmD;AACjDY,IAAAA,IAAI,GAAGC,iBAAiB,CAACG,YAAzB,CADiD;AAElD;;AAED,sBAAO,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEJ,IAAb;AAAmB,IAAA,OAAO,EAAEX;AAA5B,KAA0CH,KAA1C;AAAyD,IAAA,OAAO,EAAEmB,SAAlE;AAA6E,IAAA,KAAK,EAAEZ;AAApF,KAAP;AACD;;;;"}