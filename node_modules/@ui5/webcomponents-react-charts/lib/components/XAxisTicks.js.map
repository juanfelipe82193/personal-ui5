{"version":3,"file":"XAxisTicks.js","sources":["../../src/internal/XAxisTicks.tsx"],"sourcesContent":["import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { getTextWidth, truncateLongLabel } from '@ui5/webcomponents-react-charts/lib/Utils';\nimport React, { FC } from 'react';\nimport { IChartMeasure } from '../interfaces/IChartMeasure';\n\ninterface XAxisTicksProps {\n  visibleTicksCount?: number;\n  width?: number;\n  x?: number;\n  y?: number;\n  payload?: any;\n  config: IChartMeasure;\n}\n\nexport const XAxisTicks: FC<XAxisTicksProps> = (props: XAxisTicksProps) => {\n  const { x, y, payload, config, visibleTicksCount, width } = props;\n\n  const bandWidth = width / visibleTicksCount;\n  const shouldRotate = bandWidth <= 100;\n\n  const formattedValue = config.formatter(payload.value);\n  let textToDisplay = formattedValue;\n  if (shouldRotate) {\n    textToDisplay = truncateLongLabel(formattedValue, 11);\n  } else if (getTextWidth(formattedValue) > bandWidth) {\n    for (let i = `${formattedValue}`.length; i > 0; i--) {\n      textToDisplay = truncateLongLabel(formattedValue, i);\n      if (getTextWidth(textToDisplay) <= bandWidth) {\n        break;\n      }\n    }\n  }\n\n  return (\n    <g transform={`translate(${x},${y + 10})`}>\n      <text\n        fill={ThemingParameters.sapContent_LabelColor}\n        transform={shouldRotate ? 'rotate(-35)' : undefined}\n        textAnchor={shouldRotate ? 'end' : 'middle'}\n      >\n        {textToDisplay}\n      </text>\n    </g>\n  );\n};\n"],"names":["XAxisTicks","props","x","y","payload","config","visibleTicksCount","width","bandWidth","shouldRotate","formattedValue","formatter","value","textToDisplay","truncateLongLabel","getTextWidth","i","length","ThemingParameters","sapContent_LabelColor","undefined"],"mappings":";;;;IAcaA,UAA+B,GAAG,SAAlCA,UAAkC,CAACC,KAAD,EAA4B;AAAA,MACjEC,CADiE,GACbD,KADa,CACjEC,CADiE;AAAA,MAC9DC,CAD8D,GACbF,KADa,CAC9DE,CAD8D;AAAA,MAC3DC,OAD2D,GACbH,KADa,CAC3DG,OAD2D;AAAA,MAClDC,MADkD,GACbJ,KADa,CAClDI,MADkD;AAAA,MAC1CC,iBAD0C,GACbL,KADa,CAC1CK,iBAD0C;AAAA,MACvBC,KADuB,GACbN,KADa,CACvBM,KADuB;AAGzE,MAAMC,SAAS,GAAGD,KAAK,GAAGD,iBAA1B;AACA,MAAMG,YAAY,GAAGD,SAAS,IAAI,GAAlC;AAEA,MAAME,cAAc,GAAGL,MAAM,CAACM,SAAP,CAAiBP,OAAO,CAACQ,KAAzB,CAAvB;AACA,MAAIC,aAAa,GAAGH,cAApB;;AACA,MAAID,YAAJ,EAAkB;AAChBI,IAAAA,aAAa,GAAGC,iBAAiB,CAACJ,cAAD,EAAiB,EAAjB,CAAjC;AACD,GAFD,MAEO,IAAIK,YAAY,CAACL,cAAD,CAAZ,GAA+BF,SAAnC,EAA8C;AACnD,SAAK,IAAIQ,CAAC,GAAG,UAAGN,cAAH,EAAoBO,MAAjC,EAAyCD,CAAC,GAAG,CAA7C,EAAgDA,CAAC,EAAjD,EAAqD;AACnDH,MAAAA,aAAa,GAAGC,iBAAiB,CAACJ,cAAD,EAAiBM,CAAjB,CAAjC;;AACA,UAAID,YAAY,CAACF,aAAD,CAAZ,IAA+BL,SAAnC,EAA8C;AAC5C;AACD;AACF;AACF;;AAED,sBACE;AAAG,IAAA,SAAS,sBAAeN,CAAf,cAAoBC,CAAC,GAAG,EAAxB;AAAZ,kBACE;AACE,IAAA,IAAI,EAAEe,iBAAiB,CAACC,qBAD1B;AAEE,IAAA,SAAS,EAAEV,YAAY,GAAG,aAAH,GAAmBW,SAF5C;AAGE,IAAA,UAAU,EAAEX,YAAY,GAAG,KAAH,GAAW;AAHrC,KAKGI,aALH,CADF,CADF;AAWD;;;;"}