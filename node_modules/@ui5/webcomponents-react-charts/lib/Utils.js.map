{"version":3,"file":"Utils.js","sources":["../src/util/Utils.ts"],"sourcesContent":["let canvas;\nlet textHeight;\n\nexport const getTextWidth = (text) => {\n  const font = `normal 12pt \"72\",\"72full\",Arial,Helvetica,sans-serif`;\n  // re-use canvas object for better performance\n  canvas = canvas || (canvas = document.createElement('canvas'));\n  const context = canvas.getContext('2d');\n  context.font = font;\n  const metrics = context.measureText(text);\n  return metrics.width;\n};\n\nexport const getTextHeight = (text = 'M', font = `normal 12pt \"72\",\"72full\",Arial,Helvetica,sans-serif`) => {\n  // re-use canvas object for better performance\n  canvas = canvas || (canvas = document.createElement('canvas'));\n  const context = canvas.getContext('2d');\n  context.font = font;\n  const metrics = context.measureText(text); // should be around 90% accurate...\n  return textHeight || (textHeight = metrics.width);\n};\n\nexport const truncateLongLabel = (value: string, length = 13) => {\n  if (value?.length > length) {\n    return `${value.slice(0, length - 2)}...`;\n  }\n  return value;\n};\n"],"names":["canvas","textHeight","getTextWidth","text","font","document","createElement","context","getContext","metrics","measureText","width","getTextHeight","truncateLongLabel","value","length","slice"],"mappings":"AAAA,IAAIA,MAAJ;AACA,IAAIC,UAAJ;IAEaC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAU;AACpC,MAAMC,IAAI,6DAAV,CADoC;;AAGpCJ,EAAAA,MAAM,GAAGA,MAAM,KAAKA,MAAM,GAAGK,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd,CAAf;AACA,MAAMC,OAAO,GAAGP,MAAM,CAACQ,UAAP,CAAkB,IAAlB,CAAhB;AACAD,EAAAA,OAAO,CAACH,IAAR,GAAeA,IAAf;AACA,MAAMK,OAAO,GAAGF,OAAO,CAACG,WAAR,CAAoBP,IAApB,CAAhB;AACA,SAAOM,OAAO,CAACE,KAAf;AACD;IAEYC,aAAa,GAAG,SAAhBA,aAAgB,GAA+E;AAAA,MAA9ET,IAA8E,uEAAvE,GAAuE;AAAA,MAAlEC,IAAkE;AAC1G;AACAJ,EAAAA,MAAM,GAAGA,MAAM,KAAKA,MAAM,GAAGK,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd,CAAf;AACA,MAAMC,OAAO,GAAGP,MAAM,CAACQ,UAAP,CAAkB,IAAlB,CAAhB;AACAD,EAAAA,OAAO,CAACH,IAAR,GAAeA,IAAf;AACA,MAAMK,OAAO,GAAGF,OAAO,CAACG,WAAR,CAAoBP,IAApB,CAAhB,CAL0G;;AAM1G,SAAOF,UAAU,KAAKA,UAAU,GAAGQ,OAAO,CAACE,KAA1B,CAAjB;AACD;IAEYE,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAAgC;AAAA,MAAhBC,MAAgB,uEAAP,EAAO;;AAC/D,MAAI,CAAAD,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEC,MAAP,IAAgBA,MAApB,EAA4B;AAC1B,qBAAUD,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAeD,MAAM,GAAG,CAAxB,CAAV;AACD;;AACD,SAAOD,KAAP;AACD;;;;"}