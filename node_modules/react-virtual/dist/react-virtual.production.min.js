!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactVirtual={},e.React)}(this,(function(e,t){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var n="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;var u,o=["bottom","height","left","right","top","width"],c=new Map,a=function e(){var t=[];c.forEach((function(e,r){var n,u,c=r.getBoundingClientRect();n=c,u=e.rect,void 0===n&&(n={}),void 0===u&&(u={}),o.some((function(e){return n[e]!==u[e]}))&&(e.rect=c,t.push(e))})),t.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),u=window.requestAnimationFrame(e)};function s(e){var r=t.useState(e.current),o=r[0],s=r[1],i=t.useState(null),f=i[0],l=i[1],d=t.useRef(!1);return n((function(){e.current!==o&&s(e.current)})),n((function(){o&&!d.current&&(d.current=!0,l(o.getBoundingClientRect()))}),[o]),t.useEffect((function(){var e,t,r;return o&&(t=o,r=l,e={observe:function(){var e=0===c.size;c.has(t)?c.get(t).callbacks.push(r):c.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[r]}),e&&a()},unobserve:function(){var e=c.get(t);if(e){var n=e.callbacks.indexOf(r);n>=0&&e.callbacks.splice(n,1),e.callbacks.length||c.delete(t),c.size||cancelAnimationFrame(u)}}}),e&&e.observe(),function(){e&&e.unobserve()}}),[o]),f}e.useVirtual=function(e){var u,o,c=e.size,a=void 0===c?0:c,i=e.estimateSize,f=e.overscan,l=void 0===f?0:f,d=e.parentRef,v=e.horizontal,m=e.scrollToFn,p=v?"width":"height",h=v?"scrollLeft":"scrollTop",g=t.useCallback((function(e){d.current[h]=e}),[d,h]);m=m||g;var b=(s(d)||((u={})[p]=0,u))[p],O=t.useState(0),z=O[0],S=O[1];!function(e,r){var u=t.useState(e.current),o=u[0],c=u[1],a=t.useRef();a.current=r,n((function(){e.current!==o&&c(e.current)})),n((function(){o&&a.current({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop})}),[o]),t.useEffect((function(){var e=function(e){a.current({scrollLeft:e.target.scrollLeft,scrollTop:e.target.scrollTop})};if(o)return o.addEventListener("scroll",e,{capture:!1,passive:!0}),function(){o.removeEventListener("scroll",e)}}),[o])}(d,(function(e){var t=e[h];S(t)}));var M=z+b,R=t.useState({}),y=R[0],x=R[1],k=t.useRef();n((function(){k.current&&(i||a)&&x({}),k.current=!0}),[i,a]);var w=t.useMemo((function(){for(var e=[],t=[],n=0,u=a-1;n<a;n++,u--){var o,c=(null==(o=e[n-1])?void 0:o.end)||0,s=y[n]||i(n),f={index:n,start:c,size:s,end:c+s};e[n]=r({},f),t[u]=r({},f)}return{measurements:e,reversedMeasurements:t}}),[i,y,a]),E=w.measurements,L=w.reversedMeasurements,T=(null==(o=E[a-1])?void 0:o.end)||0,C=t.useMemo((function(){return E.find((function(e){return e.end>=z}))}),[E,z]),P=t.useMemo((function(){return L.find((function(e){return e.start<=M}))}),[E,M]),j=C?C.index:0,B=P?P.index:0;j=Math.max(j-1-l,0),B=Math.min(B+1+l,a-1);var F=t.useMemo((function(){for(var e=[],t=function(t){var n=r(r({},E[t]),{},{measureRef:function(e){if(e){var u=e.getBoundingClientRect()[p];u!==n.size&&x((function(e){var n;return r(r({},e),{},((n={})[t]=u,n))}))}}});e.push(n)},n=j;n<=B;n++)t(n);return e}),[j,B,E,p]),q=t.useRef();q.current={measurements:E,outerSize:b,scrollOffset:z,scrollOffsetPlusOuterSize:M,totalSize:T};var A=t.useCallback((function(e,t){var r=(void 0===t?{}:t).align,n=void 0===r?"start":r,u=q.current,o=u.outerSize,c=u.scrollOffset,a=u.scrollOffsetPlusOuterSize,s=u.totalSize;e=Math.max(0,Math.min(e,s-o)),"auto"===n&&(n=e<=c?"start":e>=a?"end":"start"),"start"===n?m(e):"end"===n?m(e-o):"center"===n&&m(e-o/2)}),[m]),I=t.useCallback((function(e,t){var r=(void 0===t?{}:t).align,n=void 0===r?"auto":r,u=q.current,o=u.measurements,c=u.scrollOffset,a=u.scrollOffsetPlusOuterSize,s=o[e];if(s){if("auto"===n)if(s.end>=a)n="end";else{if(!(s.start<=c))return;n="start"}var i="center"===n?s.start+s.size/2:"end"===n?s.end:s.start;A(i,{align:n})}}),[A]);return{virtualItems:F,totalSize:T,scrollToOffset:A,scrollToIndex:I}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-virtual.production.min.js.map
